/*! For license information please see vendor~2a6c62b0-c19230f07265892a0adc.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/1el":function(i,r,o){(function(r){!function(r,o){i.exports=o()}(0,(function(){"use strict";var i=function(){if("undefined"!=typeof Map)return Map;function getIndex(i,r){var o=-1;return i.some((function(i,s){return i[0]===r&&(o=s,!0)})),o}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(i){var r=getIndex(this.__entries__,i),o=this.__entries__[r];return o&&o[1]},class_1.prototype.set=function(i,r){var o=getIndex(this.__entries__,i);~o?this.__entries__[o][1]=r:this.__entries__.push([i,r])},class_1.prototype.delete=function(i){var r=this.__entries__,o=getIndex(r,i);~o&&r.splice(o,1)},class_1.prototype.has=function(i){return!!~getIndex(this.__entries__,i)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(i,r){void 0===r&&(r=null);for(var o=0,s=this.__entries__;o<s.length;o++){var p=s[o];i.call(r,p[1],p[0])}},class_1}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=function(){return void 0!==r&&r.Math===Math?r:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),p=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(i){return setTimeout((function(){return i(Date.now())}),1e3/60)}}();var m=["top","right","bottom","left","width","height","size","weight"],v="undefined"!=typeof MutationObserver,y=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(i,r){var o=!1,s=!1,m=0;function resolvePending(){o&&(o=!1,i()),s&&proxy()}function timeoutCallback(){p(resolvePending)}function proxy(){var i=Date.now();if(o){if(i-m<2)return;s=!0}else o=!0,s=!1,setTimeout(timeoutCallback,r);m=i}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(i){~this.observers_.indexOf(i)||this.observers_.push(i),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(i){var r=this.observers_,o=r.indexOf(i);~o&&r.splice(o,1),!r.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var i=this.observers_.filter((function(i){return i.gatherActive(),i.hasActive()}));return i.forEach((function(i){return i.broadcastActive()})),i.length>0},ResizeObserverController.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),v?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(i){var r=i.propertyName,o=void 0===r?"":r;m.some((function(i){return!!~o.indexOf(i)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(i,r){for(var o=0,s=Object.keys(r);o<s.length;o++){var p=s[o];Object.defineProperty(i,p,{value:r[p],enumerable:!1,writable:!1,configurable:!0})}return i},getWindowOf=function(i){return i&&i.ownerDocument&&i.ownerDocument.defaultView||s},x=createRectInit(0,0,0,0);function toFloat(i){return parseFloat(i)||0}function getBordersSize(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return r.reduce((function(r,o){return r+toFloat(i["border-"+o+"-width"])}),0)}function getHTMLElementContentRect(i){var r=i.clientWidth,o=i.clientHeight;if(!r&&!o)return x;var s=getWindowOf(i).getComputedStyle(i),p=function getPaddings(i){for(var r={},o=0,s=["top","right","bottom","left"];o<s.length;o++){var p=s[o],m=i["padding-"+p];r[p]=toFloat(m)}return r}(s),m=p.left+p.right,v=p.top+p.bottom,y=toFloat(s.width),S=toFloat(s.height);if("border-box"===s.boxSizing&&(Math.round(y+m)!==r&&(y-=getBordersSize(s,"left","right")+m),Math.round(S+v)!==o&&(S-=getBordersSize(s,"top","bottom")+v)),!function isDocumentElement(i){return i===getWindowOf(i).document.documentElement}(i)){var j=Math.round(y+m)-r,D=Math.round(S+v)-o;1!==Math.abs(j)&&(y-=j),1!==Math.abs(D)&&(S-=D)}return createRectInit(p.left,p.top,y,S)}var S=function(){return"undefined"!=typeof SVGGraphicsElement?function(i){return i instanceof getWindowOf(i).SVGGraphicsElement}:function(i){return i instanceof getWindowOf(i).SVGElement&&"function"==typeof i.getBBox}}();function getContentRect(i){return o?S(i)?function getSVGContentRect(i){var r=i.getBBox();return createRectInit(0,0,r.width,r.height)}(i):getHTMLElementContentRect(i):x}function createRectInit(i,r,o,s){return{x:i,y:r,width:o,height:s}}var j=function(){function ResizeObservation(i){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=i}return ResizeObservation.prototype.isActive=function(){var i=getContentRect(this.target);return this.contentRect_=i,i.width!==this.broadcastWidth||i.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var i=this.contentRect_;return this.broadcastWidth=i.width,this.broadcastHeight=i.height,i},ResizeObservation}(),D=function(){return function ResizeObserverEntry(i,r){var o=function createReadOnlyRect(i){var r=i.x,o=i.y,s=i.width,p=i.height,m="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,v=Object.create(m.prototype);return defineConfigurable(v,{x:r,y:o,width:s,height:p,top:o,right:r+s,bottom:p+o,left:r}),v}(r);defineConfigurable(this,{target:i,contentRect:o})}}(),P=function(){function ResizeObserverSPI(r,o,s){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof r)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=o,this.callbackCtx_=s}return ResizeObserverSPI.prototype.observe=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof getWindowOf(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(i)||(r.set(i,new j(i)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(i){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(i instanceof getWindowOf(i).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(i)&&(r.delete(i),r.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var i=this;this.clearActive(),this.observations_.forEach((function(r){r.isActive()&&i.activeObservations_.push(r)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var i=this.callbackCtx_,r=this.activeObservations_.map((function(i){return new D(i.target,i.broadcastRect())}));this.callback_.call(i,r,i),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),L="undefined"!=typeof WeakMap?new WeakMap:new i,_=function(){return function ResizeObserver(i){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=y.getInstance(),o=new P(i,r,this);L.set(this,o)}}();return["observe","unobserve","disconnect"].forEach((function(i){_.prototype[i]=function(){var r;return(r=L.get(this))[i].apply(r,arguments)}})),function(){return void 0!==s.ResizeObserver?s.ResizeObserver:_}()}))}).call(this,o("n3a2"))},"4BqN":function(i,r,o){"use strict";i.exports=o("ltD/")},"9CJp":function(i,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSelector=void 0,r.createSelectorCreator=createSelectorCreator,r.createStructuredSelector=void 0,Object.defineProperty(r,"defaultEqualityCheck",{enumerable:!0,get:function get(){return s.defaultEqualityCheck}}),Object.defineProperty(r,"defaultMemoize",{enumerable:!0,get:function get(){return s.defaultMemoize}});var s=o("Eg+G");function getDependencies(i){var r=Array.isArray(i[0])?i[0]:i;if(!r.every((function(i){return"function"==typeof i}))){var o=r.map((function(i){return"function"==typeof i?"function "+(i.name||"unnamed")+"()":typeof i})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return r}function createSelectorCreator(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];var p=function createSelector(){for(var r=arguments.length,s=new Array(r),p=0;p<r;p++)s[p]=arguments[p];var m,v=0,y={memoizeOptions:void 0},x=s.pop();if("object"==typeof x&&(y=x,x=s.pop()),"function"!=typeof x)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var S=y,j=S.memoizeOptions,D=void 0===j?o:j,P=Array.isArray(D)?D:[D],L=getDependencies(s),_=i.apply(void 0,[function recomputationWrapper(){return v++,x.apply(null,arguments)}].concat(P)),B=i((function dependenciesChecker(){for(var i=[],r=L.length,o=0;o<r;o++)i.push(L[o].apply(null,arguments));return m=_.apply(null,i)}));return Object.assign(B,{resultFunc:x,memoizedResultFunc:_,dependencies:L,lastResult:function lastResult(){return m},recomputations:function recomputations(){return v},resetRecomputations:function resetRecomputations(){return v=0}}),B};return p}var p=createSelectorCreator(s.defaultMemoize);r.createSelector=p;r.createStructuredSelector=function createStructuredSelector(i,r){if(void 0===r&&(r=p),"object"!=typeof i)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof i);var o=Object.keys(i),s=r(o.map((function(r){return i[r]})),(function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.reduce((function(i,r,s){return i[o[s]]=r,i}),{})}));return s}},"D3K/":function(i,r,o){"use strict";function isAbsolute(i){return"/"===i.charAt(0)}function spliceOne(i,r){for(var o=r,s=o+1,p=i.length;s<p;o+=1,s+=1)i[o]=i[s];i.pop()}i.exports=function resolvePathname(i,r){void 0===r&&(r="");var o,s=i&&i.split("/")||[],p=r&&r.split("/")||[],m=i&&isAbsolute(i),v=r&&isAbsolute(r),y=m||v;if(i&&isAbsolute(i)?p=s:s.length&&(p.pop(),p=p.concat(s)),!p.length)return"/";if(p.length){var x=p[p.length-1];o="."===x||".."===x||""===x}else o=!1;for(var S=0,j=p.length;0<=j;j--){var D=p[j];"."===D?spliceOne(p,j):".."===D?(spliceOne(p,j),S++):S&&(spliceOne(p,j),S--)}if(!y)for(;S--;S)p.unshift("..");!y||""===p[0]||p[0]&&isAbsolute(p[0])||p.unshift("");var P=p.join("/");return o&&"/"!==P.substr(-1)&&(P+="/"),P}},EfVC:function(i,r,o){"use strict";i.exports=o("D3K/")},"Eg+G":function(i,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createCacheKeyComparator=createCacheKeyComparator,r.defaultEqualityCheck=void 0,r.defaultMemoize=function defaultMemoize(i,r){var o="object"==typeof r?r:{equalityCheck:r},m=o.equalityCheck,v=void 0===m?p:m,y=o.maxSize,x=void 0===y?1:y,S=o.resultEqualityCheck,j=createCacheKeyComparator(v),D=1===x?function createSingletonCache(i){var r;return{get:function get(o){return r&&i(r.key,o)?r.value:s},put:function put(i,o){r={key:i,value:o}},getEntries:function getEntries(){return r?[r]:[]},clear:function clear(){r=void 0}}}(j):function createLruCache(i,r){var o=[];function get(i){var p=o.findIndex((function(o){return r(i,o.key)}));if(p>-1){var m=o[p];return p>0&&(o.splice(p,1),o.unshift(m)),m.value}return s}function put(r,p){get(r)===s&&(o.unshift({key:r,value:p}),o.length>i&&o.pop())}function getEntries(){return o}function clear(){o=[]}return{get:get,put:put,getEntries:getEntries,clear:clear}}(x,j);function memoized(){var r=D.get(arguments);if(r===s){if(r=i.apply(null,arguments),S){var o=D.getEntries(),p=o.find((function(i){return S(i.value,r)}));p&&(r=p.value)}D.put(arguments,r)}return r}return memoized.clearCache=function(){return D.clear()},memoized};var s="NOT_FOUND";var p=function defaultEqualityCheck(i,r){return i===r};function createCacheKeyComparator(i){return function areArgumentsShallowlyEqual(r,o){if(null===r||null===o||r.length!==o.length)return!1;for(var s=r.length,p=0;p<s;p++)if(!i(r[p],o[p]))return!1;return!0}}r.defaultEqualityCheck=p},TGUb:function(i,r,o){(function(i){!function(){var o="undefined"!=typeof window?window:i,s={};for(var p in function(i,r,o){var s;function aa(i){var r=0;return function(){return r<i.length?{done:!1,value:i[r++]}:{done:!0}}}var p="function"==typeof Object.defineProperties?Object.defineProperty:function(i,r,o){return i==Array.prototype||i==Object.prototype||(i[r]=o.value),i};var m=function ca(o){o=["object"==typeof globalThis&&globalThis,o,"object"==typeof i&&i,"object"==typeof self&&self,"object"==typeof r&&r];for(var s=0;s<o.length;++s){var p=o[s];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}(this);function fa(i,r){if(r)e:{for(var o=m,s=i.split("."),v=0;v<s.length-1;v++){var y=s[v];if(!(y in o))break e;o=o[y]}(y=r(v=o[s=s[s.length-1]]))!=v&&null!=y&&p(o,s,{configurable:!0,writable:!0,value:y})}}function ha(i){return(i={next:i})[Symbol.iterator]=function(){return this},i}function t(i){var r="undefined"!=typeof Symbol&&Symbol.iterator&&i[Symbol.iterator];return r?r.call(i):{next:aa(i)}}function ia(i){if(!(i instanceof Array)){i=t(i);for(var r,o=[];!(r=i.next()).done;)o.push(r.value);i=o}return i}fa("Symbol",(function(i){function c(i,r){this.g=i,p(this,"description",{configurable:!0,writable:!0,value:r})}if(i)return i;c.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",o=0;return function b(i){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(r+(i||"")+"_"+o++,i)}})),fa("Symbol.iterator",(function(i){if(i)return i;i=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<r.length;o++){var s=m[r[o]];"function"==typeof s&&"function"!=typeof s.prototype[i]&&p(s.prototype,i,{configurable:!0,writable:!0,value:function(){return ha(aa(this))}})}return i}));var v,y="function"==typeof Object.create?Object.create:function(i){function b(){}return b.prototype=i,new b};if("function"==typeof Object.setPrototypeOf)v=Object.setPrototypeOf;else{var x;e:{var S={};try{S.__proto__={a:!0},x=S.a;break e}catch(i){}x=!1}v=x?function(i,r){if(i.__proto__=r,i.__proto__!==r)throw new TypeError(i+" is not extensible");return i}:null}var j=v;function pa(i,r){if(i.prototype=y(r.prototype),i.prototype.constructor=i,j)j(i,r);else for(var o in r)if("prototype"!=o)if(Object.defineProperties){var s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(i,o,s)}else i[o]=r[o];i.gh=r.prototype}function qa(){this.o=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.u=this.i=null}function ra(i){if(i.o)throw new TypeError("Generator is already running");i.o=!0}function sa(i,r){i.i={te:r,Be:!0},i.g=i.m||i.j}function u(i,r,o){return i.g=o,{value:r}}function A(i){i.g=0}function C(i,r,o){i.m=r,null!=o&&(i.j=o)}function ua(i){i.m=0,i.j=2}function va(i,r){i.g=r,i.m=0}function F(i){i.m=0;var r=i.i.te;return i.i=null,r}function wa(i){i.u=[i.i],i.m=0,i.j=0}function xa(i,r){var o=i.u.splice(0)[0];(o=i.i=i.i||o)?o.Be?i.g=i.m||i.j:null!=o.A&&i.j<o.A?(i.g=o.A,i.i=null):i.g=i.j:i.g=r}function ya(i){this.g=new qa,this.h=i}function Aa(i,r,o,s){try{var p=r.call(i.g.l,o);if(!(p instanceof Object))throw new TypeError("Iterator result "+p+" is not an object");if(!p.done)return i.g.o=!1,p;var m=p.value}catch(r){return i.g.l=null,sa(i.g,r),Ba(i)}return i.g.l=null,s.call(i.g,m),Ba(i)}function Ba(i){for(;i.g.g;)try{var r=i.h(i.g);if(r)return i.g.o=!1,{value:r.value,done:!1}}catch(r){i.g.h=void 0,sa(i.g,r)}if(i.g.o=!1,i.g.i){if(r=i.g.i,i.g.i=null,r.Be)throw r.te;return{value:r.return,done:!0}}return{value:void 0,done:!0}}function Ea(i){this.next=function(r){return ra(i.g),i.g.l?r=Aa(i,i.g.l.next,r,i.g.s):(i.g.s(r),r=Ba(i)),r},this.throw=function(r){return ra(i.g),i.g.l?r=Aa(i,i.g.l.throw,r,i.g.s):(sa(i.g,r),r=Ba(i)),r},this.return=function(r){return function za(i,r){ra(i.g);var o=i.g.l;return o?Aa(i,"return"in o?o.return:function(i){return{value:i,done:!0}},r,i.g.return):(i.g.return(r),Ba(i))}(i,r)},this[Symbol.iterator]=function(){return this}}function K(i){return function Fa(i){function b(r){return i.next(r)}function c(r){return i.throw(r)}return new Promise((function(r,o){!function f(i){i.done?r(i.value):Promise.resolve(i.value).then(b,c).then(f,o)}(i.next())}))}(new Ea(new ya(i)))}function Ia(){for(var i=Number(this),r=[],o=i;o<arguments.length;o++)r[o-i]=arguments[o];return r}function Ja(i,r){return Object.prototype.hasOwnProperty.call(i,r)}function Ka(i,r,o){i instanceof String&&(i=String(i));for(var s=i.length,p=0;p<s;p++){var m=i[p];if(r.call(o,m,p,i))return{ze:p,v:m}}return{ze:-1,v:void 0}}function La(i,r,o){if(null==i)throw new TypeError("The 'this' value for String.prototype."+o+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+o+" must not be a regular expression");return i+""}function Ma(i,r){i instanceof String&&(i+="");var o=0,s=!1,p={next:function(){if(!s&&o<i.length){var p=o++;return{value:r(p,i[p]),done:!1}}return s=!0,{done:!0,value:void 0}}};return p[Symbol.iterator]=function(){return p},p}qa.prototype.s=function(i){this.h=i},qa.prototype.return=function(i){this.i={return:i},this.g=this.j},qa.prototype.A=function(i){this.g=i},fa("Promise",(function(i){function b(i){this.h=0,this.i=void 0,this.g=[],this.o=!1;var r=this.j();try{i(r.resolve,r.reject)}catch(i){r.reject(i)}}function c(){this.g=null}function d(i){return i instanceof b?i:new b((function(r){r(i)}))}if(i)return i;c.prototype.h=function(i){if(null==this.g){this.g=[];var r=this;this.i((function(){r.l()}))}this.g.push(i)};var r=m.setTimeout;c.prototype.i=function(i){r(i,0)},c.prototype.l=function(){for(;this.g&&this.g.length;){var i=this.g;this.g=[];for(var r=0;r<i.length;++r){var o=i[r];i[r]=null;try{o()}catch(i){this.j(i)}}}this.g=null},c.prototype.j=function(i){this.i((function(){throw i}))},b.prototype.j=function(){function g(o){return function(s){r||(r=!0,o.call(i,s))}}var i=this,r=!1;return{resolve:g(this.F),reject:g(this.l)}},b.prototype.F=function(i){if(i===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(i instanceof b)this.I(i);else{e:switch(typeof i){case"object":var r=null!=i;break e;case"function":r=!0;break e;default:r=!1}r?this.D(i):this.m(i)}},b.prototype.D=function(i){var r=void 0;try{r=i.then}catch(i){return void this.l(i)}"function"==typeof r?this.L(r,i):this.m(i)},b.prototype.l=function(i){this.s(2,i)},b.prototype.m=function(i){this.s(1,i)},b.prototype.s=function(i,r){if(0!=this.h)throw Error("Cannot settle("+i+", "+r+"): Promise already settled in state"+this.h);this.h=i,this.i=r,2===this.h&&this.G(),this.u()},b.prototype.G=function(){var i=this;r((function(){if(i.C()){var r=m.console;void 0!==r&&r.error(i.i)}}),1)},b.prototype.C=function(){if(this.o)return!1;var i=m.CustomEvent,r=m.Event,o=m.dispatchEvent;return void 0===o||("function"==typeof i?i=new i("unhandledrejection",{cancelable:!0}):"function"==typeof r?i=new r("unhandledrejection",{cancelable:!0}):(i=m.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,i),i.promise=this,i.reason=this.i,o(i))},b.prototype.u=function(){if(null!=this.g){for(var i=0;i<this.g.length;++i)o.h(this.g[i]);this.g=null}};var o=new c;return b.prototype.I=function(i){var r=this.j();i.Gc(r.resolve,r.reject)},b.prototype.L=function(i,r){var o=this.j();try{i.call(r,o.resolve,o.reject)}catch(i){o.reject(i)}},b.prototype.then=function(i,r){function k(i,r){return"function"==typeof i?function(r){try{o(i(r))}catch(i){s(i)}}:r}var o,s,p=new b((function(i,r){o=i,s=r}));return this.Gc(k(i,o),k(r,s)),p},b.prototype.catch=function(i){return this.then(void 0,i)},b.prototype.Gc=function(i,r){function k(){switch(s.h){case 1:i(s.i);break;case 2:r(s.i);break;default:throw Error("Unexpected state: "+s.h)}}var s=this;null==this.g?o.h(k):this.g.push(k),this.o=!0},b.resolve=d,b.reject=function(i){return new b((function(r,o){o(i)}))},b.race=function(i){return new b((function(r,o){for(var s=t(i),p=s.next();!p.done;p=s.next())d(p.value).Gc(r,o)}))},b.all=function(i){var r=t(i),o=r.next();return o.done?d([]):new b((function(i,s){function n(r){return function(o){p[r]=o,0==--m&&i(p)}}var p=[],m=0;do{p.push(void 0),m++,d(o.value).Gc(n(p.length-1),s),o=r.next()}while(!o.done)}))},b})),fa("WeakMap",(function(i){function b(i){if(this.g=(o+=Math.random()+1).toString(),i){i=t(i);for(var r;!(r=i.next()).done;)r=r.value,this.set(r[0],r[1])}}function c(){}function d(i){var r=typeof i;return"object"===r&&null!==i||"function"===r}function e(i){if(!Ja(i,r)){var o=new c;p(i,r,{value:o})}}function f(i){var r=Object[i];r&&(Object[i]=function(i){return i instanceof c?i:(Object.isExtensible(i)&&e(i),r(i))})}if(function(){if(!i||!Object.seal)return!1;try{var r=Object.seal({}),o=Object.seal({}),s=new i([[r,2],[o,3]]);return 2==s.get(r)&&3==s.get(o)&&(s.delete(r),s.set(o,4),!s.has(r)&&4==s.get(o))}catch(i){return!1}}())return i;var r="$jscomp_hidden_"+Math.random();f("freeze"),f("preventExtensions"),f("seal");var o=0;return b.prototype.set=function(i,o){if(!d(i))throw Error("Invalid WeakMap key");if(e(i),!Ja(i,r))throw Error("WeakMap key fail: "+i);return i[r][this.g]=o,this},b.prototype.get=function(i){return d(i)&&Ja(i,r)?i[r][this.g]:void 0},b.prototype.has=function(i){return d(i)&&Ja(i,r)&&Ja(i[r],this.g)},b.prototype.delete=function(i){return!!(d(i)&&Ja(i,r)&&Ja(i[r],this.g))&&delete i[r][this.g]},b})),fa("Map",(function(i){function b(){var i={};return i.Qa=i.next=i.head=i}function c(i,r){var o=i.g;return ha((function(){if(o){for(;o.head!=i.g;)o=o.Qa;for(;o.next!=o.head;)return o=o.next,{done:!1,value:r(o)};o=null}return{done:!0,value:void 0}}))}function d(i,s){var p=s&&typeof s;"object"==p||"function"==p?r.has(s)?p=r.get(s):(p=""+ ++o,r.set(s,p)):p="p_"+s;var m=i.h[p];if(m&&Ja(i.h,p))for(var v=0;v<m.length;v++){var y=m[v];if(s!=s&&y.key!=y.key||s===y.key)return{id:p,list:m,index:v,fa:y}}return{id:p,list:m,index:-1,fa:void 0}}function e(i){if(this.h={},this.g=b(),this.size=0,i){i=t(i);for(var r;!(r=i.next()).done;)r=r.value,this.set(r[0],r[1])}}if(function(){if(!i||"function"!=typeof i||!i.prototype.entries||"function"!=typeof Object.seal)return!1;try{var r=Object.seal({x:4}),o=new i(t([[r,"s"]]));if("s"!=o.get(r)||1!=o.size||o.get({x:4})||o.set({x:4},"t")!=o||2!=o.size)return!1;var s=o.entries(),p=s.next();return!p.done&&p.value[0]==r&&"s"==p.value[1]&&!((p=s.next()).done||4!=p.value[0].x||"t"!=p.value[1]||!s.next().done)}catch(i){return!1}}())return i;var r=new WeakMap;e.prototype.set=function(i,r){var o=d(this,i=0===i?0:i);return o.list||(o.list=this.h[o.id]=[]),o.fa?o.fa.value=r:(o.fa={next:this.g,Qa:this.g.Qa,head:this.g,key:i,value:r},o.list.push(o.fa),this.g.Qa.next=o.fa,this.g.Qa=o.fa,this.size++),this},e.prototype.delete=function(i){return!(!(i=d(this,i)).fa||!i.list)&&(i.list.splice(i.index,1),i.list.length||delete this.h[i.id],i.fa.Qa.next=i.fa.next,i.fa.next.Qa=i.fa.Qa,i.fa.head=null,this.size--,!0)},e.prototype.clear=function(){this.h={},this.g=this.g.Qa=b(),this.size=0},e.prototype.has=function(i){return!!d(this,i).fa},e.prototype.get=function(i){return(i=d(this,i).fa)&&i.value},e.prototype.entries=function(){return c(this,(function(i){return[i.key,i.value]}))},e.prototype.keys=function(){return c(this,(function(i){return i.key}))},e.prototype.values=function(){return c(this,(function(i){return i.value}))},e.prototype.forEach=function(i,r){for(var o,s=this.entries();!(o=s.next()).done;)o=o.value,i.call(r,o[1],o[0],this)},e.prototype[Symbol.iterator]=e.prototype.entries;var o=0;return e})),fa("Set",(function(i){function b(i){if(this.g=new Map,i){i=t(i);for(var r;!(r=i.next()).done;)this.add(r.value)}this.size=this.g.size}return function(){if(!i||"function"!=typeof i||!i.prototype.entries||"function"!=typeof Object.seal)return!1;try{var r=Object.seal({x:4}),o=new i(t([r]));if(!o.has(r)||1!=o.size||o.add(r)!=o||1!=o.size||o.add({x:4})!=o||2!=o.size)return!1;var s=o.entries(),p=s.next();return!p.done&&p.value[0]==r&&p.value[1]==r&&(!(p=s.next()).done&&p.value[0]!=r&&4==p.value[0].x&&p.value[1]==p.value[0]&&s.next().done)}catch(i){return!1}}()?i:(b.prototype.add=function(i){return i=0===i?0:i,this.g.set(i,i),this.size=this.g.size,this},b.prototype.delete=function(i){return i=this.g.delete(i),this.size=this.g.size,i},b.prototype.clear=function(){this.g.clear(),this.size=0},b.prototype.has=function(i){return this.g.has(i)},b.prototype.entries=function(){return this.g.entries()},b.prototype.values=function(){return this.g.values()},b.prototype.keys=b.prototype.values,b.prototype[Symbol.iterator]=b.prototype.values,b.prototype.forEach=function(i,r){var o=this;this.g.forEach((function(s){return i.call(r,s,s,o)}))},b)})),fa("Array.prototype.findIndex",(function(i){return i||function(i,r){return Ka(this,i,r).ze}})),fa("Object.is",(function(i){return i||function(i,r){return i===r?0!==i||1/i==1/r:i!=i&&r!=r}})),fa("Array.prototype.includes",(function(i){return i||function(i,r){var o=this;o instanceof String&&(o=String(o));var s=o.length,p=r||0;for(0>p&&(p=Math.max(p+s,0));p<s;p++){var m=o[p];if(m===i||Object.is(m,i))return!0}return!1}})),fa("String.prototype.includes",(function(i){return i||function(i,r){return-1!==La(this,i,"includes").indexOf(i,r||0)}})),fa("Array.prototype.find",(function(i){return i||function(i,r){return Ka(this,i,r).v}})),fa("String.prototype.startsWith",(function(i){return i||function(i,r){for(var o=La(this,i,"startsWith"),s=o.length,p=i.length,m=Math.max(0,Math.min(0|r,o.length)),v=0;v<p&&m<s;)if(o[m++]!=i[v++])return!1;return v>=p}})),fa("Array.prototype.keys",(function(i){return i||function(){return Ma(this,(function(i){return i}))}}));var D="function"==typeof Object.assign?Object.assign:function(i,r){for(var o=1;o<arguments.length;o++){var s=arguments[o];if(s)for(var p in s)Ja(s,p)&&(i[p]=s[p])}return i};fa("Object.assign",(function(i){return i||D})),fa("Array.from",(function(i){return i||function(i,r,o){r=null!=r?r:function(i){return i};var s=[],p="undefined"!=typeof Symbol&&Symbol.iterator&&i[Symbol.iterator];if("function"==typeof p){i=p.call(i);for(var m=0;!(p=i.next()).done;)s.push(r.call(o,p.value,m++))}else for(p=i.length,m=0;m<p;m++)s.push(r.call(o,i[m],m));return s}})),fa("Array.prototype.values",(function(i){return i||function(){return Ma(this,(function(i,r){return r}))}})),fa("Promise.prototype.finally",(function(i){return i||function(i){return this.then((function(r){return Promise.resolve(i()).then((function(){return r}))}),(function(r){return Promise.resolve(i()).then((function(){throw r}))}))}})),fa("Array.prototype.entries",(function(i){return i||function(){return Ma(this,(function(i,r){return[i,r]}))}})),fa("String.prototype.repeat",(function(i){return i||function(i){var r=La(this,null,"repeat");if(0>i||1342177279<i)throw new RangeError("Invalid count value");i|=0;for(var o="";i;)1&i&&(o+=r),(i>>>=1)&&(r+=r);return o}})),fa("Number.isNaN",(function(i){return i||function(i){return"number"==typeof i&&isNaN(i)}})),fa("Object.values",(function(i){return i||function(i){var r,o=[];for(r in i)Ja(i,r)&&o.push(i[r]);return o}})),fa("Math.log2",(function(i){return i||function(i){return Math.log(i)/Math.LN2}})),fa("Math.trunc",(function(i){return i||function(i){if(i=Number(i),isNaN(i)||1/0===i||-1/0===i||0===i)return i;var r=Math.floor(Math.abs(i));return 0>i?-r:r}})),fa("Object.entries",(function(i){return i||function(i){var r,o=[];for(r in i)Ja(i,r)&&o.push([r,i[r]]);return o}}));var P=this||self;function M(i,r){var o,s=i.split("."),p=P;s[0]in p||void 0===p.execScript||p.execScript("var "+s[0]);for(;s.length&&(o=s.shift());)s.length||void 0===r?p=p[o]&&p[o]!==Object.prototype[o]?p[o]:p[o]={}:p[o]=r}function Pa(i){this.g=Math.exp(Math.log(.5)/i),this.i=this.h=0}function Qa(i){return i.h/(1-Math.pow(i.g,i.i))}function Sa(){this.h=new Pa(2),this.j=new Pa(5),this.g=0,this.i=128e3,this.l=16e3}function Ta(){}function Ua(){}function Va(){}function Wa(i){var r=Ia.apply(1,arguments);L.has(i)||(L.add(i),Va.apply(Ta,ia(r)))}function Ya(){}Pa.prototype.sample=function(i,r){var o=Math.pow(this.g,i);o=r*(1-o)+o*this.h,isNaN(o)||(this.h=o,this.i+=i)},Sa.prototype.configure=function(i){this.i=i.minTotalBytes,this.l=i.minBytes,this.h.g=Math.exp(Math.log(.5)/i.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/i.slowHalfLife)},Sa.prototype.sample=function(i,r){if(!(r<this.l)){var o=8e3*r/i,s=i/1e3;this.g+=r,this.h.sample(s,o),this.j.sample(s,o)}},Sa.prototype.getBandwidthEstimate=function(i){return this.g<this.i?i:Math.min(Qa(this.h),Qa(this.j))};var L=new Set;if(i.console&&i.console.log.bind){var _={},B=(_[1]=console.error.bind(console),_[2]=console.warn.bind(console),_[3]=console.info.bind(console),_[4]=console.log.bind(console),_[5]=console.debug.bind(console),_[6]=console.debug.bind(console),_);Va=B[2],Ua=B[1]}function db(i,r){return!("number"!=typeof i||"number"!=typeof r||!isNaN(i)||!isNaN(r))||i===r}function eb(i,r){var o=i.indexOf(r);-1<o&&i.splice(o,1)}function fb(i,r,o){if(o||(o=db),i.length!=r.length)return!1;r=r.slice();for(var s={},p=(i=t(i)).next();!p.done;s={jd:s.jd},p=i.next()){if(s.jd=p.value,-1==(p=r.findIndex(function(i){return function(r){return o(i.jd,r)}}(s))))return!1;r[p]=r[r.length-1],r.pop()}return 0==r.length}function gb(i,r,o){if(o||(o=db),i.length!=r.length)return!1;for(var s=0;s<i.length;s++)if(!o(i[s],r[s]))return!1;return!0}function hb(i,r,o){this.startTime=i,this.direction=ue,this.endTime=r,this.payload=o,this.region=new jb,this.position=null,this.positionAlign=z,this.size=0,this.textAlign=G,this.writingMode=fe,this.lineInterpretation=Ie,this.line=null,this.lineHeight="",this.lineAlign=_e,this.displayAlign=$,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.textShadow=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=_t,this.fontStyle=Bt,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}function tb(i,r){if(i.startTime!=r.startTime||i.endTime!=r.endTime||i.payload!=r.payload)return!1;for(var o in i)if("startTime"!=o&&"endTime"!=o&&"payload"!=o)if("nestedCues"==o){if(!gb(i.nestedCues,r.nestedCues,tb))return!1}else if("region"==o||"cellResolution"==o){for(var s in i[o])if(i[o][s]!=r[o][s])return!1}else if(Array.isArray(i[o])){if(!gb(i[o],r[o]))return!1}else if(i[o]!=r[o])return!1;return!0}hb.prototype.clone=function(){var i,r=new hb(0,0,"");for(i in this)r[i]=this[i],r[i]&&r[i].constructor==Array&&(r[i]=r[i].slice());return r},M("shaka.text.Cue",hb);var z="auto";hb.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:z};var G="center",Y={LEFT:"left",RIGHT:"right",CENTER:G,START:"start",END:"end"};hb.textAlign=Y;var $="after",re={BEFORE:"before",CENTER:"center",AFTER:$};hb.displayAlign=re;var ue="ltr";hb.direction={HORIZONTAL_LEFT_TO_RIGHT:ue,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var fe="horizontal-tb";hb.writingMode={HORIZONTAL_TOP_TO_BOTTOM:fe,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Ie=0;hb.lineInterpretation={LINE_NUMBER:Ie,PERCENTAGE:1};var _e="start",Ve={CENTER:"center",START:_e,END:"end"};hb.lineAlign=Ve;var He={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};hb.defaultTextColor=He;var pt={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};hb.defaultTextBackgroundColor=pt;var _t=400;hb.fontWeight={NORMAL:_t,BOLD:700};var Bt="normal",en={NORMAL:Bt,ITALIC:"italic",OBLIQUE:"oblique"};function jb(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=nn,this.scroll=sn}hb.fontStyle=en,hb.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},M("shaka.text.CueRegion",jb);var nn=1;jb.units={PX:0,PERCENTAGE:nn,LINES:2};var sn="";function Cb(){}function Db(i,r){if(!i&&!r)return!0;if(!i||!r||i.byteLength!=r.byteLength)return!1;if(Eb(i)==Eb(r)&&(i.byteOffset||0)==(r.byteOffset||0))return!0;for(var o=Fb(i),s=Fb(r),p=0;p<i.byteLength;p++)if(o[p]!=s[p])return!1;return!0}function Eb(i){return i instanceof ArrayBuffer?i:i.buffer}function Gb(i){return i instanceof ArrayBuffer?i:0==i.byteOffset&&i.byteLength==i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer}function Fb(i,r,o){return Hb(i,void 0===r?0:r,o=void 0===o?1/0:o,Uint8Array)}function Ib(i,r,o){return Hb(i,void 0===r?0:r,o=void 0===o?1/0:o,DataView)}function Hb(i,r,o,s){var p=(i.byteOffset||0)+i.byteLength;return r=Math.max(0,Math.min((i.byteOffset||0)+r,p)),new s(Eb(i),r,Math.min(r+Math.max(o,0),p)-r)}function Jb(){}jb.scrollMode={NONE:sn,UP:"up"},M("shaka.util.BufferUtils",Cb),Cb.toDataView=Ib,Cb.toUint8=Fb,Cb.toArrayBuffer=Gb,Cb.equal=Db,M("shaka.dependencies",Jb),Jb.has=function(i){return cn.has(i)},Jb.add=function(i,r){if(!ln[i])throw Error(i+" is not supported");cn.set(i,(function(){return r}))};var ln={muxjs:"muxjs"};Jb.Allowed=ln;var cn=new Map([["muxjs",function(){return i.muxjs}]]);function N(i,r,o){var s=Ia.apply(3,arguments);this.severity=i,this.category=r,this.code=o,this.data=s,this.handled=!1}N.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},M("shaka.util.Error",N),N.Severity={RECOVERABLE:1,CRITICAL:2},N.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},N.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,CHAPTERS_TRACK_FAILED:2015,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,HLS_AES_128_INVALID_IV_LENGTH:4043,HLS_AES_128_INVALID_KEY_LENGTH:4044,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};var dn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Nb(i){var r;i instanceof Nb?(Ob(this,i.Fa),this.ob=i.ob,this.Ga=i.Ga,Pb(this,i.Ib),this.ua=i.ua,Qb(this,i.g.clone()),this.fb=i.fb):i&&(r=String(i).match(dn))?(Ob(this,r[1]||"",!0),this.ob=Rb(r[2]||""),this.Ga=Rb(r[3]||"",!0),Pb(this,r[4]),this.ua=Rb(r[5]||"",!0),Qb(this,r[6]||"",!0),this.fb=Rb(r[7]||"")):this.g=new Sb(null)}function Ob(i,r,o){i.Fa=o?Rb(r,!0):r,i.Fa&&(i.Fa=i.Fa.replace(/:$/,""))}function Pb(i,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);i.Ib=r}else i.Ib=null}function Qb(i,r,o){r instanceof Sb?i.g=r:(o||(r=Ub(r,mn)),i.g=new Sb(r))}function Rb(i,r){return i?r?decodeURI(i):decodeURIComponent(i):""}function Ub(i,r,o){return null!=i?(i=encodeURI(i).replace(r,$b),o&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function $b(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}(s=Nb.prototype).Fa="",s.ob="",s.Ga="",s.Ib=null,s.ua="",s.fb="",s.toString=function(){var i=[],r=this.Fa;if(r&&i.push(Ub(r,fn,!0),":"),r=this.Ga){i.push("//");var o=this.ob;o&&i.push(Ub(o,fn,!0),"@"),i.push(encodeURIComponent(r).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.Ib)&&i.push(":",String(r))}return(r=this.ua)&&(this.Ga&&"/"!=r.charAt(0)&&i.push("/"),i.push(Ub(r,"/"==r.charAt(0)?gn:hn,!0))),(r=this.g.toString())&&i.push("?",r),(r=this.fb)&&i.push("#",Ub(r,vn)),i.join("")},s.resolve=function(i){var r=this.clone();"data"===r.Fa&&(r=new Nb);var o=!!i.Fa;o?Ob(r,i.Fa):o=!!i.ob,o?r.ob=i.ob:o=!!i.Ga,o?r.Ga=i.Ga:o=null!=i.Ib;var s=i.ua;if(o)Pb(r,i.Ib);else if(o=!!i.ua){if("/"!=s.charAt(0))if(this.Ga&&!this.ua)s="/"+s;else{var p=r.ua.lastIndexOf("/");-1!=p&&(s=r.ua.substr(0,p+1)+s)}if(".."==s||"."==s)s="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){p=0==s.lastIndexOf("/",0),s=s.split("/");for(var m=[],v=0;v<s.length;){var y=s[v++];"."==y?p&&v==s.length&&m.push(""):".."==y?((1<m.length||1==m.length&&""!=m[0])&&m.pop(),p&&v==s.length&&m.push("")):(m.push(y),p=!0)}s=m.join("/")}}return o?r.ua=s:o=""!==i.g.toString(),o?Qb(r,i.g.clone()):o=!!i.fb,o&&(r.fb=i.fb),r},s.clone=function(){return new Nb(this)};var fn=/[#\/\?@]/g,hn=/[#\?:]/g,gn=/[#\?]/g,mn=/[#\?@]/g,vn=/#/g;function Sb(i){this.g=i||null}function ac(i){if(!i.na&&(i.na={},i.Ic=0,i.g))for(var r=i.g.split("&"),o=0;o<r.length;o++){var s=r[o].indexOf("="),p=null;if(0<=s){var m=r[o].substring(0,s);p=r[o].substring(s+1)}else m=r[o];m=decodeURIComponent(m.replace(/\+/g," ")),p=p||"",i.add(m,decodeURIComponent(p.replace(/\+/g," ")))}}function bc(i,r){return i.concat(r)}function cc(){}function dc(i){return null!=i}function ec(i,r){if(0==r.length)return i;var o=r.map((function(i){return new Nb(i)}));return i.map((function(i){return new Nb(i)})).map((function(i){return o.map((function(r){return i.resolve(r)}))})).reduce(bc,[]).map((function(i){return i.toString()}))}function fc(i,r){return{keySystem:i,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:r||[],keyIds:new Set}}function gc(i,r){if(1==r.length)return r[0];var o=hc(i,r);if(null!=o)return o;throw new N(2,4,4025,r)}function hc(i,r){for(var o=t(kn[i]),s=o.next();!s.done;s=o.next()){s=s.value;for(var p=t(r),m=p.next();!m.done;m=p.next())if(m=m.value,s.test(m.trim()))return m.trim()}return i==yn?"":null}(s=Sb.prototype).na=null,s.Ic=null,s.add=function(i,r){ac(this),this.g=null;var o=this.na.hasOwnProperty(i)&&this.na[i];return o||(this.na[i]=o=[]),o.push(r),this.Ic++,this},s.set=function(i,r){return ac(this),this.g=null,this.na.hasOwnProperty(i)?this.na[i]=[r]:this.add(i,r),this},s.toString=function(){if(this.g)return this.g;if(!this.na)return"";var i,r=[];for(i in this.na)for(var o=encodeURIComponent(i),s=this.na[i],p=0;p<s.length;p++){var m=o;""!==s[p]&&(m+="="+encodeURIComponent(s[p])),r.push(m)}return this.g=r.join("&")},s.clone=function(){var i=new Sb;if(i.g=this.g,this.na){var r,o={};for(r in this.na)o[r]=this.na[r].concat();i.na=o,i.Ic=this.Ic}return i};var yn="text",wn={ra:"video",cb:"audio",X:yn,Ub:"image",sg:"application"},kn={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av01/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function lc(){var i,r,o=new Promise((function(o,s){i=o,r=s}));return o.resolve=i,o.reject=r,o}function mc(i){this.h=i,this.g=void 0}function nc(i){this.h=i,this.g=null}function O(i){this.h=i,this.g=null}function oc(){return!(!i.MediaSource||!MediaSource.isTypeSupported)}function pc(i){return""!=qc().canPlayType(i)}function rc(){return sc("Xbox One")}function tc(){return sc("Tizen")}function uc(){return sc("Web0S")&&sc("Chrome/38.0.2125.122 Safari/537.36")}function vc(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!tc()&&!sc("PC=EOS")&&!wc()&&!sc("AFT")}function wc(){return sc("PlayStation 4")}function xc(){if(!vc())return null;var i=navigator.userAgent.match(/Version\/(\d+)/);return i||(i=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(i[1],10):null}function sc(i){return(navigator.userAgent||"").includes(i)}function qc(){return _n||(jn||(jn=new O((function(){_n=null}))),(_n=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(_n=document.createElement("video")),jn.P(1),_n)}lc.prototype.resolve=function(){},lc.prototype.reject=function(){},mc.prototype.value=function(){return null==this.g&&(this.g=this.h()),this.g},nc.prototype.P=function(r){var o=this;this.stop();var s=!0,p=null;return this.g=function(){i.clearTimeout(p),s=!1},p=i.setTimeout((function(){s&&o.h()}),1e3*r),this},nc.prototype.stop=function(){this.g&&(this.g(),this.g=null)},O.prototype.Lb=function(){return this.stop(),this.h(),this},O.prototype.P=function(i){var r=this;return this.stop(),this.g=new nc((function(){r.h()})).P(i),this},O.prototype.Da=function(i){var r=this;return this.stop(),this.g=new nc((function(){r.g.P(i),r.h()})).P(i),this},O.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},M("shaka.util.Timer",O),O.prototype.stop=O.prototype.stop,O.prototype.tickEvery=O.prototype.Da,O.prototype.tickAfter=O.prototype.P,O.prototype.tickNow=O.prototype.Lb;var jn=null,_n=null;function Ac(){}function Bc(r){if(!r)return"";if(239==(r=Fb(r))[0]&&187==r[1]&&191==r[2]&&(r=r.subarray(3)),i.TextDecoder&&!wc())return(r=(new TextDecoder).decode(r)).includes("ï¿½")&&Ua('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),r;for(var o="",s=0;s<r.length;++s){var p=65533;if(0==(128&r[s])?p=r[s]:r.length>=s+2&&192==(224&r[s])&&128==(192&r[s+1])?(p=(31&r[s])<<6|63&r[s+1],s+=1):r.length>=s+3&&224==(240&r[s])&&128==(192&r[s+1])&&128==(192&r[s+2])?(p=(15&r[s])<<12|(63&r[s+1])<<6|63&r[s+2],s+=2):r.length>=s+4&&240==(241&r[s])&&128==(192&r[s+1])&&128==(192&r[s+2])&&128==(192&r[s+3])&&(p=(7&r[s])<<18|(63&r[s+1])<<12|(63&r[s+2])<<6|63&r[s+3],s+=3),65535>=p)o+=String.fromCharCode(p);else{var m=1023&(p-=65536);o+=String.fromCharCode(55296+(p>>10)),o+=String.fromCharCode(56320+m)}}return o}function Cc(i,r,o){if(!i)return"";if(!o&&0!=i.byteLength%2)throw new N(2,2,2004);o=Math.floor(i.byteLength/2);var s=new Uint16Array(o);i=Ib(i);for(var p=0;p<o;p++)s[p]=i.getUint16(2*p,r);return qn.value()(s)}function Ec(i){function b(i){return r.byteLength<=i||32<=r[i]&&126>=r[i]}if(!i)return"";var r=Fb(i);if(239==r[0]&&187==r[1]&&191==r[2])return Bc(r);if(254==r[0]&&255==r[1])return Cc(r.subarray(2),!1);if(255==r[0]&&254==r[1])return Cc(r.subarray(2),!0);if(0==r[0]&&0==r[2])return Cc(i,!1);if(0==r[1]&&0==r[3])return Cc(i,!0);if(b(0)&&b(1)&&b(2)&&b(3))return Bc(i);throw new N(2,2,2003)}function Ic(r){if(i.TextEncoder&&!wc()){var o=new TextEncoder;return Gb(o.encode(r))}r=encodeURIComponent(r),r=unescape(r),o=new Uint8Array(r.length);for(var s=0;s<r.length;s++)o[s]=r[s].charCodeAt(0);return Gb(o)}function Jc(i,r){for(var o=new ArrayBuffer(2*i.length),s=new DataView(o),p=0;p<i.length;++p)s.setUint16(2*p,i.charCodeAt(p),r);return o}M("shaka.util.StringUtils",Ac),Ac.resetFromCharCode=function(){qn.g=void 0},Ac.toUTF16=Jc,Ac.toUTF8=Ic,Ac.fromBytesAutoDetect=Ec,Ac.fromUTF16=Cc,Ac.fromUTF8=Bc;var qn=new mc((function(){function a(i){try{var r=new Uint8Array(i);return 0<String.fromCharCode.apply(null,r).length}catch(i){return!1}}for(var i={Ua:65536};0<i.Ua;(i={Ua:i.Ua}).Ua/=2)if(a(i.Ua))return function(i){return function(r){for(var o="",s=0;s<r.length;s+=i.Ua)o+=String.fromCharCode.apply(null,r.subarray(s,s+i.Ua));return o}}(i);return null}));function Kc(){}function Lc(i){return i=Fb(i),i=qn.value()(i),btoa(i)}function Mc(i,r){r=null==r||r;var o=Lc(i).replace(/\+/g,"-").replace(/\//g,"_");return r?o:o.replace(/[=]*$/,"")}function Nc(r){r=i.atob(r.replace(/-/g,"+").replace(/_/g,"/"));for(var o=new Uint8Array(r.length),s=0;s<r.length;++s)o[s]=r.charCodeAt(s);return o}function Oc(r){for(var o=r.length/2,s=new Uint8Array(o),p=0;p<o;p++)s[p]=i.parseInt(r.substr(2*p,2),16);return s}function Pc(i){var r=Fb(i);i="";for(var o=(r=t(r)).next();!o.done;o=r.next())1==(o=(o=o.value).toString(16)).length&&(o="0"+o),i+=o;return i}function Qc(){for(var i=Ia.apply(0,arguments),r=0,o=t(i),s=o.next();!s.done;s=o.next())r+=s.value.byteLength;for(r=new Uint8Array(r),o=0,s=(i=t(i)).next();!s.done;s=i.next())s=s.value,r.set(Fb(s),o),o+=s.byteLength;return r}function Rc(){var i=this;this.o=cn.get("muxjs")(),this.g=new this.o.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.h=null,this.m=[],this.j=[],this.i=[],this.l=!1,this.g.on("data",(function(r){i.j=r.captions,i.i=r.metadata,i.m.push(Qc(r.initSegment,r.data))})),this.g.on("done",(function(){var r={data:Qc.apply(Kc,ia(i.m)),captions:i.j,metadata:i.i};i.h.resolve(r),i.l=!1}))}function Sc(i,r){if(!cn.get("muxjs")()||!Tc(i))return!1;if(r)return MediaSource.isTypeSupported(Uc(r,i));var o=Uc("audio",i),s=Uc("video",i);return MediaSource.isTypeSupported(o)||MediaSource.isTypeSupported(s)}function Tc(i){return"mp2t"==i.toLowerCase().split(";")[0].split("/")[1]}function Uc(i,r){var o=r.replace(/mp2t/i,"mp4");"audio"==i&&(o=o.replace("video","audio"));var s=/avc1\.(66|77|100)\.(\d+)/.exec(o);if(s){var p="avc1.",m=s[1],v=Number(s[2]);p=("66"==m?p+"4200":"77"==m?p+"4d00":p+"6400")+(v>>4).toString(16),p+=(15&v).toString(16),o=o.replace(s[0],p)}return o}function Wc(){}function Xc(i,r){var o=i;return r&&(o+='; codecs="'+r+'"'),o}function Yc(i,r,o){if(Tc(i=Xc(i,r))){if(cn.get("muxjs")())return Uc(o,i)}else if("audio"==o)return i.replace("video","audio");return i}function Zc(i){var r=$c(i);switch(i=r[0],r=r[1].toLowerCase(),!0){case"mp4a"===i&&"69"===r:case"mp4a"===i&&"6b"===r:return"mp3";case"mp4a"===i&&"66"===r:case"mp4a"===i&&"67"===r:case"mp4a"===i&&"68"===r:case"mp4a"===i&&"40.2"===r:case"mp4a"===i&&"40.02"===r:case"mp4a"===i&&"40.5"===r:case"mp4a"===i&&"40.05"===r:case"mp4a"===i&&"40.29"===r:case"mp4a"===i&&"40.42"===r:return"aac";case"mp4a"===i&&"a5"===r:return"ac-3";case"mp4a"===i&&"a6"===r:return"ec-3";case"mp4a"===i&&"b2"===r:return"dtsx";case"mp4a"===i&&"a9"===r:return"dtsc";case"avc1"===i:case"avc3"===i:return"avc";case"hvc1"===i:case"hev1"===i:return"hevc";case"dvh1"===i:case"dvhe"===i:return"dovi"}return i}function ad(i){return(i=i.split(/ *; */)).shift(),(i=i.find((function(i){return i.startsWith("codecs=")})))?i.split("=")[1].replace(/^"|"$/g,""):""}function $c(i){var r=(i=i.split("."))[0];return i.shift(),[r,i.join(".")]}function bd(i){this.j=null,this.i=i,this.u=!1,this.l=this.s=0,this.m=1/0,this.h=this.g=null,this.C="",this.o=new Map}function cd(i){return!(!Xn[i]&&"application/cea-608"!=i&&"application/cea-708"!=i)}function gd(i,r,o){if(i.C=r,r=i.o.get(r))for(var s=t(r.keys()),p=s.next();!p.done;p=s.next())(p=r.get(p.value).filter((function(i){return i.endTime<=o})))&&i.i.append(p)}function id(i,r,o){r.startTime+=o,r.endTime+=o;for(var s=(r=t(r.nestedCues)).next();!s.done;s=r.next())id(i,s.value,o)}function jd(i,r,o,s,p){for(var m=o+" "+s,v=new Map,y=(r=t(r)).next();!y.done;y=r.next()){var x=y.value;y=x.stream,x=x.cue,v.has(y)||v.set(y,new Map),v.get(y).has(m)||v.get(y).set(m,[]),id(i,x,p),x.startTime>=i.l&&x.startTime<i.m&&(v.get(y).get(m).push(x),y==i.C&&i.i.append([x]))}for(m=(p=t(v.keys())).next();!m.done;m=p.next())for(m=m.value,i.o.has(m)||i.o.set(m,new Map),y=(r=t(v.get(m).keys())).next();!y.done;y=r.next())y=y.value,x=v.get(m).get(y),i.o.get(m).set(y,x);i.g=null==i.g?Math.max(o,i.l):Math.min(i.g,Math.max(o,i.l)),i.h=Math.max(i.h,Math.min(s,i.m))}M("shaka.util.Uint8ArrayUtils",Kc),Kc.concat=Qc,Kc.toHex=Pc,Kc.fromHex=Oc,Kc.fromBase64=Nc,Kc.toBase64=Mc,Kc.toStandardBase64=Lc,Rc.prototype.destroy=function(){return this.g.dispose(),this.g=null,Promise.resolve()},M("shaka.util.MimeUtils",Wc),Wc.getFullType=Xc,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels"),bd.prototype.destroy=function(){return this.i=this.j=null,this.o.clear(),Promise.resolve()},bd.prototype.remove=function(i,r){var o=this;return K((function(s){if(1==s.g)return u(s,Promise.resolve(),2);!o.i||!o.i.remove(i,r)||null==o.g||r<=o.g||i>=o.h||(i<=o.g&&r>=o.h?o.g=o.h=null:i<=o.g&&r<o.h?o.g=r:i>o.g&&r>=o.h&&(o.h=i)),A(s)}))},M("shaka.text.TextEngine",bd),bd.prototype.destroy=bd.prototype.destroy,bd.findParser=function(i){return Xn[i]},bd.unregisterParser=function(i){delete Xn[i]},bd.registerParser=function(i,r){Xn[i]=r};var Xn={};function kd(){}function ld(i,r){return i=Q(i),r=Q(r),i.split("-")[0]==r.split("-")[0]}function md(i,r){i=Q(i),r=Q(r);var o=i.split("-"),s=r.split("-");return o[0]==s[0]&&1==o.length&&2==s.length}function nd(i,r){i=Q(i),r=Q(r);var o=i.split("-"),s=r.split("-");return 2==o.length&&2==s.length&&o[0]==s[0]}function Q(i){var r=i.split("-");return i=r[0]||"",r=r[1]||"",i=i.toLowerCase(),i=pi.get(i)||i,(r=r.toUpperCase())?i+"-"+r:i}function pd(i,r){return i=Q(i),(r=Q(r))==i?4:md(r,i)?3:nd(r,i)?2:md(i,r)?1:0}function td(i){var r=i.indexOf("-");return i=(i=0<=r?i.substring(0,r):i).toLowerCase(),pi.get(i)||i}function vd(i){return i.language?Q(i.language):i.audio&&i.audio.language?Q(i.audio.language):i.video&&i.video.language?Q(i.video.language):"und"}function wd(i,r){for(var o=Q(i),s=new Set,p=t(r),m=p.next();!m.done;m=p.next())s.add(Q(m.value));for(m=(p=t(s)).next();!m.done;m=p.next())if((m=m.value)==o)return m;for(m=(p=t(s)).next();!m.done;m=p.next())if(md(m=m.value,o))return m;for(m=(p=t(s)).next();!m.done;m=p.next())if(nd(m=m.value,o))return m;for(m=(s=t(s)).next();!m.done;m=s.next())if(md(o,m=m.value))return m;return null}M("shaka.util.LanguageUtils",kd),kd.findClosestLocale=wd,kd.getLocaleForVariant=vd,kd.getLocaleForText=function(i){return Q(i.language||"und")},kd.getBase=td,kd.relatedness=pd,kd.areSiblings=function(i,r){var o=td(i),s=td(r);return i!=o&&r!=s&&o==s},kd.normalize=Q,kd.isSiblingOf=nd,kd.isParentOf=md,kd.areLanguageCompatible=ld,kd.areLocaleCompatible=function(i,r){return(i=Q(i))==(r=Q(r))};var pi=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function xd(){this.g={}}function yd(i,r){for(var o in i.g)r(o,i.g[o])}function zd(i,r,o,s,p){var m=i.variants;(r.length||o.length)&&(m=function Ad(i,r,o){for(var s={},p=(r=t(r)).next();!p.done;s={ud:s.ud},p=r.next())if(s.ud=p.value,p=i.filter(function(i){return function(r){return r.video&&r.video.codecs.startsWith(i.ud)}}(s)),p.length){i=p;break}for(s={},o=t(o),r=o.next();!r.done;s={fd:s.fd},r=o.next())if(s.fd=r.value,r=i.filter(function(i){return function(r){return r.audio&&r.audio.codecs.startsWith(i.fd)}}(s)),r.length){i=r;break}return i}(m,r,o)),r=function Cd(i){for(var r=new xd,o=(i=t(i)).next();!o.done;o=i.next()){var s=Fd(o=o.value);r.push(s,o)}return r}(m=Bd(m,s)),r=function Dd(i){var r=0,o=new Map,s=i.size();return yd(i,(function(i,p){for(var m=t(p),v=m.next();!v.done;v=m.next()){var y=(v=v.value).video;if(y&&y.width&&y.height){y=y.width*y.height*(y.frameRate||1),o.has(y)||o.set(y,new xd);var x=o.get(y);x.push(i,v),x.size()===s&&(r=Math.max(r,y))}}})),r?o.get(r):i}(r);var v=function Ed(i,r){for(var o=t(r),s=o.next();!s.done;s=o.next())if((s=s.value)==_i||s==Ki){if(1==(i=Id(i,s)).size())return i.keys()[0]}else if(s==qi)break;return function Kd(i){var r="",o=1/0;return yd(i,(function(i,s){for(var p=0,m=0,v=t(s),y=v.next();!y.done;y=v.next())p+=y.value.bandwidth||0,++m;(p/=m)<o&&(r=i,o=p)})),r}(i)}(r,p);i.variants=i.variants.filter((function(i){return Fd(i)==v}))}function Id(i,r){var o=0,s=new xd;return yd(i,(function(i,p){for(var m=0,v=0,y=t(p),x=y.next();!x.done;x=y.next())(x=x.value).decodingInfos.length&&(m+=x.decodingInfos[0][r]?1:0,v++);(m/=v)>o?(s.g={},s.push(i,p),o=m):m==o&&s.push(i,p)})),s}function Fd(i){var r="";i.video&&(r=Zc(i.video.codecs));var o="";return i.audio&&(o=Zc(i.audio.codecs)),r+"-"+o}function Md(i,r,o){function d(i,r,o){return i>=r&&i<=o}var s=i.video;if(0!=i.disabledUntilTime){if(i.disabledUntilTime>Date.now()/1e3)return!1;i.disabledUntilTime=0}return!(s&&s.width&&s.height&&(!d(s.width,r.minWidth,Math.min(r.maxWidth,o.width))||!d(s.height,r.minHeight,Math.min(r.maxHeight,o.height))||!d(s.width*s.height,r.minPixels,r.maxPixels))||i&&i.video&&i.video.frameRate&&!d(i.video.frameRate,r.minFrameRate,r.maxFrameRate)||!d(i.bandwidth,r.minBandwidth,r.maxBandwidth))}function Nd(i,r,o){for(var s=!1,p=(i=t(i)).next();!p.done;p=i.next()){var m=(p=p.value).allowedByApplication;p.allowedByApplication=Md(p,r,o),m!=p.allowedByApplication&&(s=!0)}return s}function Od(i,r){return K((function(o){return 1==o.g?u(o,Pd(r,0<r.offlineSessionIds.length),2):(Qd(i,r),function Rd(i){i.textStreams=i.textStreams.filter((function(i){return cd(Xc(i.mimeType,i.codecs))}))}(r),u(o,function Sd(i){var r,o,s,p,m,v,y;return K((function(x){switch(x.g){case 1:r=[],o=t(i.imageStreams),s=o.next();case 2:if(s.done){x.A(4);break}if(p=s.value,m=p.mimeType,Vi.has(m)){x.A(5);break}if(!(v=er.get(m))){Vi.set(m,!1),x.A(5);break}return u(x,function ae(i){return new Promise((function(r){var o=new Image;o.src=i,"decode"in o?o.decode().then((function(){r(!0)})).catch((function(){r(!1)})):o.onload=o.onerror=function(){r(2===o.height)}}))}(v),7);case 7:y=x.h,Vi.set(m,y);case 5:Vi.get(m)&&r.push(p),s=o.next(),x.A(2);break;case 4:i.imageStreams=r,A(x)}}))}(r),0))}))}function Pd(i,r){return K((function(o){if(1==o.g)return u(o,Td(i.variants,r,!1),2);i.variants=i.variants.filter((function(i){var r=i.video;if(r){var o=Ud(r.codecs);if(r.codecs.includes(",")){var s=r.codecs.split(",");if(o=gc("video",s),s=gc("audio",s),s=Yc(r.mimeType,s,"audio"),!MediaSource.isTypeSupported(s))return!1}if(o=Yc(r.mimeType,o,"video"),!MediaSource.isTypeSupported(o))return!1}return!((o=i.audio)&&(s=Vd(o.codecs),o=Yc(o.mimeType,s,"audio"),!MediaSource.isTypeSupported(o)))&&(rc()&&r&&(r.width&&1920<r.width||r.height&&1080<r.height)&&(r.codecs.includes("avc1.")||r.codecs.includes("avc3."))?(Wd(i),!1):((r=i.decodingInfos.some((function(i){return i.supported})))||Wd(i),r))})),A(o)}))}function Td(i,r,o){var s,p,m,v,y,x,S,j,D,P;return K((function(L){if(i.some((function(i){return i.decodingInfos.length})))return L.return();for(s=navigator.mediaCapabilities,p=[],m=function(i,r){var o;return K((function(p){return 1==p.g?(C(p,2),u(p,s.decodingInfo(r),4)):2!=p.g?(o=p.h,i.decodingInfos.push(o),va(p,0)):(F(p),JSON.stringify(r),void A(p))}))},v=t(i),y=v.next();!y.done;y=v.next())for(x=y.value,S=Xd(x,r,o),j=t(S),D=j.next();!D.done;D=j.next())P=D.value,p.push(m(x,P));return u(L,Promise.all(p),0)}))}function Xd(i,r,o){var s=i.audio,p=i.video;if(o={type:o?"file":"media-source"},p){var m=p.codecs;if(p.codecs.includes(",")){var v=p.codecs.split(",");m=Ud(m=gc("video",v)),v=gc("audio",v),v=Yc(p.mimeType,v,"audio"),o.audio={contentType:v,channels:2,bitrate:i.bandwidth||1,samplerate:1,spatialRendering:!1}}if(m=Ud(m),m=Yc(p.mimeType,m,"video"),o.video={contentType:m,width:p.width||64,height:p.height||64,bitrate:p.bandwidth||i.bandwidth||1,framerate:p.frameRate||1},p.hdr)switch(p.hdr){case"SDR":o.video.transferFunction="srgb";break;case"PQ":o.video.transferFunction="pq";break;case"HLG":o.video.transferFunction="hlg"}}if(s&&(m=Vd(s.codecs),m=Yc(s.mimeType,m,"audio"),o.audio={contentType:m,channels:s.channelsCount||2,bitrate:s.bandwidth||i.bandwidth||1,samplerate:s.audioSamplingRate||1,spatialRendering:s.spatialAudio}),!(v=(i.video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[])).length)return[o];i=[],m=new Map;for(var y=(v=t(v)).next();!y.done;y=v.next()){var x=y.value;m.get(x.keySystem)||m.set(x.keySystem,[]),m.get(x.keySystem).push(x)}v=r?"required":"optional",r=r?["persistent-license"]:["temporary"];for(var S=(x=t(m.keys())).next();!S.done;S=x.next()){var j=S.value;S=Object.assign({},o);var D=m.get(j);for(j={keySystem:j,initDataType:"cenc",persistentState:v,distinctiveIdentifier:"optional",sessionTypes:r},y=(D=t(D)).next();!y.done;y=D.next()){if((y=y.value).initData&&y.initData.length){for(var P=new Set,L=t(y.initData),_=L.next();!_.done;_=L.next())P.add(_.value.initDataType);j.initDataType=y.initData[0].initDataType}y.distinctiveIdentifierRequired&&(j.distinctiveIdentifier="required"),y.persistentStateRequired&&(j.persistentState="required"),y.sessionType&&(j.sessionTypes=[y.sessionType]),s&&(j.audio?j.audio.robustness=j.audio.robustness||y.audioRobustness:j.audio={robustness:y.audioRobustness}),p&&(j.video?j.video.robustness=j.video.robustness||y.videoRobustness:j.video={robustness:y.videoRobustness})}S.keySystemConfiguration=j,i.push(S)}return i}function Vd(i){return tc()&&"ac-3"==i.toLowerCase()?"ec-3":i}function Ud(i){return"vp9"==i?"vp09.00.41.08":i}function Qd(i,r){r.variants=r.variants.filter((function(r){var o=r.audio;return r=r.video,!(o&&i&&i.audio&&!Yd(o,i.audio)||r&&i&&i.video&&!Yd(r,i.video))}))}function Yd(i,r){return i.mimeType==r.mimeType&&i.codecs.split(".")[0]==r.codecs.split(".")[0]}function be(i){var r=i.audio,o=i.video,s=r?r.mimeType:null,p=o?o.mimeType:null,m=r?r.codecs:null,v=o?o.codecs:null,y=[];v&&y.push(v),m&&y.push(m);var x=[];o&&x.push(o.mimeType),r&&x.push(r.mimeType),x=x[0]||null;var S=[];r&&S.push(r.kind),o&&S.push(o.kind),S=S[0]||null;var j=new Set;if(r)for(var D=t(r.roles),P=D.next();!P.done;P=D.next())j.add(P.value);if(o)for(P=(D=t(o.roles)).next();!P.done;P=D.next())j.add(P.value);return i={id:i.id,active:!1,type:"variant",bandwidth:i.bandwidth,language:i.language,label:null,kind:S,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:x,audioMimeType:s,videoMimeType:p,codecs:y.join(", "),audioCodec:m,videoCodec:v,primary:i.primary,roles:Array.from(j),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},o&&(i.videoId=o.id,i.originalVideoId=o.originalId,i.width=o.width||null,i.height=o.height||null,i.frameRate=o.frameRate||null,i.pixelAspectRatio=o.pixelAspectRatio||null,i.videoBandwidth=o.bandwidth||null),r&&(i.audioId=r.id,i.originalAudioId=r.originalId,i.channelsCount=r.channelsCount,i.audioSamplingRate=r.audioSamplingRate,i.audioBandwidth=r.bandwidth||null,i.spatialAudio=r.spatialAudio,i.label=r.label,i.audioRoles=r.roles),i}function ce(i){return{id:i.id,active:!1,type:yn,bandwidth:0,language:i.language,label:i.label,kind:i.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:i.mimeType,audioMimeType:null,videoMimeType:null,codecs:i.codecs||null,audioCodec:null,videoCodec:null,primary:i.primary,roles:i.roles,audioRoles:null,forced:i.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:i.originalId,originalImageId:null}}function de(i){var r=i.width||null,o=i.height||null,s=null;i.segmentIndex&&(s=i.segmentIndex.get(0));var p=i.tilesLayout;return s&&(p=s.tilesLayout||p),p&&null!=r&&(r/=Number(p.split("x")[0])),p&&null!=o&&(o/=Number(p.split("x")[1])),{id:i.id,active:!1,type:"image",bandwidth:i.bandwidth||0,language:"",label:null,kind:null,width:r,height:o,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:i.mimeType,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:p||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:i.originalId}}function ee(i){return i.__shaka_id||(i.__shaka_id=Ai++),i.__shaka_id}function ge(i){var r=he(i);return r.active="disabled"!=i.mode,r.type="text",r.originalTextId=i.id,"captions"==i.kind&&(r.mimeType="application/cea-608"),i.kind&&(r.roles=[i.kind]),"forced"==i.kind&&(r.forced=!0),r}function ie(i){var r=he(i);return r.active=i.enabled,r.type="variant",r.originalAudioId=i.id,"main"==i.kind&&(r.primary=!0),i.kind&&(r.roles=[i.kind],r.audioRoles=[i.kind],r.label=i.label),r}function he(i){return{id:ee(i),active:!1,type:"",bandwidth:0,language:Q(i.language),label:i.label,kind:i.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function je(i){return i.allowedByApplication&&i.allowedByKeySystem}function Bd(i,r){for(var o=i.filter((function(i){return i.audio&&i.audio.channelsCount})),s=new Map,p=(o=t(o)).next();!p.done;p=o.next()){var m=(p=p.value).audio.channelsCount;s.has(m)||s.set(m,[]),s.get(m).push(p)}return 0==(o=Array.from(s.keys())).length?i:(p=o.filter((function(i){return i<=r}))).length?s.get(Math.max.apply(Math,ia(p))):s.get(Math.min.apply(Math,ia(o)))}function le(i,r,o,s){var p=i,m=i.filter((function(i){return i.primary}));m.length&&(p=m);var v=p.length?p[0].language:"";if(p=p.filter((function(i){return i.language==v})),r){var y=wd(Q(r),i.map((function(i){return i.language})));y&&(p=i.filter((function(i){return Q(i.language)==y})))}if(p=p.filter((function(i){return i.forced==s})),o){if((i=me(p,o)).length)return i}else if(i=p.filter((function(i){return 0==i.roles.length})),i.length)return i;return i=p.map((function(i){return i.roles})).reduce(bc,[]),i.length?me(p,i[0]):p}function me(i,r){return i.filter((function(i){return i.roles.includes(r)}))}function Wd(i){var r=[];return i.audio&&r.push(ne(i.audio)),i.video&&r.push(ne(i.video)),r.join(", ")}function ne(i){return"audio"==i.type?"type=audio codecs="+i.codecs+" bandwidth="+i.bandwidth+" channelsCount="+i.channelsCount+" audioSamplingRate="+i.audioSamplingRate:"video"==i.type?"type=video codecs="+i.codecs+" bandwidth="+i.bandwidth+" frameRate="+i.frameRate+" width="+i.width+" height="+i.height:"unexpected stream type"}(s=xd.prototype).push=function(i,r){this.g.hasOwnProperty(i)?this.g[i].push(r):this.g[i]=[r]},s.get=function(i){return(i=this.g[i])?i.slice():null},s.remove=function(i,r){i in this.g&&(this.g[i]=this.g[i].filter((function(i){return i!=r})),0==this.g[i].length&&delete this.g[i])},s.size=function(){return Object.keys(this.g).length},s.keys=function(){return Object.keys(this.g)};var Ai=0,_i="smooth",Ki="powerEfficient",qi="bandwidth",Vi=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),er=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function oe(){var i=this;this.l=null,this.o=!1,this.i=new Sa,navigator.connection&&navigator.connection.addEventListener("change",(function(){if(i.g.useNetworkInformation&&i.o){i.i=new Sa,i.g&&i.i.configure(i.g.advanced);var r=i.chooseVariant();r&&i.l(r)}})),this.m=[],this.u=1,this.C=!1,this.h=this.j=this.g=this.s=null,this.D=new O((function(){if(i.g.restrictToElementSize){var r=i.chooseVariant();r&&i.l(r)}}))}function qe(i){var r=i.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&i.g.useNetworkInformation&&(r=1e6*navigator.connection.downlink),r}function pe(i,r,o,s){return i&&(r=r.filter((function(r){return Md(r,i,{width:s,height:o})}))),r.sort((function(i,r){return i.bandwidth-r.bandwidth}))}(s=oe.prototype).stop=function(){this.l=null,this.o=!1,this.m=[],this.u=1,this.j=this.s=null,this.h&&(this.h.disconnect(),this.h=null),this.D.stop()},s.init=function(i){this.l=i},s.chooseVariant=function(){var r=1/0,o=1/0;this.h&&this.g.restrictToElementSize&&(o=this.g.ignoreDevicePixelRatio?1:i.devicePixelRatio,r=this.j.clientWidth*o,o*=this.j.clientHeight),r=pe(this.g.restrictions,this.m,r,o),o=this.i.getBandwidthEstimate(qe(this)),this.m.length&&!r.length&&(r=[(r=pe(null,this.m,1/0,1/0))[0]]);for(var s=r[0]||null,p=0;p<r.length;p++){for(var m=r[p],v=isNaN(this.u)?1:Math.abs(this.u),y=v*m.bandwidth/this.g.bandwidthDowngradeTarget,x={bandwidth:1/0},S=p+1;S<r.length;S++)if(m.bandwidth!=r[S].bandwidth){x=r[S];break}v=v*x.bandwidth/this.g.bandwidthUpgradeTarget,o>=y&&o<=v&&s.bandwidth!=m.bandwidth&&(s=m)}return this.s=Date.now(),s},s.enable=function(){this.o=!0},s.disable=function(){this.o=!1},s.segmentDownloaded=function(i,r){if(this.i.sample(i,r),null!=this.s&&this.o)e:{if(this.C){if(Date.now()-this.s<1e3*this.g.switchInterval)break e}else{var o=this.i;if(!(o.g>=o.i))break e;this.C=!0}o=this.chooseVariant(),this.i.getBandwidthEstimate(qe(this)),o&&this.l(o)}},s.getBandwidthEstimate=function(){return this.i.getBandwidthEstimate(qe(this))},s.setVariants=function(i){this.m=i},s.playbackRateChanged=function(i){this.u=i},s.setMediaElement=function(r){var o=this;this.j=r,this.h&&(this.h.disconnect(),this.h=null),this.j&&"ResizeObserver"in i&&(this.h=new ResizeObserver((function(){o.D.P(rr)})),this.h.observe(this.j))},s.configure=function(i){this.g=i,this.i&&this.g&&this.i.configure(this.g.advanced)},M("shaka.abr.SimpleAbrManager",oe),oe.prototype.configure=oe.prototype.configure,oe.prototype.setMediaElement=oe.prototype.setMediaElement,oe.prototype.playbackRateChanged=oe.prototype.playbackRateChanged,oe.prototype.setVariants=oe.prototype.setVariants,oe.prototype.getBandwidthEstimate=oe.prototype.getBandwidthEstimate,oe.prototype.segmentDownloaded=oe.prototype.segmentDownloaded,oe.prototype.disable=oe.prototype.disable,oe.prototype.enable=oe.prototype.enable,oe.prototype.chooseVariant=oe.prototype.chooseVariant,oe.prototype.init=oe.prototype.init,oe.prototype.stop=oe.prototype.stop;var rr=1;function se(i,r){this.g=i,this.h=r}function ve(i,r,o,s){Va([o,"has been deprecated and will be removed in",r,". We are currently at version",i,". Additional information:",s].join(" "))}function we(i,r,o,s){Ua([o,"has been deprecated and has been removed in",r,". We are now at version",i,". Additional information:",s].join(""))}se.prototype.toString=function(){return"v"+this.g+"."+this.h};var ar=null;function xe(i,r){this.h=i,this.g=new Set([i]);for(var o=t(r=r||[]),s=o.next();!s.done;s=o.next())this.add(s.value)}function ye(i,r){var o;if(!(o=!!i.audio!=!!r.audio||!!i.video!=!!r.video||i.language!=r.language)&&(o=i.audio&&r.audio)){o=i.audio;var s=r.audio;o=!((!(!o.channelsCount||!s.channelsCount||2<o.channelsCount||2<s.channelsCount)||o.channelsCount==s.channelsCount)&&ze(o,s)&&Ae(o.roles,s.roles))}return!o&&(o=i.video&&r.video)&&(o=!(ze(o=i.video,s=r.video)&&Ae(o.roles,s.roles))),!o}function ze(i,r){if(i.mimeType!=r.mimeType)return!1;var o=i.codecs.split(",").map((function(i){return $c(i)[0]})),s=r.codecs.split(",").map((function(i){return $c(i)[0]}));if(o.length!=s.length)return!1;o.sort(),s.sort();for(var p=0;p<o.length;p++)if(o[p]!=s[p])return!1;return!0}function Ae(i,r){var o=new Set(i),s=new Set(r);if(o.delete("main"),s.delete("main"),o.size!=s.size)return!1;for(var p=(o=t(o)).next();!p.done;p=o.next())if(!s.has(p.value))return!1;return!0}function Be(i){this.g=i,this.h=new Ce(i.language,"",i.audio&&i.audio.channelsCount?i.audio.channelsCount:0,"")}function Ce(i,r,o,s){this.i=i,this.j=r,this.g=o,this.h=void 0===s?"":s}function Ge(){this.g=sr,this.h=(new Map).set(sr,2).set(or,1)}function Je(i,r,o){i.h.set(sr,o).set(or,r)}xe.prototype.add=function(i){return!!ye(this.h,i)&&(this.g.add(i),!0)},xe.prototype.values=function(){return this.g.values()},Be.prototype.create=function(i){var r=this,o=i.filter((function(i){return ye(r.g,i)}));return o.length?new xe(o[0],o):this.h.create(i)},Ce.prototype.create=function(i){var r=[];r=function De(i,r){var o=wd(Q(r),i.map((function(i){return vd(i)})));return o?i.filter((function(i){return o==vd(i)})):[]}(i,this.i);var o=i.filter((function(i){return i.primary}));for(i=function Ee(i,r){return i.filter((function(i){return!!i.audio&&(r?i.audio.roles.includes(r):0==i.audio.roles.length)}))}(r=r.length?r:o.length?o:i,this.j),i.length&&(r=i),this.g&&((i=Bd(r,this.g)).length&&(r=i)),this.h&&(i=function Fe(i,r){return i.filter((function(i){return!!i.audio&&i.audio.label.toLowerCase()==r.toLowerCase()}))}(r,this.h),i.length&&(r=i)),i=new xe(r[0]),o=(r=t(r)).next();!o.done;o=r.next())o=o.value,ye(i.h,o)&&i.add(o);return i};var or=0,sr=1;function Ke(i,r){var o=Le();this.l=null==i.maxAttempts?o.maxAttempts:i.maxAttempts,this.j=null==i.baseDelay?o.baseDelay:i.baseDelay,this.o=null==i.fuzzFactor?o.fuzzFactor:i.fuzzFactor,this.m=null==i.backoffFactor?o.backoffFactor:i.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==r&&r)&&(this.g=1)}function Me(i){var r,o;return K((function(s){if(1==s.g){if(i.g>=i.l){if(!i.i)throw new N(2,7,1010);i.g=1,i.h=i.j}return r=i.g,i.g++,0==r?s.return():(o=i.h*(1+(2*Math.random()-1)*i.o),u(s,new Promise((function(i){new O(i).P(o/1e3)})),2))}i.h*=i.m,A(s)}))}function Le(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Ne(i,r){this.promise=i,this.i=r,this.g=!1}function Oe(i){return new Ne(Promise.reject(i),(function(){return Promise.resolve()}))}function Pe(){var i=Promise.reject(new N(2,7,7001));return i.catch((function(){})),new Ne(i,(function(){return Promise.resolve()}))}function Qe(i){return new Ne(Promise.resolve(i),(function(){return Promise.resolve()}))}function Re(i){return new Ne(i,(function(){return i.catch((function(){}))}))}function Se(i){return new Ne(Promise.all(i.map((function(i){return i.promise}))),(function(){return Promise.all(i.map((function(i){return i.abort()})))}))}function R(r,o){if(o)if(o instanceof Map)for(var s=t(o.keys()),p=s.next();!p.done;p=s.next())p=p.value,Object.defineProperty(this,p,{value:o.get(p),writable:!0,enumerable:!0});else for(s in o)Object.defineProperty(this,s,{value:o[s],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=i.performance&&i.performance.now?i.performance.now():Date.now(),this.type=r,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function Ue(i){var r,o=new R(i.type);for(r in i)Object.defineProperty(o,r,{value:i[r],writable:!0,enumerable:!0});return o}Ne.prototype.abort=function(){return this.g=!0,this.i()},Ne.prototype.finally=function(i){return this.promise.then((function(){return i(!0)}),(function(){return i(!1)})),this},Ne.prototype.Z=function(i,r){function c(m){return function(v){if(o.g&&m)s.reject(p);else{var y=m?i:r;y?d=function Te(i,r,o){try{var s=i(r);return s&&s.promise&&s.abort?(o.resolve(s.promise),function(){return s.abort()}):(o.resolve(s),function(){return Promise.resolve(s).then((function(){}),(function(){}))})}catch(i){return o.reject(i),function(){return Promise.resolve()}}}(y,v,s):(m?s.resolve:s.reject)(v)}}}function d(){return s.reject(p),o.abort()}var o=this,s=new lc,p=new N(2,7,7001);return this.promise.then(c(!0),c(!1)),new Ne(s,(function(){return d()}))},M("shaka.util.AbortableOperation",Ne),Ne.prototype.chain=Ne.prototype.Z,Ne.prototype.finally=Ne.prototype.finally,Ne.all=Se,Ne.prototype.abort=Ne.prototype.abort,Ne.notAbortable=Re,Ne.completed=Qe,Ne.aborted=Pe,Ne.failed=Oe,R.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},R.prototype.stopImmediatePropagation=function(){this.g=!0},R.prototype.stopPropagation=function(){},M("shaka.util.FakeEvent",R);var dr={ug:"abrstatuschanged",vg:"adaptation",wg:"buffering",yg:"downloadfailed",zg:"downloadheadersreceived",Ag:"drmsessionupdate",Cg:"emsg",Error:"error",Dg:"expirationupdated",Eg:"gapjumped",Gg:"loaded",Hg:"loading",Jg:"manifestparsed",Kg:"mediaqualitychanged",Metadata:"metadata",Mg:"onstatechange",Ng:"onstateidle",Og:"ratechange",Qg:"sessiondata",Rg:"stalldetected",Sg:"streaming",Tg:"textchanged",Ug:"texttrackvisibility",Vg:"timelineregionadded",Wg:"timelineregionenter",Xg:"timelineregionexit",Yg:"trackschanged",$g:"unloading",ah:"variantchanged"};function We(){this.da=new xd,this.Lc=this}function Xe(i){var r=new Set;return function b(i){switch(typeof i){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return i;default:if(!i||i.buffer&&i.buffer.constructor==ArrayBuffer)return i;if(r.has(i))return null;var o=i.constructor==Array;if(i.constructor!=Object&&!o)return null;r.add(i);var s,p=o?[]:{};for(s in i)p[s]=b(i[s]);return o&&(p.length=i.length),p}}(i)}function Ye(i){var r,o={};for(r in i)o[r]=i[r];return o}function Ze(){this.g=[]}function $e(i,r){i.g.push(r.finally((function(){eb(i.g,r)})))}function af(i,r,o){We.call(this),this.i=!1,this.m=new Ze,this.g=new Set,this.h=new Set,this.l=i||null,this.j=r||null,this.s=o||null,this.o=!1}function bf(i,r,o,s){o=o||xr;var p=kr[i];(!p||o>=p.priority)&&(kr[i]={priority:o,Vf:r,Wf:void 0!==s&&s})}function ef(i,r,o){return{uris:i,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:r,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===o?null:o}}function jf(i,r,o,s,p,m,v){i.o&&(o.uris[p]=o.uris[p].replace("http://","https://"));var y=new Nb(o.uris[p]),x=y.Fa,S=!1;x||(Ob(y,x=(x=location.protocol).slice(0,-1)),o.uris[p]=y.toString()),x=x.toLowerCase();var j=(x=kr[x])?x.Vf:null;if(!j)return Oe(new N(2,1,1e3,y));var D,P=x.Wf,L=null,_=null,B=!1,z=!1;return Re(Me(s)).Z((function(){if(i.i)return Pe();D=Date.now();var s=j(o.uris[p],o,r,(function(o,s,p){L&&L.stop(),_&&_.P(y/1e3),i.l&&r==pr&&(i.l(o,s),S=!0,v.g=p)}),(function(s){i.j&&i.j(s,o,r),z=!0}));if(!P)return s;var m=o.retryParameters.connectionTimeout;m&&(L=new O((function(){B=!0,s.abort()}))).P(m/1e3);var y=o.retryParameters.stallTimeout;return y&&(_=new O((function(){B=!0,s.abort()}))),s})).Z((function(s){L&&L.stop(),_&&_.stop(),null==s.timeMs&&(s.timeMs=Date.now()-D);var p={response:s,Kf:S};return!z&&i.j&&i.j(s.headers,o,r),p}),(function(y){if(L&&L.stop(),_&&_.stop(),i.s){var x=null,S=0;y instanceof N&&(x=y,1001==y.code&&(S=y.data[1])),i.s(o,x,S,B)}if(i.i)return Pe();if(B&&(y=new N(1,1,1003,o.uris[p],r)),y instanceof N){if(7001==y.code)throw y;if(1010==y.code)throw m;if(1==y.severity)return x=new R("retry",x=(new Map).set("error",y)),i.dispatchEvent(x),p=(p+1)%o.uris.length,jf(i,r,o,s,p,y,v)}throw y}))}function ff(){this.g=0}function gf(i,r,o){Ne.call(this,i,r),this.h=o}We.prototype.addEventListener=function(i,r){this.da&&this.da.push(i,r)},We.prototype.removeEventListener=function(i,r){this.da&&this.da.remove(i,r)},We.prototype.dispatchEvent=function(i){if(!this.da)return!0;var r=this.da.get(i.type)||[],o=this.da.get("All");for(o&&(r=r.concat(o)),o=(r=t(r)).next();!o.done;o=r.next()){o=o.value,i.target=this.Lc,i.currentTarget=this.Lc;try{o.handleEvent?o.handleEvent(i):o.call(this,i)}catch(i){}if(i.g)break}return i.defaultPrevented},We.prototype.release=function(){this.da=null},Ze.prototype.destroy=function(){for(var i=[],r=t(this.g),o=r.next();!o.done;o=r.next())(o=o.value).promise.catch((function(){})),i.push(o.abort());return this.g=[],Promise.all(i)},pa(af,We),(s=af.prototype).$d=function(i){this.o=i},s.Xf=function(i){this.g.add(i)},s.ng=function(i){this.g.delete(i)},s.df=function(){this.g.clear()},s.Yf=function(i){this.h.add(i)},s.og=function(i){this.h.delete(i)},s.ef=function(){this.h.clear()},s.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),We.prototype.release.call(this),this.m.destroy()},s.request=function(i,r){var o=this,s=new ff;if(this.i){var p=Promise.reject(new N(2,7,7001));return p.catch((function(){})),new gf(p,(function(){return Promise.resolve()}),s)}r.method=r.method||"GET",r.headers=r.headers||{},r.retryParameters=r.retryParameters?Xe(r.retryParameters):Le(),r.uris=Xe(r.uris),p=function hf(i,r,o){for(var s=Qe(void 0),p={},m=(i=t(i.g)).next();!m.done;p={pd:p.pd},m=i.next())p.pd=m.value,s=s.Z(function(i){return function(){return o.body&&(o.body=Gb(o.body)),i.pd(r,o)}}(p));return s.Z(void 0,(function(i){if(i instanceof N&&7001==i.code)throw i;throw new N(2,1,1006,i)}))}(this,i,r);var m=p.Z((function(){return jf(o,i,r,new Ke(r.retryParameters,!1),0,null,s)})),v=m.Z((function(r){return function kf(i,r,o){for(var s=Qe(void 0),p={},m=(i=t(i.h)).next();!m.done;p={qd:p.qd},m=i.next())p.qd=m.value,s=s.Z(function(i){return function(){var s=o.response;return s.data&&(s.data=Gb(s.data)),i.qd(r,s)}}(p));return s.Z((function(){return o}),(function(i){var r=2;if(i instanceof N){if(7001==i.code)throw i;r=i.severity}throw new N(r,1,1007,i)}))}(o,i,r)})),y=Date.now(),x=0;p.promise.then((function(){x=Date.now()-y}),(function(){}));var S=0;m.promise.then((function(){S=Date.now()}),(function(){}));var j=v.Z((function(r){var s=Date.now()-S,p=r.response;return p.timeMs+=x,p.timeMs+=s,r.Kf||!o.l||p.fromCache||i!=pr||o.l(p.timeMs,p.data.byteLength),p}),(function(i){throw i&&(i.severity=2),i}));return p=new gf(j.promise,(function(){return j.abort()}),s),$e(this.m,p),p},M("shaka.net.NetworkingEngine",af),af.prototype.request=af.prototype.request,af.prototype.destroy=af.prototype.destroy,af.makeRequest=ef,af.defaultRetryParameters=function(){return Le()},af.prototype.clearAllResponseFilters=af.prototype.ef,af.prototype.unregisterResponseFilter=af.prototype.og,af.prototype.registerResponseFilter=af.prototype.Yf,af.prototype.clearAllRequestFilters=af.prototype.df,af.prototype.unregisterRequestFilter=af.prototype.ng,af.prototype.registerRequestFilter=af.prototype.Xf,af.unregisterScheme=function(i){delete kr[i]},af.registerScheme=bf,af.prototype.setForceHTTPS=af.prototype.$d,af.NumBytesRemainingClass=ff,pa(gf,Ne),af.PendingRequest=gf;var pr=1;af.RequestType={MANIFEST:0,SEGMENT:pr,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6};var xr=3;af.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:xr};var kr={};function mf(i){this.g=!1,this.h=new lc,this.i=i}function nf(i,r){if(i.g){if(r instanceof N&&7003==r.code)throw r;throw new N(2,7,7003,r)}}function of(){this.g=new xd}function pf(i,r,o,s){this.target=i,this.type=r,this.listener=o,this.g=function qf(i,r){if(null==r)return!1;if("boolean"==typeof r)return r;var o=new Set(["passive","capture"]);return Object.keys(r).filter((function(i){return!o.has(i)})),function rf(i){var r=jr;if(null==r){r=!1;try{var o={},s={get:function(){return r=!0,!1}};Object.defineProperty(o,"passive",s),Object.defineProperty(o,"capture",s),s=function(){},i.addEventListener("test",s,o),i.removeEventListener("test",s,o)}catch(i){r=!1}jr=r}return r||!1}(i)?r:r.capture||!1}(i,s),this.target.addEventListener(r,o,this.g)}mf.prototype.destroy=function(){var i=this;return this.g?this.h:(this.g=!0,this.i().then((function(){i.h.resolve()}),(function(){i.h.resolve()})))},(s=of.prototype).release=function(){this.mb(),this.g=null},s.B=function(i,r,o,s){this.g&&(i=new pf(i,r,o,s),this.g.push(r,i))},s.oa=function(i,r,o,s){var p=this;this.B(i,r,(function e(s){p.xc(i,r,e),o(s)}),s)},s.xc=function(i,r,o){if(this.g)for(var s=this.g.get(r)||[],p=(s=t(s)).next();!p.done;p=s.next())(p=p.value).target!=i||o!=p.listener&&o||(p.xc(),this.g.remove(r,p))},s.mb=function(){if(this.g){var i,r=this.g,o=[];for(i in r.g)o.push.apply(o,ia(r.g[i]));for(o=(r=t(o)).next();!o.done;o=r.next())o.value.xc();this.g.g={}}},M("shaka.util.EventManager",of),of.prototype.removeAll=of.prototype.mb,of.prototype.unlisten=of.prototype.xc,of.prototype.listenOnce=of.prototype.oa,of.prototype.listen=of.prototype.B,of.prototype.release=of.prototype.release,pf.prototype.xc=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var jr=void 0;function tf(i,r){for(var o=[],s=t(i),p=s.next();!p.done;p=s.next())o.push(r(p.value));return o}function vf(i){for(var r=new Map,o=t(Object.keys(i)),s=o.next();!s.done;s=o.next())s=s.value,r.set(s,i[s]);return r}function wf(i){var r={};return i.forEach((function(i,o){r[o]=i})),r}function xf(i,r){if(!i&&!r)return!0;if(i&&!r||r&&!i)return!1;if(i.size!=r.size)return!1;for(var o=t(i),s=o.next();!s.done;s=o.next()){var p=t(s.value);if(s=p.next().value,p=p.next().value,!r.has(s))return!1;if((s=r.get(s))!=p||null==s)return!1}return!0}function yf(i,r){this.S=Ib(i),this.h=r==_r,this.g=0}function Af(){return new N(2,3,3e3)}(s=yf.prototype).ma=function(){return this.g<this.S.byteLength},s.$=function(){return this.g},s.tf=function(){return this.S.byteLength},s.Ra=function(){try{var i=this.S.getUint8(this.g);return this.g+=1,i}catch(i){throw Af()}},s.Rd=function(){try{var i=this.S.getUint16(this.g,this.h);return this.g+=2,i}catch(i){throw Af()}},s.N=function(){try{var i=this.S.getUint32(this.g,this.h);return this.g+=4,i}catch(i){throw Af()}},s.Ie=function(){try{var i=this.S.getInt32(this.g,this.h);return this.g+=4,i}catch(i){throw Af()}},s.Jb=function(){try{if(this.h)var i=this.S.getUint32(this.g,!0),r=this.S.getUint32(this.g+4,!0);else r=this.S.getUint32(this.g,!1),i=this.S.getUint32(this.g+4,!1)}catch(i){throw Af()}if(2097151<r)throw new N(2,3,3001);return this.g+=8,r*Math.pow(2,32)+i},s.Za=function(i){if(this.g+i>this.S.byteLength)throw Af();var r=Fb(this.S,this.g,i);return this.g+=i,r},s.skip=function(i){if(this.g+i>this.S.byteLength)throw Af();this.g+=i},s.dg=function(i){if(this.g<i)throw Af();this.g-=i},s.seek=function(i){if(0>i||i>this.S.byteLength)throw Af();this.g=i},s.qc=function(){for(var i=this.g;this.ma()&&0!=this.S.getUint8(this.g);)this.g+=1;return i=Fb(this.S,i,this.g-i),this.g+=1,Bc(i)},M("shaka.util.DataViewReader",yf),yf.prototype.readTerminatedString=yf.prototype.qc,yf.prototype.seek=yf.prototype.seek,yf.prototype.rewind=yf.prototype.dg,yf.prototype.skip=yf.prototype.skip,yf.prototype.readBytes=yf.prototype.Za,yf.prototype.readUint64=yf.prototype.Jb,yf.prototype.readInt32=yf.prototype.Ie,yf.prototype.readUint32=yf.prototype.N,yf.prototype.readUint16=yf.prototype.Rd,yf.prototype.readUint8=yf.prototype.Ra,yf.prototype.getLength=yf.prototype.tf,yf.prototype.getPosition=yf.prototype.$,yf.prototype.hasMoreData=yf.prototype.ma;var _r=1;function Bf(){this.i=[],this.h=[],this.g=!1}function Ff(i){for(var r=Gf(i);i.reader.ma()&&!i.parser.g;)i.parser.Zc(i.start+r,i.reader,i.partialOkay)}function Hf(i){for(var r=Gf(i),o=i.reader.N(),s=0;s<o&&(i.parser.Zc(i.start+r,i.reader,i.partialOkay),!i.parser.g);s++);}function If(i){return function(r){i(r.reader.Za(r.reader.S.byteLength-r.reader.$()))}}function Cf(i){for(var r=0,o=(i=t(i)).next();!o.done;o=i.next())r=r<<8|o.value.charCodeAt(0);return r}function Lf(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,255&i)}function Gf(i){return 8+(i.has64BitSize?8:0)+(null!=i.flags?4:0)}yf.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:_r},(s=Bf.prototype).box=function(i,r){var o=Cf(i);return this.i[o]=Wr,this.h[o]=r,this},s.U=function(i,r){var o=Cf(i);return this.i[o]=ea,this.h[o]=r,this},s.stop=function(){this.g=!0},s.parse=function(i,r,o){for(i=new yf(i,0),this.g=!1;i.ma()&&!this.g;)this.Zc(0,i,r,o)},s.Zc=function(i,r,o,s){var p=r.$();if(s&&p+8>r.S.byteLength)this.g=!0;else{var m=r.N(),v=r.N(),y=!1;switch(m){case 0:m=r.S.byteLength-p;break;case 1:if(s&&r.$()+8>r.S.byteLength)return void(this.g=!0);m=r.Jb(),y=!0}var x=this.h[v];if(x){var S=null,j=null;if(this.i[v]==ea){if(s&&r.$()+4>r.S.byteLength)return void(this.g=!0);S=(j=r.N())>>>24,j&=16777215}v=p+m,o&&v>r.S.byteLength&&(v=r.S.byteLength),s&&v>r.S.byteLength?this.g=!0:(s=v-r.$(),x({parser:this,partialOkay:o||!1,version:S,flags:j,reader:r=new yf(r=0<s?r.Za(s):new Uint8Array(0),0),size:m,start:p+i,has64BitSize:y}))}else r.skip(Math.min(p+m-r.$(),r.S.byteLength-r.$()))}},M("shaka.util.Mp4Parser",Bf),Bf.headerSize=Gf,Bf.typeToString=Lf,Bf.allData=If,Bf.sampleDescription=Hf,Bf.children=Ff,Bf.prototype.parseNext=Bf.prototype.Zc,Bf.prototype.parse=Bf.prototype.parse,Bf.prototype.stop=Bf.prototype.stop,Bf.prototype.fullBox=Bf.prototype.U,Bf.prototype.box=Bf.prototype.box;var Wr=0,ea=1;function Mf(i){var r=this;this.g=[],this.h=[],this.data=[],(new Bf).box("moov",Ff).box("moof",Ff).U("pssh",(function(i){if(!(1<i.version)){var o=Fb(i.reader.S,-12,i.size);if(r.data.push(o),r.g.push(Pc(i.reader.Za(16))),0<i.version){o=i.reader.N();for(var s=0;s<o;s++){var p=Pc(i.reader.Za(16));r.h.push(p)}}}})).parse(i)}function Nf(i,r,o,s){var p=i.length,m=r.length+16+p;0<s&&(m+=4+16*o.size);var v=new Uint8Array(m),y=Ib(v),x=0;if(y.setUint32(x,m),x+=4,y.setUint32(x,1886614376),x+=4,1>s?y.setUint32(x,0):y.setUint32(x,16777216),x+=4,v.set(r,x),x+=r.length,0<s)for(y.setUint32(x,o.size),x+=4,o=(r=t(o)).next();!o.done;o=r.next())o=Oc(o.value),v.set(o,x),x+=o.length;return y.setUint32(x,p),v.set(i,x+4),v}function Of(i,r){var o=Pf(i,r);return 1!=o.length?null:o[0]}function Qf(i,r,o){return 1!=(i=Rf(i,r,o)).length?null:i[0]}function Pf(i,r){for(var o=[],s=t(i.childNodes),p=s.next();!p.done;p=s.next())(p=p.value)instanceof Element&&p.tagName==r&&o.push(p);return o}function Rf(i,r,o){for(var s=[],p=(i=t(i.childNodes)).next();!p.done;p=i.next())(p=p.value)instanceof Element&&p.localName==o&&p.namespaceURI==r&&s.push(p);return s}function Tf(i,r,o){return i.hasAttributeNS(r,o)?i.getAttributeNS(r,o):null}function Uf(i,r,o){for(var s=(r=t(r)).next();!s.done;s=r.next())if(s=s.value,i.hasAttributeNS(s,o))return i.getAttributeNS(s,o);return null}function Vf(i){return Array.from(i.childNodes).every(Wf)?i.textContent.trim():null}function Wf(i){return i.nodeType==Node.TEXT_NODE||i.nodeType==Node.CDATA_SECTION_NODE}function Xf(i,r,o,s){s=void 0===s?null:s;var p=null;return null!=(i=i.getAttribute(r))&&(p=o(i)),null==p?s:p}function Yf(i){return i?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(i)&&(i+="Z"),i=Date.parse(i),isNaN(i)?null:i/1e3):null}function Zf(i){return i&&(i=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$").exec(i))?(i=31536e3*Number(i[1]||null)+2592e3*Number(i[2]||null)+86400*Number(i[3]||null)+3600*Number(i[4]||null)+60*Number(i[5]||null)+Number(i[6]||null),isFinite(i)?i:null):null}function $f(i){var r=/([0-9]+)-([0-9]+)/.exec(i);return r?(i=Number(r[1]),isFinite(i)?(r=Number(r[2]),isFinite(r)?{start:i,end:r}:null):null):null}function ag(i){return 0==(i=Number(i))%1?i:null}function bg(i){return 0==(i=Number(i))%1&&0<i?i:null}function cg(i){return 0==(i=Number(i))%1&&0<=i?i:null}function dg(i){return i=Number(i),isNaN(i)?null:i}function eg(i){var r,o=(r=i.match(/^(\d+)\/(\d+)$/))?Number(r[1])/Number(r[2]):Number(i);return isNaN(o)?null:o}function fg(i,r){var o=new DOMParser,s=ta.value()(i),p=null;try{p=o.parseFromString(s,"text/xml")}catch(i){return null}if(!(o=p.documentElement)||o.getElementsByTagName("parsererror").length||o.tagName!=r)return null;for(p=document.createNodeIterator(p,NodeFilter.SHOW_ALL);s=p.nextNode();)if(s instanceof HTMLElement||s instanceof SVGElement)return null;return o}function hg(i,r){try{return fg(Bc(i),r)}catch(i){return null}}var ta=new mc((function(){if("undefined"!=typeof trustedTypes){var i=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(i){return i}});return function(r){return i.createHTML(r)}}return function(i){return i}}));function ig(i,r){var o=this;r=void 0===r?1:r,this.D=i,this.G=new Set,this.l=this.u=null,this.ha=this.ca=!1,this.I=0,this.g=null,this.s=new of,this.i=new Map,this.C=[],this.o=new lc,this.h=null,this.m=function(r){o.o.reject(r),i.onError(r)},this.ia=new Map,this.da=new Map,this.T=new O((function(){return function jg(i){var r=i.ia,o=i.da;o.clear(),r.forEach((function(i,r){return o.set(r,i)})),(r=Array.from(o.values())).length&&r.every((function(i){return"expired"==i}))&&i.m(new N(2,6,6014)),i.D.Xc(wf(o))}(o)})),this.M=!1,this.L=[],this.O=!1,this.ea=new O((function(){!function kg(i){i.i.forEach((function(r,o){var s=r.Od,p=o.expiration;isNaN(p)&&(p=1/0),p!=s&&(i.D.onExpirationUpdated(o.sessionId,p),r.Od=p)}))}(o)})).Da(r),this.o.catch((function(){})),this.j=new mf((function(){return function lg(i){return K((function(r){switch(r.g){case 1:return i.s.release(),i.s=null,i.o.reject(),i.ea.stop(),i.ea=null,i.T.stop(),i.T=null,u(r,mg(i),2);case 2:if(!i.l){r.A(3);break}return C(r,4),u(r,i.l.setMediaKeys(null),6);case 6:va(r,5);break;case 4:F(r);case 5:i.l=null;case 3:i.g=null,i.G.clear(),i.u=null,i.C=[],i.h=null,i.m=function(){},i.D=null,i.Y=!1,i.F=null,A(r)}}))}(o)})),this.Y=!1,this.F=null}function pg(i,r,o){return i.C=o,i.M=0<o.length,og(i,r)}function og(r,o){var s,p,m,v,y,x,S,j,D,P,L,_;return K((function(B){if(1==B.g){if(s=function sg(r){if(0==(r=vf(r.h.clearKeys)).size)return null;var o=[],s=[];r.forEach((function(i,r){var p=Oc(r),m=Oc(i);p={kty:"oct",kid:Mc(p,!1),k:Mc(m,!1)},o.push(p),s.push(p.kid)})),r=JSON.stringify({keys:o});var p=JSON.stringify({kids:s});return p=[{initData:Fb(Ic(p)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+i.btoa(r),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:p,keyIds:new Set(s)}}(r))for(p=t(o),m=p.next();!m.done;m=p.next())(v=m.value).video&&(v.video.drmInfos=[s]),v.audio&&(v.audio.drmInfos=[s]);for((y=o.some((function(i){return!!(i.video&&i.video.drmInfos.length||i.audio&&i.audio.drmInfos.length)})))||(x=vf(r.h.servers),function tg(i,r){var o=[];r.forEach((function(i,r){o.push({keySystem:r,licenseServerUri:i,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})}));for(var s=t(i),p=s.next();!p.done;p=s.next())(p=p.value).video&&(p.video.drmInfos=o),p.audio&&(p.audio.drmInfos=o)}(o,x)),S=t(o),m=S.next();!m.done;m=S.next())for(j=m.value,D=ug(j),P=t(D),L=P.next();!L.done;L=P.next())vg(L.value,vf(r.h.servers),vf(r.h.advanced||{}),r.h.keySystemsMapping);return u(B,Td(o,r.M,r.Y),2)}return y||Object.keys(r.h.servers).length?(_=rg(r,void 0,o),B.return(y?_:_.catch((function(){})))):(r.ca=!0,B.return(Promise.resolve()))}))}function wg(i){var r;return K((function(o){switch(o.g){case 1:if(i.l.mediaKeys)return o.return();if(!i.F){o.A(2);break}return u(o,i.F,3);case 3:return nf(i.j),o.return();case 2:return C(o,4),i.F=i.l.setMediaKeys(i.u),u(o,i.F,6);case 6:va(o,5);break;case 4:r=F(o),i.m(new N(2,6,6003,r.message));case 5:nf(i.j),A(o)}}))}function Bg(i){var r,o;return K((function(s){switch(s.g){case 1:if(!i.u||!i.g)return s.return();if(!i.g.serverCertificateUri||i.g.serverCertificate&&i.g.serverCertificate.length){s.A(2);break}return r=ef([i.g.serverCertificateUri],i.h.retryParameters),C(s,3),u(s,i.D.kb.request(5,r).promise,5);case 5:o=s.h,i.g.serverCertificate=Fb(o.data),va(s,4);break;case 3:throw new N(2,6,6017,F(s));case 4:if(i.j.g)return s.return();case 2:return i.g.serverCertificate&&i.g.serverCertificate.length?(C(s,6),u(s,i.u.setServerCertificate(i.g.serverCertificate),8)):s.return();case 8:va(s,0);break;case 6:throw new N(2,6,6004,F(s).message)}}))}function Ag(i){for(var r=(i.g?i.g.initData:[])||[],o=t(r),s=o.next();!s.done;s=o.next())yg(i,(s=s.value).initDataType,s.initData);for(s=(o=t(i.C)).next();!s.done;s=o.next())Dg(i,s.value);return r.length||i.C.length||i.o.resolve(),i.o}function yg(i,r,o){if(o.length){for(var s=i.i.values(),p=(s=t(s)).next();!p.done;p=s.next())if(Db(o,p.value.initData)&&!sc("Tizen 2"))return;0<i.i.size&&Eg(i)&&(i.o.resolve(),i.o=new lc,i.o.catch((function(){}))),function Fg(i,r,o,s){try{var p=i.u.createSession(s)}catch(r){return void i.m(new N(2,6,6005,r.message))}i.s.B(p,"message",(function(r){i.l&&i.h.delayLicenseRequestUntilPlayed&&i.l.paused&&!i.O?i.L.push(r):zg(i,r)})),i.s.B(p,"keystatuseschange",(function(r){return Lg(i,r)})),i.i.set(p,{initData:o,initDataType:r,loaded:!1,Od:1/0,Ja:null,type:s});try{o=i.h.initDataTransform(o,r,i.g)}catch(o){return r=o,o instanceof N||(r=new N(2,6,6016,o)),void i.m(r)}i.h.logLicenseExchange&&Mc(o),p.generateRequest(r,o).catch((function(r){if(!i.j.g){i.i.delete(p);var o=r.errorCode;if(o&&o.systemCode){var s=o.systemCode;0>s&&(s+=Math.pow(2,32)),s="0x"+s.toString(16)}i.m(new N(2,6,6006,r.message,r,s))}}))}(i,r,o,i.g.sessionType)}}function Gg(i){return!!i&&!!i.match(/^com\.(microsoft|chromecast)\.playready/)}function Hg(i){return i=tf(i=i.i.keys(),(function(i){return i.sessionId})),Array.from(i)}function rg(i,r,o){var s,p,m,v,y,x,S,j,D,P,L,_,B;return K((function(z){switch(z.g){case 1:if(s=new Map,o.length){p=function Ig(i,r,o){for(var s=t(r),p=s.next();!p.done;p=s.next()){var m=t(ug(p.value));for(p=m.next();!p.done;p=m.next())p=p.value,o.has(p.keySystem)||o.set(p.keySystem,[]),o.get(p.keySystem).push(p)}if(1==o.size&&o.has(""))throw new N(2,6,6e3);for(s={},i=t(i.h.preferredKeySystems),p=i.next();!p.done;s={nd:s.nd},p=i.next())for(s.nd=p.value,m=t(r),p=m.next();!p.done;p=m.next())if(p=p.value.decodingInfos.find(function(i){return function(r){return r.supported&&null!=r.keySystemAccess&&r.keySystemAccess.keySystem==i.nd}}(s)))return p.keySystemAccess;for(i=t([!0,!1]),p=i.next();!p.done;p=i.next())for(s=p.value,m=t(r),p=m.next();!p.done;p=m.next()){var v=t(p.value.decodingInfos);for(p=v.next();!p.done;p=v.next()){var y=p.value;if(y.supported&&y.keySystemAccess){var x=t(p=o.get(y.keySystemAccess.keySystem));for(p=x.next();!p.done;p=x.next())if(!!p.value.licenseServerUri==s)return y.keySystemAccess}}}return null}(i,o,s),z.A(2);break}return u(z,function Jg(i,r){var o,s,p,m,v,y,x,S,j,D,P,L,_,B,z;return K((function(G){switch(G.g){case 1:if(1==r.size&&r.has(""))throw new N(2,6,6e3);for(s=t(r.values()),p=s.next();!p.done;p=s.next())0==(m=p.value).audioCapabilities.length&&delete m.audioCapabilities,0==m.videoCapabilities.length&&delete m.videoCapabilities;v=t(i.h.preferredKeySystems),y=v.next();case 2:if(y.done){G.A(4);break}if(x=y.value,!r.has(x)){G.A(3);break}return S=r.get(x),C(G,6),u(G,navigator.requestMediaKeySystemAccess(x,[S]),8);case 8:return o=G.h,G.return(o);case 6:F(G);case 7:nf(i.j);case 3:y=v.next(),G.A(2);break;case 4:j=t([!0,!1]),D=j.next();case 9:if(D.done){G.A(11);break}P=D.value,L=t(r.keys()),y=L.next();case 12:if(y.done){D=j.next(),G.A(9);break}if(_=y.value,B=r.get(_),z=B.drmInfos.some((function(i){return!!i.licenseServerUri})),z!=P){G.A(13);break}return C(G,15),u(G,navigator.requestMediaKeySystemAccess(_,[B]),17);case 17:return o=G.h,G.return(o);case 15:F(G);case 16:nf(i.j);case 13:y=L.next(),G.A(12);break;case 11:return G.return(o)}}))}(i,r),3);case 3:p=z.h;case 2:if(!(m=p))throw new N(2,6,6001);for(nf(i.j),C(z,4),i.G.clear(),v=m.getConfiguration(),y=v.audioCapabilities||[],x=v.videoCapabilities||[],S=t(y),j=S.next();!j.done;j=S.next())D=j.value,i.G.add(D.contentType.toLowerCase());for(P=t(x),j=P.next();!j.done;j=P.next())L=j.value,i.G.add(L.contentType.toLowerCase());if(o.length){var G=m.keySystem,Y=s.get(m.keySystem),$=[],re=[],ue=[],fe=[],Ie=new Set;Kg(Y,$,ue,re,fe,Ie);var _e=i.M?"persistent-license":"temporary";for(G={keySystem:G,licenseServerUri:$[0],distinctiveIdentifierRequired:Y[0].distinctiveIdentifierRequired,persistentStateRequired:Y[0].persistentStateRequired,sessionType:Y[0].sessionType||_e,audioRobustness:Y[0].audioRobustness||"",videoRobustness:Y[0].videoRobustness||"",serverCertificate:ue[0],serverCertificateUri:re[0],initData:fe,keyIds:Ie},$=(Y=t(Y)).next();!$.done;$=Y.next())($=$.value).distinctiveIdentifierRequired&&(G.distinctiveIdentifierRequired=$.distinctiveIdentifierRequired),$.persistentStateRequired&&(G.persistentStateRequired=$.persistentStateRequired);Y=G}else Y=m.keySystem,G=r.get(m.keySystem),$=[],re=[],ue=[],fe=[],Ie=new Set,Kg(G.drmInfos,$,ue,re,fe,Ie),Y={keySystem:Y,licenseServerUri:$[0],distinctiveIdentifierRequired:"required"==G.distinctiveIdentifier,persistentStateRequired:"required"==G.persistentState,sessionType:G.sessionTypes[0]||"temporary",audioRobustness:(G.audioCapabilities?G.audioCapabilities[0].robustness:"")||"",videoRobustness:(G.videoCapabilities?G.videoCapabilities[0].robustness:"")||"",serverCertificate:ue[0],serverCertificateUri:re[0],initData:fe,keyIds:Ie};if(i.g=Y,!i.g.licenseServerUri)throw new N(2,6,6012,i.g.keySystem);return u(z,m.createMediaKeys(),6);case 6:return _=z.h,nf(i.j),i.u=_,i.ca=!0,u(z,Bg(i),7);case 7:nf(i.j),va(z,0);break;case 4:if(B=F(z),nf(i.j,B),i.g=null,i.G.clear(),B instanceof N)throw B;throw new N(2,6,6002,B.message)}}))}function Dg(i,r){var o,s,p,m,v;return K((function(y){switch(y.g){case 1:try{o=i.u.createSession("persistent-license")}catch(r){return s=new N(2,6,6005,r.message),i.m(s),y.return(Promise.reject(s))}return i.s.B(o,"message",(function(r){i.l&&i.h.delayLicenseRequestUntilPlayed&&i.l.paused&&!i.O?i.L.push(r):zg(i,r)})),i.s.B(o,"keystatuseschange",(function(r){return Lg(i,r)})),p={initData:null,initDataType:null,loaded:!1,Od:1/0,Ja:null,type:"persistent-license"},i.i.set(o,p),C(y,2),u(y,o.load(r),4);case 4:return m=y.h,nf(i.j),m?(p.loaded=!0,Eg(i)&&i.o.resolve(),y.return(o)):(i.i.delete(o),i.m(new N(2,6,6013)),y.return(Promise.resolve()));case 2:v=F(y),nf(i.j,v),i.i.delete(o),i.m(new N(2,6,6005,v.message));case 3:return y.return(Promise.resolve())}}))}function zg(i,r){var o,s,p,m,v,y,x,S,j,D,P,L;K((function(_){switch(_.g){case 1:return o=r.target,i.h.logLicenseExchange&&Mc(r.message),s=i.i.get(o),p=i.g.licenseServerUri,m=i.h.advanced[i.g.keySystem],"individualization-request"==r.messageType&&m&&m.individualizationServer&&(p=m.individualizationServer),(v=ef([p],i.h.retryParameters)).body=r.message,v.method="POST",v.licenseRequestType=r.messageType,v.sessionId=o.sessionId,v.drmInfo=i.g,s&&(v.initData=s.initData,v.initDataType=s.initDataType),Gg(i.g.keySystem)&&function Mg(i){var r=Cc(i.body,!0,!0);if(r.includes("PlayReadyKeyMessage")){for(var o=t((r=fg(r,"PlayReadyKeyMessage")).getElementsByTagName("HttpHeader")),s=o.next();!s.done;s=o.next())s=s.value,i.headers[s.getElementsByTagName("name")[0].textContent]=s.getElementsByTagName("value")[0].textContent;i.body=Nc(r.getElementsByTagName("Challenge")[0].textContent)}else i.headers["Content-Type"]="text/xml; charset=utf-8"}(v),y=Date.now(),C(_,2),u(_,i.D.kb.request(2,v).promise,4);case 4:x=_.h,va(_,3);break;case 2:return S=F(_),j=new N(2,6,6007,S),i.m(j),s&&s.Ja&&s.Ja.reject(j),_.return();case 3:return i.j.g?_.return():(i.I+=(Date.now()-y)/1e3,i.h.logLicenseExchange&&Mc(x.data),C(_,5),u(_,o.update(x.data),7));case 7:va(_,6);break;case 5:return D=F(_),P=new N(2,6,6008,D.message),i.m(P),s&&s.Ja&&s.Ja.reject(P),_.return();case 6:if(i.j.g)return _.return();L=new R("drmsessionupdate"),i.D.onEvent(L),s&&(s.Ja&&s.Ja.resolve(),new O((function(){s.loaded=!0,Eg(i)&&i.o.resolve()})).P(oa)),A(_)}}))}function Lg(i,r){var o=r.target,s=i.i.get(o),p=!1;o.keyStatuses.forEach((function(r,o){if("string"==typeof o){var m=o;o=r,r=m}if(Gg(i.g.keySystem)&&16==o.byteLength&&(navigator.userAgent.match(/Edge?\//)||wc())){var v=(m=Ib(o)).getUint32(0,!0),y=m.getUint16(4,!0),x=m.getUint16(6,!0);m.setUint32(0,v,!1),m.setUint16(4,y,!1),m.setUint16(6,x,!1)}"status-pending"!=r&&(s.loaded=!0),"expired"==r&&(p=!0),m=Pc(o).slice(0,32),i.ia.set(m,r)}));var m=o.expiration-Date.now();(0>m||p&&1e3>m)&&s&&!s.Ja&&(i.i.delete(o),o.close().catch((function(){}))),Eg(i)&&(i.o.resolve(),i.T.P(la))}function mg(i){var r;return K((function(o){return r=Array.from(i.i.entries()),i.i.clear(),u(o,Promise.all(r.map((function(r){var o=(r=t(r)).next().value,s=r.next().value;return K((function(r){return 1==r.g?(C(r,2),i.ha||i.C.includes(o.sessionId)||"persistent-license"!==s.type?u(r,function Qg(i){var r;return K((function(o){return 1==o.g?(r=new Promise((function(i,r){new O(r).P(na)})),C(o,2),u(o,Promise.race([Promise.all([i.close(),i.closed]),r]),4)):2!=o.g?va(o,0):(F(o),void A(o))}))}(o),5):u(r,o.remove(),5)):2!=r.g?va(r,0):(F(r),void A(r))}))}))),0)}))}function Sg(i,r){if(!i.length)return r;if(!r.length)return i;for(var o=[],s=t(i),p=s.next();!p.done;p=s.next()){p=p.value;for(var m={},v=t(r),y=v.next();!y.done;m={Ea:m.Ea},y=v.next())if(y=y.value,p.keySystem==y.keySystem){m.Ea=[],m.Ea=m.Ea.concat(p.initData||[]),m.Ea=m.Ea.concat(y.initData||[]),m.Ea=m.Ea.filter(function(i){return function(r,o){return void 0===r.keyId||o===i.Ea.findIndex((function(i){return i.keyId===r.keyId}))}}(m)),v=p.keyIds&&y.keyIds?new Set([].concat(ia(p.keyIds),ia(y.keyIds))):p.keyIds||y.keyIds,o.push({keySystem:p.keySystem,licenseServerUri:p.licenseServerUri||y.licenseServerUri,distinctiveIdentifierRequired:p.distinctiveIdentifierRequired||y.distinctiveIdentifierRequired,persistentStateRequired:p.persistentStateRequired||y.persistentStateRequired,videoRobustness:p.videoRobustness||y.videoRobustness,audioRobustness:p.audioRobustness||y.audioRobustness,serverCertificate:p.serverCertificate||y.serverCertificate,serverCertificateUri:p.serverCertificateUri||y.serverCertificateUri,initData:m.Ea,keyIds:v});break}}return o}function ug(i){return(i.video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[])}function Eg(i){return function uf(i,r){for(var o=t(i),s=o.next();!s.done;s=o.next())if(!r(s.value))return!1;return!0}(i=i.i.values(),(function(i){return i.loaded}))}function Kg(i,r,o,s,p,m){for(var v={},y=(i=t(i)).next();!y.done;v={qa:v.qa},y=i.next()){if(v.qa=y.value,r.includes(v.qa.licenseServerUri)||r.push(v.qa.licenseServerUri),s.includes(v.qa.serverCertificateUri)||s.push(v.qa.serverCertificateUri),v.qa.serverCertificate&&(o.some(function(i){return function(r){return Db(r,i.qa.serverCertificate)}}(v))||o.push(v.qa.serverCertificate)),v.qa.initData){y={};for(var x=t(v.qa.initData),S=x.next();!S.done;y={Ac:y.Ac},S=x.next())y.Ac=S.value,p.some(function(i){return function(r){var o=i.Ac;return!(!r.keyId||r.keyId!=o.keyId)||r.initDataType==o.initDataType&&Db(r.initData,o.initData)}}(y))||p.push(y.Ac)}if(v.qa.keyIds)for(x=(y=t(v.qa.keyIds)).next();!x.done;x=y.next())m.add(x.value)}}function vg(r,o,s,p){var m=r.keySystem;!m||"org.w3.clearkey"==m&&r.licenseServerUri||(o.size&&(o=o.get(m)||"",r.licenseServerUri=o),r.keyIds||(r.keyIds=new Set),(s=s.get(m))&&(r.distinctiveIdentifierRequired||(r.distinctiveIdentifierRequired=s.distinctiveIdentifierRequired),r.persistentStateRequired||(r.persistentStateRequired=s.persistentStateRequired),r.videoRobustness||(r.videoRobustness=s.videoRobustness),r.audioRobustness||(r.audioRobustness=s.audioRobustness),r.serverCertificate||(r.serverCertificate=s.serverCertificate),s.sessionType&&(r.sessionType=s.sessionType),r.serverCertificateUri||(r.serverCertificateUri=s.serverCertificateUri)),p[m]&&(r.keySystem=p[m]),i.cast&&i.cast.__platform__&&"com.microsoft.playready"==m&&(r.keySystem="com.chromecast.playready"))}(s=ig.prototype).destroy=function(){return this.j.destroy()},s.configure=function(i){this.h=i},s.Yb=function(i){var r,o=this;return K((function(s){if(1==s.g)return o.u?(o.l=i,o.s.oa(o.l,"play",(function(){for(var i=t(o.L),r=i.next();!r.done;r=i.next())zg(o,r.value);o.O=!0,o.L=[]})),"webkitCurrentPlaybackTargetIsWireless"in o.l&&o.s.B(o.l,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return mg(o)})),(r=o.g.initData.find((function(i){return 0<i.initData.length})))||"com.apple.fps"!==o.g.keySystem||o.C.length?u(s,wg(o),2):s.A(2)):(o.s.oa(i,"encrypted",(function(){o.m(new N(2,6,6010))})),s.return());Ag(o),r||o.C.length||o.h.parseInbandPsshEnabled||o.s.B(o.l,"encrypted",(function(i){return function xg(i,r){return K((function(o){if(1==o.g)return u(o,wg(i),2);yg(i,r.initDataType,Fb(r.initData)),A(o)}))}(o,i)})),A(s)}))},s.ec=function(){for(var i=1/0,r=this.i.keys(),o=(r=t(r)).next();!o.done;o=r.next())o=o.value,isNaN(o.expiration)||(i=Math.min(i,o.expiration));return i},s.Nc=function(){return wf(this.da)};var na=1,oa=5,la=.5,da=new mc((function(){return Gb(new Uint8Array([0]))}));function Ug(){}function Vg(i,r,o,s){var p,m,v,y;return K((function(x){if(1==x.g)return s&&(p=ga[s.toLowerCase()])?x.return(p):(m=Xg(i))&&(v=ma[m])?x.return(v):s?x.A(2):u(x,Zg(i,r,o),3);if(2!=x.g&&(s=x.h)&&(y=ga[s]))return x.return(y);throw new N(2,4,4e3,i)}))}function Zg(i,r,o){var s,p,m;return K((function(v){return 1==v.g?((s=ef([i],o)).method="HEAD",u(v,r.request(0,s).promise,2)):(p=v.h,m=p.headers["content-type"],v.return(m?m.toLowerCase().split(";").shift():""))}))}function Xg(i){return 1==(i=new Nb(i).ua.split("/").pop().split(".")).length?"":i.pop().toLowerCase()}M("shaka.media.ManifestParser",Ug),Ug.unregisterParserByMime=function(i){delete ga[i]},Ug.registerParserByMime=function(i,r){ga[i]=r},Ug.registerParserByExtension=function(i,r){ma[i]=r};var ga={},ma={};function ah(i,r,o,s,p){var m=ba.value(),v=i.subarray(o.start,o.start+o.size),y=Ib(v),x=new Uint8Array(o.size+m.byteLength);for(x.set(v,0),(v=Ib(x)).setUint32(4,p),x.set(m,o.size),p=y.getUint32(4),v.setUint32(o.size+16,p),ch(x,0,x.byteLength),p=new Uint8Array(i.byteLength+x.byteLength),o=rc()?o.start:o.start+o.size,m=i.subarray(o),p.set(i.subarray(0,o)),p.set(x,o),p.set(m,o+x.byteLength),s=(i=t(s)).next();!s.done;s=i.next())ch(p,(s=s.value).start,s.size+x.byteLength);return x=Ib(p,r.start),r=Gf(r),i=x.getUint32(r),x.setUint32(r,i+1),p}function ch(i,r,o){0!=(r=(i=Ib(i,r)).getUint32(0))&&(1==r?(i.setUint32(8,o>>32),i.setUint32(12,4294967295&o)):i.setUint32(0,o))}var ba=new mc((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));function dh(i,r,o,s,p){if(s>=p)return null;for(var m=-1,v=-1,y=0;y<o.length;y++)if(o[y].some((function(i){return null!=i&&""!=i.g.trim()}))){m=y;break}for(y=o.length-1;0<=y;y--)if(o[y].some((function(i){return null!=i&&""!=i.g.trim()}))){v=y;break}if(-1===m||-1===v)return null;for(var x=y=!1,S="white",j="black",D=eh(s,p,y,x,S,j);m<=v;m++){for(var P=o[m],L=-1,_=-1,B=0;B<P.length;B++)if(null!=P[B]&&""!==P[B].g.trim()){L=B;break}for(B=P.length-1;0<=B;B--)if(null!=P[B]&&""!==P[B].g.trim()){_=B;break}if(-1===L||-1===_)P=fh(s,p),i.nestedCues.push(P);else{for(;L<=_;L++)if(B=P[L]){var z=B.l,G=B.i,Y=B.j,$=B.h;z==y&&G==x&&Y==S&&$==j||(D.payload&&i.nestedCues.push(D),D=eh(s,p,z,G,Y,$),y=z,x=G,S=Y,j=$),D.payload+=B.g}else D.payload+=" ";D.payload&&i.nestedCues.push(D),m!==v&&(D=fh(s,p),i.nestedCues.push(D)),D=eh(s,p,y,x,S,j)}}return i.nestedCues.length?{cue:i,stream:r}:null}function eh(i,r,o,s,p,m){return i=new hb(i,r,""),o&&i.textDecoration.push("underline"),s&&(i.fontStyle="italic"),i.color=p,i.backgroundColor=m,i}function fh(i,r){var o=new hb(i,r,"");return o.lineBreak=!0,o}function gh(i,r,o,s,p){this.g=i,this.l=r,this.i=o,this.h=s,this.j=p}function hh(i,r){this.i=[],this.g=1,this.h=0,this.u=i,this.s=r,this.j=this.m=!1,this.l="white",this.o="black",ih(this)}function jh(i,r,o){return dh(new hb(r,o,""),"CC"+(i.u<<1|i.s+1),i.i,r,o)}function ih(i){kh(i,0,15),i.g=1}function lh(i,r,o){if(!(32>o||127<o)){var s="";switch(r){case ka:s=ja.has(o)?ja.get(o):String.fromCharCode(o);break;case Ca:s=Da.get(o);break;case Na:i.i[i.g].pop(),s=Oa.get(o);break;case Ra:i.i[i.g].pop(),s=_a.get(o)}s&&i.i[i.g].push(new gh(s,i.m,i.j,i.o,i.l))}}function uh(i,r,o,s){if(!(0>o||0>r))if(r>=o)for(--s;0<=s;s--)i.i[r+s]=i.i[o+s].map((function(i){return i}));else for(var p=0;p<s;p++)i.i[r+p]=i.i[o+p].map((function(i){return i}))}function kh(i,r,o){for(var s=0;s<=o;s++)i.i[r+s]=[]}var ka=0,Ca=1,Na=2,Ra=3,ja=new Map([[39,"â"],[42,"Ã¡"],[92,"Ã©"],[92,"Ã©"],[94,"Ã­"],[95,"Ã³"],[96,"Ãº"],[123,"Ã§"],[124,"Ã·"],[125,"Ã"],[126,"Ã±"],[127,"â"]]),Da=new Map([[48,"Â®"],[49,"Â°"],[50,"Â½"],[51,"Â¿"],[52,"â¢"],[53,"Â¢"],[54,"Â£"],[55,"âª"],[56,"Ã "],[57,"â "],[58,"Ã¨"],[59,"Ã¢"],[60,"Ãª"],[61,"Ã®"],[62,"Ã´"],[63,"Ã»"]]),Oa=new Map([[32,"Ã"],[33,"Ã"],[34,"Ã"],[35,"Ã"],[36,"Ã"],[37,"Ã¼"],[38,"â"],[39,"Â¡"],[40,"*"],[41,"'"],[42,"â"],[43,"Â©"],[44,"â "],[45,"Â·"],[46,"â"],[47,"â"],[48,"Ã"],[49,"Ã"],[50,"Ã"],[51,"Ã"],[52,"Ã"],[53,"Ã"],[54,"Ã«"],[55,"Ã"],[56,"Ã"],[57,"Ã¯"],[58,"Ã"],[59,"Ã"],[60,"Ã¹"],[61,"Ã"],[62,"Â«"],[63,"Â»"]]),_a=new Map([[32,"Ã"],[33,"Ã£"],[34,"Ã"],[35,"Ã"],[36,"Ã¬"],[37,"Ã"],[38,"Ã²"],[39,"Ã"],[40,"Ãµ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ã"],[49,"Ã¤"],[50,"Ã"],[51,"Ã¶"],[52,"Ã"],[53,"Â¥"],[54,"Â¤"],[55,"â"],[56,"Ã"],[57,"Ã¥"],[58,"Ã"],[59,"Ã¸"],[60,"â"],[61,"â"],[62,"â"],[63,"â"]]);function vh(i,r){this.h=Xa,this.o=new hh(i,r),this.i=new hh(i,r),this.l=new hh(i,r),this.g=this.i,this.j=0,this.m=null}function xh(i,r,o){i.g=i.i;var s=i.g,p=null;return i.h!==Ga&&i.h!==Za&&(p=jh(s,i.j,o),(o=i.i).g=0<o.h?o.h:0,kh(o,0,15),(o=i.l).g=0<o.h?o.h:0,kh(o,0,15),s.g=15),i.h=Ga,s.h=r,p}function Ah(i){i.h=Ha,i.g=i.l,i.g.h=0}function Ch(i){Wa("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),i.g=i.o,i.h=Za}var Xa=0,Ha=1,Ga=3,Za=4,$a="black green blue cyan red yellow magenta black".split(" "),eo="white green blue cyan red yellow magenta white_italics".split(" ");function Fh(){this.l=!1,this.C=this.F=0,this.D=ho,this.i=[],this.g=this.h=this.j=0,this.u=this.o=!1,this.s="white",this.m="black",Hh(this)}function Hh(i){i.i=[];for(var r=0;15>r;r++)i.i.push(Ih())}function Ih(){for(var i=[],r=0;42>r;r++)i.push(null);return i}function Jh(i,r){Kh(i)&&(i.i[i.h][i.g]=new gh(r,i.u,i.o,i.m,i.s),i.g++)}function Kh(i){var r=i.g<i.C&&0<=i.g;return i.h<i.F&&0<=i.h&&r}function Lh(i,r,o){var s=new hb(i.j,r,"");return s.textAlign=i.D===ao?"left":i.D===fo?"right":G,(o=dh(s,"svc"+o,i.i,i.j,r))&&(i.j=r),o}Fh.prototype.isVisible=function(){return this.l};var ao=0,fo=1,ho=2;function Oh(){this.i=[],this.h=null,this.g=0}function Ph(i,r){3===r.type?(i.g=2*(63&r.value)-1,i.h=[]):i.h&&(0<i.g&&(i.h.push(r),i.g--),0===i.g&&(i.i.push(new Qh(i.h)),i.h=null,i.g=0))}function Qh(i){this.g=0,this.h=i}function Rh(i){if(!i.ma())throw new N(2,2,3e3);return i.h[i.g++]}function Sh(i){this.i=i,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Th(i,r,o,s){if(128<=o&&135>=o)s=7&o,i.h[s]&&(i.g=i.h[s]);else{if(136===o){o=Rh(r).value,r=null;for(var p=(o=t(Uh(i,o))).next();!p.done;p=o.next())(p=i.h[p.value]).isVisible()&&(r=Lh(p,s,i.i)),Hh(p);return r}if(137===o)for(o=(r=t(Uh(i,r=Rh(r).value))).next();!o.done;o=r.next())(o=i.h[o.value]).isVisible()||(o.j=s),o.l=!0;else{if(138===o){for(o=Rh(r).value,r=null,p=(o=t(Uh(i,o))).next();!p.done;p=o.next())(p=i.h[p.value]).isVisible()&&(r=Lh(p,s,i.i)),p.l=!1;return r}if(139===o){for(o=Rh(r).value,r=null,p=(o=t(Uh(i,o))).next();!p.done;p=o.next())(p=i.h[p.value]).isVisible()?r=Lh(p,s,i.i):p.j=s,p.l=!p.l;return r}if(140===o)return Vh(i,r=Rh(r).value,s);if(143===o)return s=Vh(i,255,s),Wh(i),s;if(144===o)r.skip(1),s=Rh(r).value,i.g&&(i.g.o=0<(128&s),i.g.u=0<(64&s));else if(145===o)s=Rh(r).value,o=Rh(r).value,r.skip(1),i.g&&(r=Xh((48&o)>>4,(12&o)>>2,3&o),i.g.s=Xh((48&s)>>4,(12&s)>>2,3&s),i.g.m=r);else if(146===o)s=Rh(r).value,r=Rh(r).value,i.g&&((i=i.g).h=15&s,i.g=63&r);else if(151===o)r.skip(1),r.skip(1),s=Rh(r).value,r.skip(1),i.g&&(i.g.D=3&s);else if(152<=o&&159>=o){if(o=(15&o)-8,!(p=null!==i.h[o])){var m=new Fh;m.j=s,i.h[o]=m}s=Rh(r).value,Rh(r),Rh(r),m=Rh(r).value;var v=Rh(r).value;r=Rh(r).value,p&&0==(7&r)||((r=i.h[o]).h=0,r.g=0,r.u=!1,r.o=!1,r.s="white",r.m="black"),(r=i.h[o]).l=0<(32&s),r.F=1+(15&m),r.C=1+(63&v),i.g=i.h[o]}}}return null}function Uh(i,r){for(var o=[],s=0;8>s;s++)1==(1&r)&&i.h[s]&&o.push(s),r>>=1;return o}function Vh(i,r,o){for(var s=null,p=(r=t(Uh(i,r))).next();!p.done;p=r.next()){p=p.value;var m=i.h[p];m.isVisible()&&(s=Lh(m,o,i.i)),i.h[p]=null}return s}function Wh(i){i.g=null,i.h=[null,null,null,null,null,null,null,null]}function Xh(i,r,o){var s={0:0,1:0,2:1,3:1};return go[(i=s[i])<<2|(r=s[r])<<1|(o=s[o])]}Qh.prototype.ma=function(){return this.g<this.h.length},Qh.prototype.$=function(){return this.g},Qh.prototype.skip=function(i){if(this.g+i>this.h.length)throw new N(2,2,3e3);this.g+=i};var po=new Map([[32," "],[33,"Â "],[37,"â¦"],[42,"Å "],[44,"Å"],[48,"â"],[49,"â"],[50,"â"],[51,"â"],[52,"â"],[53,"â¢"],[57,"â¢"],[58,"Å¡"],[60,"Å"],[61,"â "],[63,"Å¸"],[118,"â"],[119,"â"],[120,"â"],[121,"â"],[122,"â"],[123,"â"],[124,"â"],[125,"â"],[126,"â"],[127,"â"]]),go="black blue green cyan red magenta yellow white".split(" ");function $h(){this.h=[],this.g=[],this.i=new Oh,this.l=0,this.s=new Map([["CC1",new vh(0,0)],["CC2",new vh(0,1)],["CC3",new vh(1,0)],["CC4",new vh(1,1)]]),this.o=this.m=0,this.j=new Map,ai(this)}function ai(i){i.m=0,i.o=0;for(var r=(i=t(i.s.values())).next();!r.done;r=i.next())(r=r.value).h=2,r.g=r.i,r.m=null,ih(r.i),ih(r.l),ih(r.o)}function ci(i,r){var o=r.type;if(16==(112&r.xa)){var s=r.xa>>3&1;0===o?i.m=s:i.o=s}if(o=i.s.get("CC"+(o<<1|(o?i.o:i.m)+1)),255===r.xa&&255===r.Ma||!r.xa&&!r.Ma||!ei(r.xa)||!ei(r.Ma))return 45<=++i.l&&ai(i),null;if(i.l=0,r.xa&=127,r.Ma&=127,!r.xa&&!r.Ma)return null;if(s=null,16==(112&r.xa))e:{var p=r.xa;if(s=r.Ma,o.m===(p<<8|s))o.m=null;else if(o.m=p<<8|s,16==(240&p)&&64==(192&s)){p=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&p)<<1|s>>5&1];var m=(30&s)>>1,v="white",y=!1;if(7>m?v=eo[m]:7===m&&(y=!0),s=1==(1&s),o.h!==Za){if(m=o.g,o.h===Ga&&p!==m.g){var x=1+p-m.h;uh(m,x,1+m.g-m.h,m.h),kh(m,0,x-1),kh(m,p+1,15-p)}m.g=p,o.g.m=s,o.g.j=y,o.g.l=v,o.g.o="black"}}else if(17==(247&p)&&32==(240&s))o.g.m=!1,o.g.j=!1,o.g.l="white",lh(o.g,ka,32),v=!1,"white_italics"===(p=eo[(14&s)>>1])&&(p="white",v=!0),o.g.m=1==(1&s),o.g.j=v,o.g.l=p;else if(16==(247&p)&&32==(240&s)||23==(247&p)&&45==(255&s))v="black",0==(7&p)&&(v=$a[(14&s)>>1]),o.g.o=v;else if(17==(247&p)&&48==(240&s))lh(o.g,Ca,s);else if(18==(246&p)&&32==(224&s))lh(o.g,1&p?Ra:Na,s);else if(20==(246&p)&&32==(240&s)){switch(s=r.pts,p=null,r.Ma){case 32:Ah(o);break;case 33:(o=o.g).i[o.g].pop();break;case 37:p=xh(o,2,s);break;case 38:p=xh(o,3,s);break;case 39:p=xh(o,4,s);break;case 40:lh(o.g,ka,32);break;case 41:o.h=2,o.g=o.i,o.g.h=0,o.j=s;break;case 42:ih(o.o),Ch(o);break;case 43:Ch(o);break;case 44:p=o.i,v=null,o.h!==Za&&(v=jh(p,o.j,s)),kh(p,0,15),p=v;break;case 45:p=o.g,o.h!==Ga?p=null:(v=jh(p,o.j,s),uh(p,(y=p.g-p.h+1)-1,y,p.h),kh(p,0,y-1),kh(p,p.g,15-p.g),o.j=s,p=v);break;case 46:kh(o.l,0,15);break;case 47:p=null,o.h!==Za&&(p=jh(o.i,o.j,s)),v=o.l,o.l=o.i,o.i=v,Ah(o),o.j=s}s=p;break e}s=null}else p=r.Ma,lh(o.g,ka,r.xa),lh(o.g,ka,p);return s}function di(i,r){var o=[];try{for(;r.ma();){var s=Rh(r).value,p=(224&s)>>5,m=31&s;if(7===p&&0!=m&&(p=63&Rh(r).value),0!=p){i.j.has(p)||i.j.set(p,new Sh(p));for(var v=i.j.get(p),y=r.$();r.$()-y<m;){var x=Rh(p=r),S=x.value,j=x.pts;if(16===S)S=S<<16|Rh(p).value;if(0<=S&&31>=S){var D=j;if(v.g){var P=v.g;switch(p=null,S){case 8:!Kh(P)||0>=P.g&&0>=P.h||(0>=P.g?(P.g=P.C-1,P.h--):P.g--,P.i[P.h][P.g]=null);break;case 13:if(P.isVisible()&&(p=Lh(P,D,v.i)),P.h+1>=P.F){D=P;for(var L=0,_=1;15>_;_++,L++)D.i[L]=D.i[_];for(_=0;1>_;_++,L++)D.i[L]=Ih()}else P.h++;P.g=0;break;case 14:P.isVisible()&&(p=Lh(P,D,v.i)),P.i[P.h]=Ih(),P.g=0;break;case 12:P.isVisible()&&(p=Lh(P,D,v.i)),Hh(P),(D=P).h=0,D.g=0}var B=p}else B=null}else if(128<=S&&159>=S)B=Th(v,p,S,j);else{if(4096<=S&&4127>=S)8<=(D=255&S)&&15>=D?p.skip(1):16<=D&&23>=D?p.skip(2):24<=D&&31>=D&&p.skip(3);else if(4224<=S&&4255>=S)128<=(D=255&S)&&135>=D?p.skip(4):136<=D&&143>=D&&p.skip(5);else if(32<=S&&127>=S)p=S,v.g&&Jh(v.g,127===p?"âª":String.fromCharCode(p));else if(160<=S&&255>=S)v.g&&Jh(v.g,String.fromCharCode(S));else if(4128<=S&&4223>=S){if(p=255&S,v.g)if(po.has(p)){var z=po.get(p);Jh(v.g,z)}else Jh(v.g,"_")}else 4256<=S&&4351>=S&&v.g&&Jh(v.g,160!=(255&S)?"_":"[CC]");B=null}(p=B)&&o.push(p)}}}}catch(i){if(!(i instanceof N&&3e3===i.code))throw i;Wa("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return o}function ei(i){for(var r=0;i;)r^=1&i,i>>=1;return 1===r}function fi(i,r){var o=null,s=null,p=i.N();return 1&r&&i.skip(8),2&r&&i.skip(4),8&r&&(o=i.N()),16&r&&(s=i.N()),{trackId:p,re:o,hf:s}}function gi(i,r){return{le:1==r?i.Jb():i.N()}}function hi(i,r){return 1==r?(i.skip(8),i.skip(8)):(i.skip(4),i.skip(4)),{timescale:i.N()}}function ii(i,r,o){var s=i.N(),p=[];1&o&&i.skip(4),4&o&&i.skip(4);for(var m=0;m<s;m++){var v={Vd:null,sampleSize:null,ad:null};256&o&&(v.Vd=i.N()),512&o&&(v.sampleSize=i.N()),1024&o&&i.skip(4),2048&o&&(v.ad=0==r?i.N():i.Ie()),p.push(v)}return{fh:s,Ke:p}}function ji(){this.i=new Map,this.h=this.g=0}function ki(){this.h=new ji,this.g=new $h}function li(i,r){for(var o=i.h.parse(r),s=(o=t(o)).next();!s.done;s=o.next()){var p=s.value,m=Fb(p.Uf);if(0<m.length&&(s=i.g,p=p.pts,181===(m=new yf(m,0)).Ra()&&49===m.Rd()&&1195456820===m.N()&&3===m.Ra())){var v=m.Ra();if(0!=(64&v)){v&=31,m.skip(1);for(var y=0;y<v;y++){var x=m.Ra(),S=(4&x)>>2,j=m.Ra(),D=m.Ra();S&&(0===(x&=3)||1===x?s.h.push({pts:p,type:x,xa:j,Ma:D,order:s.h.length}):(s.g.push({pts:p,type:x,value:j,order:s.g.length}),s.g.push({pts:p,type:2,value:D,order:s.g.length})))}}}}return function bi(i){function b(i,r){return i.pts-r.pts||i.order-r.order}var r=[];i.h.sort(b),i.g.sort(b);for(var o=t(i.h),s=o.next();!s.done;s=o.next())(s=ci(i,s.value))&&r.push(s);for(s=(o=t(i.g)).next();!s.done;s=o.next())Ph(i.i,s.value);for(s=(o=t(i.i.i)).next();!s.done;s=o.next())s=di(i,s.value),r.push.apply(r,ia(s));return i.i.i=[],i.h=[],i.g=[],r}(i.g)}function mi(i,r,o,s){this.ya=i,this.Ca=r,this.la=o,this.Id=void 0===s?null:s}function oi(i,r,o,s,p,m,v,y,x,S,j,D,P,L,_){S=void 0===S?[]:S,L=void 0===L?Do:L,this.startTime=i,this.j=this.endTime=r,this.o=o,this.Ca=s,this.la=p,this.i=m,this.timestampOffset=v,this.appendWindowStart=y,this.appendWindowEnd=x,this.h=S,this.tilesLayout=void 0===j?"":j,this.m=void 0===D?null:D,this.g=void 0===P?null:P,this.status=L,this.l=void 0===_?null:_}ji.prototype.init=function(i){var r=this,o=[],s=[];if((new Bf).box("moov",Ff).box("mvex",Ff).U("trex",(function(i){var o=i.reader;o.skip(4),o.skip(4),i=o.N(),o=o.N(),r.g=i,r.h=o})).box("trak",Ff).U("tkhd",(function(i){var r=i.reader;1==i.version?(r.skip(8),r.skip(8)):(r.skip(4),r.skip(4)),i=r.N(),o.push(i)})).box("mdia",Ff).U("mdhd",(function(i){i=hi(i.reader,i.version),s.push(i.timescale)})).parse(i,!0),!o.length||!s.length||o.length!=s.length)throw new N(2,2,2010);o.forEach((function(i,o){r.i.set(i,s[o])}))},ji.prototype.parse=function(i){var r=this,o=[],s=this.g,p=this.h,m=[],v=null,y=9e4;return(new Bf).box("moof",Ff).box("traf",Ff).U("trun",(function(i){m=ii(i.reader,i.version,i.flags).Ke})).U("tfhd",(function(i){i=fi(i.reader,i.flags),s=i.re||r.g,p=i.hf||r.h,i=i.trackId,r.i.has(i)&&(y=r.i.get(i))})).U("tfdt",(function(i){v=gi(i.reader,i.version).le})).box("mdat",(function(i){if(null===v)throw new N(2,2,2010);i=i.reader;var r=v,x=y,S=s,j=p,D=m,P=0,L=j;for(D.length&&(L=D[0].sampleSize||j);i.ma();){var _=i.N();if(6==(31&i.Ra())){var B=0;D.length>P&&(B=D[P].ad||0),B=(r+B)/x;for(var z,G=[],Y=i.Za(_-1),$=z=0;$<Y.length;)2==z&&3==Y[$]?(z=0,(Y=[].concat(ia(Y))).splice($,1),Y=new Uint8Array(Y)):0==Y[$]?z++:z=0,$++;for(z=Y,$=0;$<z.length;){for(Y=0;255==z[$];)Y+=255,$++;Y+=z[$++];for(var re=0;255==z[$];)re+=255,$++;re+=z[$++],4==Y&&G.push(z.subarray($,$+re)),$+=re}for(z=(G=t(G)).next();!z.done;z=G.next())o.push({Uf:z.value,pts:B})}else try{i.skip(_-1)}catch(i){break}0==(L-=_+4)&&(r=D.length>P?r+(D[P].Vd||S):r+S,P++,L=D.length>P&&D[P].sampleSize||j)}})).parse(i,!1),o},ki.prototype.init=function(i){this.h.init(i)},mi.prototype.ic=function(){return this.Ca},mi.prototype.dc=function(){return this.la},M("shaka.media.InitSegmentReference",mi),mi.prototype.getEndByte=mi.prototype.dc,mi.prototype.getStartByte=mi.prototype.ic,(s=oi.prototype).ya=function(){return this.o()},s.getStartTime=function(){return this.startTime},s.qf=function(){return this.endTime},s.ic=function(){return this.Ca},s.dc=function(){return this.la},s.Hf=function(){return this.tilesLayout},s.Gf=function(){return this.m},s.Cb=function(){return this.status},s.Of=function(){this.status=_o},M("shaka.media.SegmentReference",oi),oi.prototype.markAsUnavailable=oi.prototype.Of,oi.prototype.getStatus=oi.prototype.Cb,oi.prototype.getTileDuration=oi.prototype.Gf,oi.prototype.getTilesLayout=oi.prototype.Hf,oi.prototype.getEndByte=oi.prototype.dc,oi.prototype.getStartByte=oi.prototype.ic,oi.prototype.getEndTime=oi.prototype.qf,oi.prototype.getStartTime=oi.prototype.getStartTime,oi.prototype.getUris=oi.prototype.ya;var Do=0,_o=1;function ri(i){return!i||1==i.length&&1e-6>i.end(0)-i.start(0)?null:1==i.length&&0>i.start(0)?0:i.length?i.start(0):null}function si(i){return!i||1==i.length&&1e-6>i.end(0)-i.start(0)?null:i.length?i.end(i.length-1):null}function ti(i,r){return!(!i||!i.length||1==i.length&&1e-6>i.end(0)-i.start(0)||r>i.end(i.length-1))&&r>=i.start(0)}function ui(i,r){if(!i||!i.length||1==i.length&&1e-6>i.end(0)-i.start(0))return 0;for(var o=0,s=t(vi(i)),p=s.next();!p.done;p=s.next()){var m=p.value;p=m.start,(m=m.end)>r&&(o+=m-Math.max(p,r))}return o}function vi(i){if(!i)return[];for(var r=[],o=0;o<i.length;o++)r.push({start:i.start(o),end:i.end(o)});return r}function xi(i,r,o,s){var p=this;this.j=i,this.m=o,this.h={},this.M={},this.L={},this.g=null,this.F=!1,this.T=s||function(){},this.i={},this.o=new of,this.u={},this.C=r,this.G=new lc,this.l=function yi(i,r){var o=new MediaSource;return i.o.oa(o,"sourceopen",(function(){URL.revokeObjectURL(i.I),r.resolve()})),i.I=qo(o),i.j.src=i.I,o}(this,this.G),this.D=new mf((function(){return function zi(i){var r,o,s,p,m,v,y;return K((function(x){if(1==x.g){for(o in r=[],i.i)for(s=i.i[o],p=s[0],i.i[o]=s.slice(0,1),p&&r.push(p.p.catch(cc)),m=t(s.slice(1)),v=m.next();!v.done;v=m.next())v.value.p.reject(new N(2,7,7003,void 0));for(y in i.g&&r.push(i.g.destroy()),i.m&&r.push(i.m.destroy()),i.u)r.push(i.u[y].destroy());return u(x,Promise.all(r),2)}i.o&&(i.o.release(),i.o=null),i.j&&(i.j.removeAttribute("src"),i.j.load(),i.j=null),i.l=null,i.g=null,i.m=null,i.h={},i.u={},i.C=null,i.i={},A(x)}))}(p)})),this.I="",this.s=!1,this.O=new lc}function Bi(i,r,o){i.g||(i.g=new bd(i.m));var s=i.g;i=i.F,"application/cea-608"!=r&&"application/cea-708"!=r&&(s.j=(0,Xn[r])(),s.j.setSequenceMode?s.j.setSequenceMode(o):Va('Text parsers should have a "setSequenceMode" method!'),s.u=i)}function Di(i){return!i.l||"ended"==i.l.readyState}function Ei(i,r){return r==yn?i.g.g:ri(Fi(i,r))}function Gi(i,r){return r==yn?i.g.h:si(Fi(i,r))}function Fi(i,r){try{return i.h[r].buffered}catch(i){return null}}function Ii(i,r,o,s,p,m,v){var y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue;return m=void 0!==m&&m,v=void 0!==v&&v,K((function(fe){switch(fe.g){case 1:if(r!=(y=wn).X){fe.A(2);break}if(!i.s){fe.A(3);break}return u(fe,i.O,4);case 4:x=fe.h,i.g.s=x;case 3:return u(fe,function ed(i,r,o,s){var p,m,v,y;return K((function(x){return 1==x.g?u(x,Promise.resolve(),2):i.j&&i.i?null==o||null==s?(i.j.parseInit(Fb(r)),x.return()):(p=i.u?o:i.s,m={periodStart:i.s,segmentStart:o,segmentEnd:s,vttOffset:p},v=i.j.parseMedia(Fb(r),m),y=v.filter((function(r){return r.startTime>=i.l&&r.startTime<i.m})),i.i.append(y),null==i.g&&(i.g=Math.max(o,i.l)),i.h=Math.min(s,i.m),void A(x)):x.return()}))}(i.g,o,s?s.startTime:null,s?s.endTime:null),5);case 5:return fe.return();case 2:if(!i.u[r]){p&&(i.g||Bi(i,"text/vtt",i.s),s?(S=li(i.C,o)).length&&(j=i.h[y.ra].timestampOffset,jd(i.g,S,s.startTime,s.endTime,j)):i.C.init(o)),fe.A(6);break}return u(fe,function Vc(i,r){i.l=!0,i.h=new lc,i.m=[],i.j=[],i.i=[];var o=Fb(r);return i.g.push(o),i.g.flush(),i.l&&i.h.reject(new N(2,3,3018)),i.h}(i.u[r],o),7);case 7:D=fe.h,i.g||Bi(i,"text/vtt",i.s),D.metadata&&(P=i.h[r].timestampOffset,i.T(D.metadata,P,s?s.endTime:null)),D.captions&&D.captions.length&&(L=i.h[y.ra].timestampOffset,_=function hd(i){for(var r=[],o=(i=t(i)).next();!o.done;o=i.next())o=o.value,r.push({stream:o.stream,cue:new hb(o.startTime,o.endTime,o.text)});return r}(D.captions),jd(i.g,_,s?s.startTime:null,s?s.endTime:null,L)),o=D.data;case 6:if(o=function Ji(i,r,o,s){var p=i.L[s];return null==o&&p&&(tc()||rc())&&"mp4"==i.M[s].split(";")[0].split("/")[1]&&(r=function $g(i){function b(){o=!0}function c(i){s.push(i),Ff(i)}i=Fb(i);var r,o=!1,s=[],p=[];if((new Bf).box("moov",c).box("trak",c).box("mdia",c).box("minf",c).box("stbl",c).U("stsd",(function(i){r=i,s.push(i),Hf(i)})).U("encv",b).U("enca",b).U("avc1",(function(i){p.push({box:i,oc:1701733238})})).U("avc3",(function(i){p.push({box:i,oc:1701733238})})).U("ac-3",(function(i){p.push({box:i,oc:1701733217})})).U("ec-3",(function(i){p.push({box:i,oc:1701733217})})).U("mp4a",(function(i){p.push({box:i,oc:1701733217})})).parse(i),o)return i;if(0==p.length||!r)throw Pc(i),new N(2,3,3019);p.reverse();for(var m=t(p),v=m.next();!v.done;v=m.next())v=v.value,i=ah(i,r,v.box,s,v.oc);return i}(r)),r}(i,o,s?s.startTime:null,r),B=i.h[r],z=_s,!i.s||B.mode==z||!s){fe.A(8);break}if(!(r==y.ra||!(y.ra in i.h))){fe.A(9);break}return G=[B.appendWindowStart,B.appendWindowEnd],B.appendWindowStart=0,B.appendWindowEnd=1/0,Y=B.timestampOffset,B.timestampOffset=0,u(fe,Li(i,r,(function(){i.h[r].appendBuffer(o)})),10);case 10:return u(fe,Li(i,r,(function(){return Mi(i,r)})),11);case 11:return B.timestampOffset=Y,B.appendWindowStart=G[0],B.appendWindowEnd=G[1],$=ri(Fi(i,r)),re=(s.startTime||0)-($||0),i.O.resolve(re),u(fe,Li(i,r,(function(){return Ni(i,r,0,i.l.duration)})),12);case 12:if(r!=y.ra){fe.A(9);break}return u(fe,Li(i,r,(function(){i.j.currentTime-=.001,Ci(i,r)})),9);case 9:B.mode=z;case 8:return s&&i.s&&r!=y.X&&(m||v)&&(ue=s.startTime,Li(i,r,(function(){return Mi(i,r)})),Li(i,r,(function(){var o=ue;0>o&&(o+=.001),i.h[r].timestampOffset=o,Ci(i,r)}))),u(fe,Li(i,r,(function(){i.h[r].appendBuffer(o)})),15);case 15:A(fe)}}))}function Qi(i,r){return K((function(o){return r==wn.X?i.g?u(o,i.g.remove(0,1/0),0):o.return():u(o,Li(i,r,(function(){return Ni(i,r,0,i.l.duration)})),0)}))}function Ni(i,r,o,s){s<=o?Ci(i,r):i.h[r].remove(o,s)}function Mi(i,r){var o=i.h[r].appendWindowStart,s=i.h[r].appendWindowEnd;i.h[r].abort(),i.h[r].appendWindowStart=o,i.h[r].appendWindowEnd=s,Ci(i,r)}function Ci(i,r){var o=i.i[r][0];o&&(o.p.resolve(),Ti(i,r))}function Li(i,r,o){return nf(i.D),o={start:o,p:new lc},i.i[r].push(o),1==i.i[r].length&&Ui(i,r),o.p}function Si(i,r){var o,s,p,m,v;return K((function(y){switch(y.g){case 1:for(p in nf(i.D),o=[],s={},i.h)s.Sb=new lc,m={start:function(i){return function(){return i.Sb.resolve()}}(s),p:s.Sb},i.i[p].push(m),o.push(s.Sb),1==i.i[p].length&&m.start(),s={Sb:s.Sb};return C(y,2),u(y,Promise.all(o),4);case 4:va(y,3);break;case 2:throw F(y);case 3:try{r()}catch(i){throw new N(2,3,3015,i)}finally{for(v in i.h)Ti(i,v)}A(y)}}))}function Ti(i,r){i.i[r].shift(),Ui(i,r)}function Ui(i,r){var o=i.i[r][0];if(o)try{o.start()}catch(s){"QuotaExceededError"==s.name?o.p.reject(new N(2,3,3017,r)):o.p.reject(new N(2,3,3015,s)),Ti(i,r)}}oi.Status={tg:Do,Zg:_o,Ig:2},(s=xi.prototype).destroy=function(){return this.D.destroy()},s.init=function(i,r,o){o=void 0!==o&&o;var s,p,m,v,y,x,S,j=this;return K((function(D){if(1==D.g)return s=wn,u(D,j.G,2);for(j.s=o,p={},m=t(i.keys()),v=m.next();!v.done;p={pa:p.pa},v=m.next())p.pa=v.value,y=i.get(p.pa),x=Xc(y.mimeType,y.codecs),p.pa==s.X?Bi(j,x,o):(!r&&MediaSource.isTypeSupported(x)||!Sc(x,p.pa)||(j.u[p.pa]=new Rc,x=Uc(p.pa,x)),S=j.l.addSourceBuffer(x),j.o.B(S,"error",function(i){return function(){j.i[i.pa][0].p.reject(new N(2,3,3014,j.j.error?j.j.error.code:0))}}(p)),j.o.B(S,"updateend",function(i){return function(){return Ci(j,i.pa)}}(p)),j.h[p.pa]=S,j.M[p.pa]=x,j.i[p.pa]=[],j.L[p.pa]=!!y.drmInfos.length);A(D)}))},s.Na=function(){var i={total:vi(this.j.buffered),audio:vi(Fi(this,"audio")),video:vi(Fi(this,"video")),text:[]};if(this.g){var r=this.g.g,o=this.g.h;null!=r&&null!=o&&i.text.push({start:r,end:o})}return i},s.remove=function(i,r,o){var s=this;return K((function(p){return u(p,i==wn.X?s.g.remove(r,o):Li(s,i,(function(){return Ni(s,i,r,o)})),0)}))},s.flush=function(i){var r=this;return K((function(o){return i==wn.X?o.return():u(o,Li(r,i,(function(){r.j.currentTime-=.001,Ci(r,i)})),0)}))},s.endOfStream=function(i){var r=this;return K((function(o){return u(o,Si(r,(function(){Di(r)||(i?r.l.endOfStream(i):r.l.endOfStream())})),0)}))},s.Ia=function(i){var r=this;return K((function(o){return u(o,Si(r,(function(){if(i<r.l.duration)for(var o in r.h){var s={start:function(){},p:new lc};r.i[o].unshift(s)}r.l.duration=i})),0)}))},s.getDuration=function(){return this.l.duration};var qo=i.URL.createObjectURL,_s="sequence",$s=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function T(i,r,o){this.l=i,this.$c=r,this.m=this.i=1/0,this.g=1,this.h=this.j=null,this.o=0,this.s=!0,this.u=0,this.C=void 0===o||o,this.D=0,this.F=!1}function Wi(i,r,o){this.l=o,this.j=i,this.s=Xi(i),this.g=i.g.currentTime,this.m=Date.now()/1e3,this.h=!1,this.o=0,this.u=r,this.i=function(){}}function Zi(i){this.g=i}function Xi(i){if(i.g.paused||0==i.g.playbackRate||0==i.g.buffered.length)var r=!1;else e:{r=i.g.currentTime;for(var o=(i=t(vi(i.g.buffered))).next();!o.done;o=i.next())if(!(r<(o=o.value).start-.1||r>o.end-.5)){r=!0;break e}r=!1}return r}function $i(i,r,o,s,p){var m=this;this.o=p,this.g=i,this.s=r,this.D=o,this.i=new of,this.m=!1,this.C=i.readyState,this.u=0,this.h=s,this.l=!1,this.i.B(i,"waiting",(function(){return aj(m)})),this.j=new O((function(){aj(m)})).Da(.25)}function aj(i){if(0!=i.g.readyState){if(i.g.seeking){if(!i.m)return}else i.m=!1;if(!i.g.paused||0==i.g.currentTime&&(i.g.autoplay||0!=i.g.currentTime)){var r;if(i.g.readyState!=i.C&&(i.C=i.g.readyState),!(r=!i.h)){var o=(r=i.h).j,s=Xi(o),p=o.g.currentTime,m=Date.now()/1e3;r.g==p&&r.s==s||(r.m=m,r.g=p,r.s=s,r.h=!1),(s=(p=m-r.m)>=r.u&&s&&!r.h)&&(r.i(r.g,p),r.h=!0,r.g=o.g.currentTime,r.o++,r.l(new R("stalldetected"))),r=!s}r&&(r=i.g.currentTime,s=function wi(i,r,o){return!i||!i.length||1==i.length&&1e-6>i.end(0)-i.start(0)?null:0<=(i=vi(i).findIndex((function(i,s,p){return i.start>r&&(0==s||p[s-1].end-r<=o)})))?i:null}(o=i.g.buffered,r,i.D.gapDetectionThreshold),null==s||0==s&&!i.l||((p=o.start(s))>=i.s.Oa()||.001>p-r||(0!=s&&o.end(s-1),i.g.currentTime=p,i.u++,i.o(new R("gapjumped")))))}}}function bj(i,r,o,s){r==HTMLMediaElement.HAVE_NOTHING||i.readyState>=r?s():(r=fu.value().get(r),o.oa(i,r,s))}(s=T.prototype).getDuration=function(){return this.i},s.xf=function(){return this.g},s.Ia=function(i){this.i=i},s.Cf=function(){return this.l},s.Oe=function(i){this.o=i},s.wc=function(i){this.s=i},s.ce=function(i){this.m=i},s.jg=function(i){this.$c=i},s.pf=function(){return this.$c},s.Gb=function(i){if(0!=i.length){var r=i[i.length-1].endTime;this.Md(i[0].startTime),this.g=i.reduce((function(i,r){return Math.max(i,r.endTime-r.startTime)}),this.g),this.h=Math.max(this.h,r),null!=this.l&&this.C&&!this.F&&(this.l=(Date.now()+this.o)/1e3-this.h-this.g)}},s.Gd=function(){this.F=!0},s.Md=function(i){this.j=null==this.j?i:Math.min(this.j,i)},s.Ld=function(i){this.g=Math.max(this.g,i)},s.offset=function(i){null!=this.j&&(this.j+=i),null!=this.h&&(this.h+=i)},s.V=function(){return 1/0==this.i&&!this.s},s.jb=function(){return 1/0!=this.i&&!this.s},s.Pa=function(){return Math.max(this.u,this.gb()-this.m)},s.Pe=function(i){this.u=i},s.gb=function(){return this.V()||this.jb()?Math.min(Math.max(0,(Date.now()+this.o)/1e3-this.g-this.l)+this.D,this.i):this.h?Math.min(this.h,this.i):this.i},s.hc=function(i){var r=Math.max(this.j,this.u);return 1/0==this.m?Math.ceil(1e3*r)/1e3:Math.max(r,Math.min(this.gb()-this.m+i,this.Oa()))},s.Bb=function(){return this.hc(0)},s.Oa=function(){return Math.max(0,this.gb()-(this.V()||this.jb()?this.$c:0))},s.Se=function(){return!(null==this.l||null!=this.h&&this.C)},s.Ne=function(i){this.D=i},M("shaka.media.PresentationTimeline",T),T.prototype.setAvailabilityTimeOffset=T.prototype.Ne,T.prototype.usingPresentationStartTime=T.prototype.Se,T.prototype.getSeekRangeEnd=T.prototype.Oa,T.prototype.getSeekRangeStart=T.prototype.Bb,T.prototype.getSafeSeekRangeStart=T.prototype.hc,T.prototype.getSegmentAvailabilityEnd=T.prototype.gb,T.prototype.setUserSeekStart=T.prototype.Pe,T.prototype.getSegmentAvailabilityStart=T.prototype.Pa,T.prototype.isInProgress=T.prototype.jb,T.prototype.isLive=T.prototype.V,T.prototype.offset=T.prototype.offset,T.prototype.notifyMaxSegmentDuration=T.prototype.Ld,T.prototype.notifyMinSegmentStartTime=T.prototype.Md,T.prototype.lockStartTime=T.prototype.Gd,T.prototype.notifySegments=T.prototype.Gb,T.prototype.getDelay=T.prototype.pf,T.prototype.setDelay=T.prototype.jg,T.prototype.setSegmentAvailabilityDuration=T.prototype.ce,T.prototype.setStatic=T.prototype.wc,T.prototype.setClockOffset=T.prototype.Oe,T.prototype.getPresentationStartTime=T.prototype.Cf,T.prototype.setDuration=T.prototype.Ia,T.prototype.getMaxSegmentDuration=T.prototype.xf,T.prototype.getDuration=T.prototype.getDuration,Wi.prototype.release=function(){this.l=this.j=null,this.i=function(){}},$i.prototype.release=function(){this.i&&(this.i.release(),this.i=null),null!=this.j&&(this.j.stop(),this.j=null),this.h&&(this.h.release(),this.h=null),this.g=this.s=this.o=null},$i.prototype.Pd=function(){this.l=!0,aj(this)};var fu=new mc((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function dj(i,r,o){var s=this;this.g=i,this.l=r,this.j=o,this.m=!1,this.h=new of,this.i=new ej(i),bj(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){fj(s,s.j)}))}function gj(i){return i.m?i.g.currentTime:i.j}function hj(i,r){0<i.g.readyState?ij(i.i,r):bj(i.g,HTMLMediaElement.HAVE_METADATA,i.h,(function(){fj(i,i.j)}))}function fj(i,r){.001>Math.abs(i.g.currentTime-r)?jj(i):(i.h.oa(i.g,"seeking",(function(){jj(i)})),ij(i.i,0==i.g.currentTime?r:i.g.currentTime))}function jj(i){i.m=!0,i.h.B(i.g,"seeking",(function(){return i.l()}))}function ej(i){var r=this;this.h=i,this.m=10,this.l=this.j=this.i=0,this.g=new O((function(){0>=r.i||r.h.currentTime!=r.j?r.g.stop():(r.h.currentTime=r.l,r.i--)}))}function ij(i,r){i.j=i.h.currentTime,i.l=r,i.i=i.m,i.h.currentTime=r,i.g.Da(.1)}function kj(i){var r=this;this.g=i,this.j=!1,this.h=null,this.i=new of,bj(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.i,(function(){!function b(){null==r.h||0==r.h?r.j=!0:(r.i.oa(r.g,"seeking",(function(){r.j=!0})),r.g.currentTime=Math.max(0,r.g.currentTime+r.h))}()}))}function lj(i,r,o,s,p,m){var v=this;this.i=i,this.g=r.presentationTimeline,this.C=r.minBufferTime||0,this.l=o,this.u=p,this.s=null,this.m=function mj(i,r,o){if(!r.stallEnabled)return null;var s=r.stallSkip;return function Yi(i,r){i.i=r}(r=new Wi(new Zi(i),r.stallThreshold,o),(function(){s?i.currentTime+=s:(i.pause(),i.play())})),r}(i,o,m),this.j=new $i(i,r.presentationTimeline,o,this.m,m),this.h=new dj(i,(function(){var i=v.j;i.m=!0,i.l=!1;var r=gj(v.h);return i=nj(v,r),.001<Math.abs(i-r)&&(r=Date.now()/1e3,!v.s||v.s<r-1)?(v.s=r,hj(v.h,i),i=void 0):(v.u(),i=void 0),i}),function oj(i,r){return null==r?r=1/0>i.g.getDuration()?i.g.Bb():i.g.Oa():0>r&&(r=i.g.Oa()+r),qj(i,pj(i,r))}(this,s)),this.o=new O((function(){if(0!=v.i.readyState&&!v.i.paused){var i=gj(v.h),r=v.g.Bb(),o=v.g.Oa();3>o-r&&(r=o-3),i<r&&(i=nj(v,i),v.i.currentTime=i)}})).Da(.25)}function qj(i,r){var o=i.g.getDuration();return r>=o?o-i.l.durationBackoff:r}function nj(i,r){var o=Math.max(i.C,i.l.rebufferingGoal),s=i.l.safeSeekOffset,p=i.g.Bb(),m=i.g.Oa(),v=i.g.getDuration();3>m-p&&(p=m-3);var y=i.g.hc(o),x=i.g.hc(s);return o=i.g.hc(o+s),r>=v?qj(i,r):r>m?m:r<p?ti(i.i.buffered,x)?x:o:r>=y||ti(i.i.buffered,r)?r:o}function pj(i,r){var o=i.g.Bb();return r<o||r>(o=i.g.Oa())?o:r}function rj(i){this.J=i,this.g=null,this.h=0,this.i=!1}function tj(i,r,o){return new rj([new oi(i,i+r,(function(){return o}),0,null,null,i,i,i+r)])}function sj(i,r,o){this.i=i,this.g=r,this.h=o}function uj(){rj.call(this,[]),this.j=[]}function vj(i){var r=this;this.g=i,this.j=!1,this.i=this.g.Qc(),this.h=new O((function(){r.g.De(.25*r.i)}))}function wj(i){i.h.stop();var r=i.j?0:i.i;if(0<=r)try{return void(i.g.Qc()!=r&&i.g.be(r))}catch(i){}i.h.Da(.25),0!=i.g.Qc()&&i.g.be(0)}function xj(i){var r=this;this.h=i,this.g=new Set,this.i=new O((function(){yj(r,!1)})).Da(.25)}function yj(i,r){for(var o=t(i.g),s=o.next();!s.done;s=o.next())s.value.j(i.h.currentTime,r)}function zj(i){We.call(this),this.g=new Map,this.h=i}function Dj(i){We.call(this);var r=this;this.g=new Set,this.i=i,this.h=new O((function(){for(var i=r.i(),o=t(r.g),s=o.next();!s.done;s=o.next())(s=s.value).endTime<i.start&&(r.g.delete(s),s=new R("regionremove",new Map([["region",s]])),r.dispatchEvent(s))})).Da(2)}function Ej(i){We.call(this);var r=this;this.i=i,this.g=new Map,this.l=[{qb:null,pb:Su,ib:function(i,o){return Gj(r,"enter",i,o)}},{qb:Tu,pb:Su,ib:function(i,o){return Gj(r,"enter",i,o)}},{qb:_u,pb:Su,ib:function(i,o){return Gj(r,"enter",i,o)}},{qb:Su,pb:Tu,ib:function(i,o){return Gj(r,"exit",i,o)}},{qb:Su,pb:_u,ib:function(i,o){return Gj(r,"exit",i,o)}},{qb:Tu,pb:_u,ib:function(i,o){return Gj(r,"skip",i,o)}},{qb:_u,pb:Tu,ib:function(i,o){return Gj(r,"skip",i,o)}}],this.h=new of,this.h.B(this.i,"regionremove",(function(i){r.g.delete(i.region)}))}function Gj(i,r,o,s){r=new R(r,new Map([["region",o],["seeking",s]])),i.dispatchEvent(r)}dj.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.l=function(){},this.g=null},ej.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null},(s=kj.prototype).release=function(){this.i&&(this.i.release(),this.i=null),this.g=null},s.vd=function(i){this.h=this.j?this.h:i},s.Ec=function(){return(this.j?this.g.currentTime:this.h)||0},s.je=function(){return 0},s.ie=function(){return 0},s.Ee=function(){},(s=lj.prototype).release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.stop(),this.o=null),this.i=this.h=this.g=this.l=null,this.u=function(){}},s.vd=function(i){hj(this.h,i)},s.Ec=function(){var i=gj(this.h);return 0<this.i.readyState&&!this.i.paused?pj(this,i):i},s.je=function(){return this.m?this.m.o:0},s.ie=function(){return this.j.u},s.Ee=function(){this.j.Pd()},(s=rj.prototype).release=function(){this.i||(this.J=[],this.g&&this.g.stop(),this.g=null)},s.Pf=function(){this.i=!0},s.find=function(i){for(var r=this.J.length-1,o=r;0<=o;--o){var s=this.J[o],p=o<r?this.J[o+1].startTime:s.endTime;if(i>=s.startTime&&i<p)return o+this.h}return this.J.length&&i<this.J[0].startTime?this.h:null},s.get=function(i){return 0==this.J.length||0>(i-=this.h)||i>=this.J.length?null:this.J[i]},s.offset=function(i){if(!this.i)for(var r=t(this.J),o=r.next();!o.done;o=r.next()){(o=o.value).startTime+=i,o.endTime+=i,o.j+=i;for(var s=(o=t(o.h)).next();!s.done;s=o.next())(s=s.value).startTime+=i,s.endTime+=i,s.j+=i}},s.nc=function(i){!this.i&&i.length&&(this.J=this.J.filter((function(r){return r.startTime<i[0].startTime})),this.J.push.apply(this.J,ia(i)))},s.Fb=function(i,r){var o=this;i=i.filter((function(i){return i.endTime>r&&(0==o.J.length||i.endTime>o.J[0].startTime)})),this.nc(i),this.eb(r)},s.eb=function(i){if(!this.i){var r=this.J.length;this.J=this.J.filter((function(r){return r.endTime>i})),this.h+=r-this.J.length}},s.Xa=function(i,r,o){if(o=void 0!==o&&o,!this.i){for(;this.J.length&&this.J[this.J.length-1].startTime>=r;)this.J.pop();for(;this.J.length&&this.J[0].endTime<=i;)this.J.shift(),o||this.h++;0!=this.J.length&&(i=this.J[this.J.length-1],this.J[this.J.length-1]=new oi(i.startTime,r,i.o,i.Ca,i.la,i.i,i.timestampOffset,i.appendWindowStart,i.appendWindowEnd,i.h,i.tilesLayout,i.m,i.g,i.status,i.l))}},s.bd=function(i,r){var o=this;this.i||(this.g&&this.g.stop(),this.g=new O((function(){var i=r();i?o.J.push.apply(o.J,ia(i)):(o.g.stop(),o.g=null)})),this.g.Da(i))},rj.prototype[Symbol.iterator]=function(){return this.Ab(0)},rj.prototype.Ab=function(i){var r=this.find(i);if(null==r)return null;r--;var o=this.get(r+1),s=-1;if(o&&0<o.h.length)for(var p=o.h.length-1;0<=p;--p){var m=o.h[p];if(i>=m.startTime&&i<m.endTime){r++,s=p-1;break}}return new sj(this,r,s)},M("shaka.media.SegmentIndex",rj),rj.forSingleSegment=tj,rj.prototype.getIteratorForTime=rj.prototype.Ab,rj.prototype.updateEvery=rj.prototype.bd,rj.prototype.fit=rj.prototype.Xa,rj.prototype.evict=rj.prototype.eb,rj.prototype.mergeAndEvict=rj.prototype.Fb,rj.prototype.offset=rj.prototype.offset,rj.prototype.get=rj.prototype.get,rj.prototype.find=rj.prototype.find,rj.prototype.markImmutable=rj.prototype.Pf,rj.prototype.release=rj.prototype.release,sj.prototype.gf=function(){return this.g},sj.prototype.current=function(){var i=this.i.get(this.g);return i&&0<i.h.length&&i.ya().length&&this.h>=i.h.length&&(this.g++,this.h=0,i=this.i.get(this.g)),i&&0<i.h.length?i.h[this.h]:i},sj.prototype.next=function(){var i=this.i.get(this.g);return i&&0<i.h.length?(this.h++,i.ya().length&&this.h==i.h.length&&(this.g++,this.h=0)):(this.g++,this.h=0),{value:i=this.current(),done:!i}},M("shaka.media.SegmentIterator",sj),sj.prototype.next=sj.prototype.next,sj.prototype.current=sj.prototype.current,sj.prototype.currentPosition=sj.prototype.gf,pa(uj,rj),(s=uj.prototype).clone=function(){var i=new uj;return i.j=this.j.slice(),i},s.release=function(){for(var i=t(this.j),r=i.next();!r.done;r=i.next())r.value.release();this.j=[]},s.find=function(i){for(var r=0,o=t(this.j),s=o.next();!s.done;s=o.next()){var p=(s=s.value).find(i);if(null!=p)return p+r;r+=s.h+s.J.length}return null},s.get=function(i){for(var r=0,o=t(this.j),s=o.next();!s.done;s=o.next()){var p=(s=s.value).get(i-r);if(p)return p;r+=s.h+s.J.length}return null},s.offset=function(){},s.nc=function(){},s.eb=function(){},s.Fb=function(){},s.Xa=function(){},s.bd=function(){},M("shaka.media.MetaSegmentIndex",uj),uj.prototype.updateEvery=uj.prototype.bd,uj.prototype.fit=uj.prototype.Xa,uj.prototype.mergeAndEvict=uj.prototype.Fb,uj.prototype.evict=uj.prototype.eb,uj.prototype.merge=uj.prototype.nc,uj.prototype.offset=uj.prototype.offset,uj.prototype.get=uj.prototype.get,uj.prototype.find=uj.prototype.find,uj.prototype.release=uj.prototype.release,vj.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},vj.prototype.set=function(i){this.i=i,wj(this)},vj.prototype.Mc=function(){return this.g.Mc()},xj.prototype.release=function(){this.i.stop();for(var i=t(this.g),r=i.next();!r.done;r=i.next())r.value.release();this.g.clear()},pa(zj,We),zj.prototype.release=function(){this.g.clear(),We.prototype.release.call(this)},zj.prototype.j=function(i){for(var r=t(this.g.values()),o=r.next();!o.done;o=r.next()){e:{for(var s=(o=o.value).pc,p=s.length-1;0<=p;p--){var m=s[p];if(m.position<=i){s=m.Id;break e}}s=null}if((p=s)&&(p=!((p=o.pe)===s||p&&s&&p.bandwidth==s.bandwidth&&p.audioSamplingRate==s.audioSamplingRate&&p.codecs==s.codecs&&p.contentType==s.contentType&&p.frameRate==s.frameRate&&p.height==s.height&&p.mimeType==s.mimeType&&p.channelsCount==s.channelsCount&&p.pixelAspectRatio==s.pixelAspectRatio&&p.width==s.width)),p)e:{if(p=i,m=s.contentType,(m=this.h()[m])&&0<m.length){var v=m[m.length-1].end;if(p>=m[0].start&&p<v){p=!0;break e}}p=!1}p&&(o.pe=s,JSON.stringify(s),o=new R("qualitychange",new Map([["quality",s],["position",i]])),this.dispatchEvent(o))}},pa(Dj,We),Dj.prototype.release=function(){this.g.clear(),this.h.stop(),We.prototype.release.call(this)},pa(Ej,We),Ej.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,We.prototype.release.call(this)},Ej.prototype.j=function(i,r){for(var o=t(this.i.g),s=o.next();!s.done;s=o.next()){s=s.value;var p=this.g.get(s),m=i<s.startTime?Tu:i>s.endTime?_u:Su;this.g.set(s,m);for(var v=t(this.l),y=v.next();!y.done;y=v.next())(y=y.value).qb==p&&y.pb==m&&y.ib(s,r)}};var Tu=1,Su=2,_u=3;function Jj(i,r,o,s,p){return i=ef(i,s,p),0==r&&null==o||(i.headers.Range=o?"bytes="+r+"-"+o:"bytes="+r+"-"),i}function Kj(i,r){var o=this;this.g=r,this.m=i,this.j=null,this.u=1,this.o=this.l=null,this.i=new Map,this.C=!1,this.D=null,this.s=!1,this.h=new mf((function(){return function Lj(i){var r,o,s,p;return K((function(m){if(1==m.g){for(r=[],o=t(i.i.values()),s=o.next();!s.done;s=o.next())Mj(p=s.value),r.push(Nj(p));return u(m,Promise.all(r),2)}i.i.clear(),i.g=null,i.m=null,i.j=null,A(m)}))}(o)}))}function Tj(i,r){var o=i.i.get("video");if(o){var s=o.stream;if(s)if(r){var p=s.trickModeVideo;p&&!o.nb&&(Uj(i,p,!1,0,!1),o.nb=s)}else(s=o.nb)&&(o.nb=null,Uj(i,s,!0,0,!1))}}function Vj(i,r,o,s,p,m){o=void 0!==o&&o,s=void 0===s?0:s,p=void 0!==p&&p,m=void 0!==m&&m,i.l=r,i.C&&(r.video&&Uj(i,r.video,o,s,p,m),r.audio&&Uj(i,r.audio,o,s,p,m))}function Wj(i,r){i.o=r,i.C&&Uj(i,r,!0,0,!1)}function Uj(i,r,o,s,p,m){var v=i.i.get(r.type);v||r.type!=yn?v&&(v.nb&&(r.trickModeVideo?(v.nb=r,r=r.trickModeVideo):v.nb=null),v.stream!=r||p)&&(r.type==yn&&Bi(i.g.R,Xc(r.mimeType,r.codecs),i.m.sequenceMode),v.stream.closeSegmentIndex&&v.stream.closeSegmentIndex(),v.stream=r,v.ba=null,v.ke=!!m,o&&(v.ac?v.ed=!0:v.Ba?(v.ab=!0,v.Hc=s,v.ed=!0):(Mj(v),Xj(i,v,!0,s).catch((function(r){i.g&&i.g.onError(r)})))),function Yj(i,r){var o,s;return K((function(p){if(1==p.g)return r.ta?(o=r.stream,s=r.ta,o.segmentIndex?p.A(2):u(p,o.createSegmentIndex(),2)):p.return();if(r.ta!=s||r.stream!=o)return p.return();var m=i.g.Pc(),v=Gi(i.g.R,r.type),y=r.stream.segmentIndex.find(r.za?r.za.endTime:m),x=null==y?null:r.stream.segmentIndex.get(y);y=x&&x.la?x.la-x.Ca:null,x&&!y&&(y=(x.endTime-x.getStartTime())*(r.stream.bandwidth||0)/8),y?((x=x.i)&&(y+=(x.la?x.la-x.Ca:null)||0),m=8*y/(x=i.g.getBandwidthEstimate())<(v||0)-m-Math.max(i.m.minBufferTime||0,i.j.rebufferingGoal)||r.ta.h.g>y):m=!1,m&&r.ta.abort(),A(p)}))}(i,v).catch((function(r){i.g&&i.g.onError(r)}))):function Pj(i,r){var o,s,p,m;K((function(v){switch(v.g){case 1:return o=wn,C(v,2),u(v,Qi(i.g.R,o.X),4);case 4:va(v,3);break;case 2:s=F(v),i.g&&i.g.onError(s);case 3:p=Xc(r.mimeType,r.codecs),Bi(i.g.R,p,i.m.sequenceMode),(i.g.R.m.isTextVisible()||i.j.alwaysStreamText)&&(m=Qj(r),i.i.set(o.X,m),Rj(i,m,0)),A(v)}}))}(i,r)}function Zj(i,r){r.ac||r.ab||(r.Ba?(r.ab=!0,r.Hc=0):null==Ei(i.g.R,r.type)?null==r.Ka&&Rj(i,r,0):(Mj(r),Xj(i,r,!1,0).catch((function(r){i.g&&i.g.onError(r)}))))}function Qj(i){return{stream:i,type:i.type,ba:null,za:null,Uc:null,Fd:null,Ed:null,Dd:null,nb:null,endOfStream:!1,Ba:!1,Ka:null,ab:!1,Hc:0,ed:!1,ac:!1,tc:!0,Td:!1,jc:!1,ta:null}}function ak(r,o){var s,p,m,v,y;return K((function(x){switch(x.g){case 1:if(nf(r.h),o.Ba||null==o.Ka||o.ac)return x.return();if(o.Ka=null,!o.ab){x.A(2);break}return u(x,Xj(r,o,o.ed,o.Hc),3);case 3:return x.return();case 2:if(o.stream.segmentIndex){x.A(4);break}return s=o.stream,u(x,o.stream.createSegmentIndex(),5);case 5:if(s!=o.stream)return s.closeSegmentIndex&&s.closeSegmentIndex(),null==o.Ka&&Rj(r,o,0),x.return();case 4:C(x,6),p=function bk(r,o){if(dk(o))return function Oi(i,r){var o=Gi(i,"video")||0;gd(i.g,r,o)}(r.g.R,o.stream.originalId||""),null;o.type==yn&&function Pi(i){i.g&&gd(i.g,"",0)}(r.g.R);var s=r.g.Pc(),p=o.za?o.za.endTime:s,m=function Hi(i,r,o){return r==yn?null==(i=i.g).h||i.h<o?0:i.h-Math.max(o,i.g):ui(i=Fi(i,r),o)}(r.g.R,o.type,s),v=Math.max(r.m.minBufferTime||0,r.j.rebufferingGoal,r.j.bufferingGoal)*r.u,y=r.m.presentationTimeline.getDuration()-p,x=Gi(r.g.R,o.type);if(1e-6>y&&x)return o.endOfStream=!0,"video"==o.type&&(s=r.i.get(yn))&&dk(s)&&(s.endOfStream=!0),null;if(o.endOfStream=!1,m>=v)return r.j.updateIntervalSeconds/2;if(m=function ek(i,r,o,s){if(r.ba)return r.ba.current();if(r.za||s)return r.ba=r.stream.segmentIndex.Ab(r.za?r.za.endTime:s),r.ba&&r.ba.next().value;i=i.j.inaccurateManifestTolerance,s=Math.max(o-i,0);var p=null;return i&&(r.ba=r.stream.segmentIndex.Ab(s),p=r.ba&&r.ba.next().value),p||(r.ba=r.stream.segmentIndex.Ab(o),p=r.ba&&r.ba.next().value),p}(r,o,s,x),!m)return r.j.updateIntervalSeconds;for(v=1/0,y=t(y=Array.from(r.i.values())),x=y.next();!x.done;x=y.next())dk(x=x.value)||x.ba&&!x.ba.current()||(v=Math.min(v,x.za?x.za.endTime:s));return p>=v+r.m.presentationTimeline.g?r.j.updateIntervalSeconds:(function fk(r,o,s,p){var m,v,y,x,S,j,D,P,L,_,B,z,G,Y;return K((function($){switch($.g){case 1:if(m=wn,v=o.stream,y=o.ba,o.Ba=!0,C($,2),2==p.Cb())throw new N(1,1,1011);return u($,function gk(i,r,o){var s,p,m,v,y,x,S;return K((function(j){return s=[],p=Math.max(0,o.appendWindowStart-.1),m=o.appendWindowEnd+.01,(v=o.timestampOffset)==r.Fd&&p==r.Ed&&m==r.Dd||(y=function(){var o;return K((function(s){if(1==s.g)return C(s,2),r.Ed=p,r.Dd=m,r.Fd=v,u(s,function Ri(i,r,o,s,p,m){return K((function(v){return r==wn.X?(m||(i.g.s=o),function fd(i,r,o){i.l=r,i.m=o}(i.g,s,p),v.return()):u(v,Promise.all([Li(i,r,(function(){return Mi(i,r)})),m?Promise.resolve():Li(i,r,(function(){var s=o;0>s&&(s+=.001),i.h[r].timestampOffset=s,Ci(i,r)})),Li(i,r,(function(){i.h[r].appendWindowStart=0,i.h[r].appendWindowEnd=p,i.h[r].appendWindowStart=s,Ci(i,r)}))]),0)}))}(i.g.R,r.type,v,p,m,i.m.sequenceMode),4);if(2!=s.g)return va(s,0);throw o=F(s),r.Ed=null,r.Dd=null,r.Fd=null,o}))},s.push(y())),!function ni(i,r){return i&&r?i.ic()==r.ic()&&i.dc()==r.dc()&&gb(i.ya(),r.ya()):i==r}(o.i,r.Uc)&&(r.Uc=o.i)&&(x=jk(i,r,o.i),S=function(){var o,s,p;return K((function(m){switch(m.g){case 1:return C(m,2),u(m,x,4);case 4:return o=m.h,nf(i.h),s=r.stream.closedCaptions&&0<r.stream.closedCaptions.size,u(m,i.g.me(r.type,o),5);case 5:return u(m,Ii(i.g.R,r.type,o,null,s),6);case 6:va(m,0);break;case 2:throw p=F(m),r.Uc=null,p}}))},i.g.Sf(o.startTime,o.i),s.push(S())),u(j,Promise.all(s),0)}))}(r,o,p),4);case 4:return nf(r.h),r.s?$.return():(x="video/mp4"==v.mimeType||"audio/mp4"==v.mimeType,S=i.ReadableStream,r.j.lowLatencyMode&&S&&x&&!p.l?(D=new Uint8Array(0),L=P=!1,_=function(i){var m,y,x;return K((function(S){return P?S.return():(L=!0,nf(r.h),r.s?S.return():(D=function hk(i,r){var o=new Uint8Array(i.length+r.length);return o.set(i),o.set(r,i.length),o}(D,i),m=!1,y=0,(new Bf).box("mdat",(function(i){y=i.size+i.start,m=!0})).parse(D,!1,!0),m?(x=D.subarray(0,y),D=D.subarray(y),u(S,ik(r,o,s,v,p,x),0)):S.A(0)))}))},u($,jk(r,o,p,_),11)):u($,jk(r,o,p),7));case 7:if(j=$.h,nf(r.h),r.s)return $.return();if(!p.l){$.A(8);break}return u($,function kk(r,o,s){var p,m,v,y;return K((function(x){if(1==x.g)return(p=o.l).cryptoKey?x.A(2):u(x,p.fetchKey(),3);if(!(m=p.iv))for(m=Fb(new ArrayBuffer(16)),v=p.firstMediaSequenceNumber+s.g,y=m.byteLength-1;0<=y;y--)m[y]=255&v,v>>=8;return x.return(i.crypto.subtle.decrypt({name:"AES-CBC",iv:m},p.cryptoKey,r))}))}(j,p,y),9);case 9:j=$.h;case 8:return nf(r.h),o.ab?(o.Ba=!1,Rj(r,o,0),$.return()):u($,ik(r,o,s,v,p,j),6);case 11:if(B=$.h,L){$.A(6);break}return P=!0,nf(r.h),r.s?$.return():o.ab?(o.Ba=!1,Rj(r,o,0),$.return()):u($,ik(r,o,s,v,p,B),6);case 6:if(nf(r.h),r.s)return $.return();o.za=p,y.next(),o.Ba=!1,o.Td=!1,z=r.g.R.Na(),G=z[o.type],JSON.stringify(G),o.ab||r.g.Pd(),Rj(r,o,0),va($,0);break;case 2:if(Y=F($),nf(r.h,Y),r.s)return $.return();if(o.Ba=!1,7001==Y.code)o.Ba=!1,o.Ka=null,Rj(r,o,0),$.A(0);else if(o.type==m.X&&r.j.ignoreTextStreamFailures)r.i.delete(m.X),$.A(0);else if(3017==Y.code)(function lk(i,r,o){if(!Array.from(i.i.values()).some((function(i){return i!=r&&i.Td}))){var s=Math.round(100*i.u);if(20<s)i.u-=.2;else{if(!(4<s))return r.jc=!0,i.s=!0,void i.g.onError(o);i.u-=.04}r.Td=!0}Rj(i,r,4)})(r,o,Y),$.A(0);else{if(1001!=Y.code||!Y.data||404!=Y.data[1])return o.jc=!0,Y.severity=2,u($,ck(r,Y),0);o.Ba=!1,o.Ka=null,Rj(r,o,1),$.A(0)}}}))}(r,o,s,m).catch((function(){})),null)}(r,o),null!=p&&(Rj(r,o,p),o.jc=!1),va(x,7);break;case 6:return m=F(x),u(x,ck(r,m),8);case 8:return x.return();case 7:if(v=Array.from(r.i.values()),!r.C||!v.every((function(i){return i.endOfStream}))){x.A(0);break}return u(x,r.g.R.endOfStream(),10);case 10:nf(r.h),0!=(y=r.g.R.getDuration())&&y<r.m.presentationTimeline.getDuration()&&r.m.presentationTimeline.Ia(y),A(x)}}))}function ik(i,r,o,s,p,m){var v,y,x;return K((function(S){switch(S.g){case 1:return v=s.closedCaptions&&0<s.closedCaptions.size,(null!=s.emsgSchemeIdUris&&0<s.emsgSchemeIdUris.length||i.j.dispatchAllEmsgBoxes)&&(new Bf).U("emsg",(function(r){var o=s.emsgSchemeIdUris;if(0===r.version)var m=r.reader.qc(),v=r.reader.qc(),y=r.reader.N(),x=r.reader.N(),S=r.reader.N(),j=r.reader.N(),D=p.startTime+x/y;else y=r.reader.N(),x=(D=r.reader.Jb()/y+p.timestampOffset)-p.startTime,S=r.reader.N(),j=r.reader.N(),m=r.reader.qc(),v=r.reader.qc();r=r.reader.Za(r.reader.S.byteLength-r.reader.$()),(o&&o.includes(m)||i.j.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==m?i.g.Tf():(o=new R("emsg",o=(new Map).set("detail",{startTime:D,endTime:D+S/y,schemeIdUri:m,value:v,timescale:y,presentationTimeDelta:x,eventDuration:S,id:j,messageData:r})),i.g.onEvent(o)))})).parse(m),u(S,function mk(i,r,o){var s,p,m;return K((function(v){if(1==v.g)return s=Math.max(i.j.bufferBehind,i.m.presentationTimeline.g),null==(p=Ei(i.g.R,r.type))||.01>=(m=o-p-s)?v.return():u(v,i.g.R.remove(r.type,p,p+m),2);nf(i.h),A(v)}))}(i,r,o),2);case 2:return nf(i.h),y=r.tc,r.tc=!1,x=r.ke,r.ke=!1,u(S,i.g.me(r.type,m),3);case 3:return u(S,Ii(i.g.R,r.type,m,p,v,y,x),4);case 4:nf(i.h),A(S)}}))}function dk(i){return i&&i.type==yn&&("application/cea-608"==i.stream.mimeType||"application/cea-708"==i.stream.mimeType)}function jk(i,r,o,s){var p,m,v,y,x;return K((function(S){return 1==S.g?(p=pr,m=Jj(o.ya(),o.Ca,o.la,i.j.retryParameters,s),v=r.stream,i.g.modifySegmentRequest(m,{type:v.type,init:o instanceof mi,duration:o.endTime-o.startTime,mimeType:v.mimeType,codecs:v.codecs,bandwidth:v.bandwidth}),y=i.g.kb.request(p,m),r.ta=y,u(S,y.promise,2)):(x=S.h,r.ta=null,S.return(x.data))}))}function Xj(i,r,o,s){var p,m;return K((function(v){return 1==v.g?(r.ab=!1,r.ed=!1,r.Hc=0,r.ac=!0,r.za=null,r.Uc=null,r.ba=null,s?(p=i.g.Pc(),m=i.g.R.getDuration(),u(v,i.g.R.remove(r.type,p+s,m),3)):u(v,Qi(i.g.R,r.type),4)):3!=v.g?(nf(i.h),o?u(v,i.g.R.flush(r.type),3):v.A(3)):(nf(i.h),r.ac=!1,r.endOfStream=!1,Rj(i,r,0),void A(v))}))}function Rj(i,r,o){var s=r.type;(s!=yn||i.i.has(s))&&(r.Ka=new nc((function(){var o;return K((function(s){return 1==s.g?(C(s,2),u(s,ak(i,r),4)):2!=s.g?va(s,0):(o=F(s),i.g&&i.g.onError(o),void A(s))}))})).P(o))}function Mj(i){null!=i.Ka&&(i.Ka.stop(),i.Ka=null)}function Nj(i){return K((function(r){return i.ta?u(r,i.ta.abort(),0):r.A(0)}))}function ck(i,r){return K((function(o){if(1==o.g)return u(o,Me(i.D),2);nf(i.h),i.g.onError(r),r.handled||i.j.failureCallback(r),A(o)}))}function nk(i,r){var o=ok(),s=this;this.j=r,this.i=i,this.l=o,this.o=null,this.m=[],this.h=this.g=null,this.u=Promise.resolve().then((function(){return function pk(i){return K((function(r){if(i.s.g)r=r.A(0);else{if(0==i.m.length||i.g&&!i.g.hb)var o=!1;else{i.g&&(i.g.Ha.lb(),i.g=null);var s=(o=i.m.shift()).create(i.l);s?(o.Ha.Hb(),i.g={node:s.node,payload:s.payload,hb:s.hb,Ha:o.Ha}):o.Ha.Yc(),o=!0}o?o=Promise.resolve():i.g?o=function tk(i){var r,o;return K((function(s){switch(s.g){case 1:return i.i=i.j.zf(i.i,i.l,i.g.node,i.g.payload),C(s,2),i.h=i.j.jf(i.i,i.l,i.g.payload),u(s,i.h.promise,4);case 4:i.h=null,i.i==i.g.node&&(i.g.Ha.Wc(),i.g=null),va(s,0);break;case 2:return 7001==(r=F(s)).code?i.g.Ha.lb():i.g.Ha.onError(r),i.g=null,i.h=null,o=i,u(s,i.j.handleError(i.l,r),5);case 5:o.i=s.h,A(s)}}))}(i):(i.j.Rf(i.i),i.o=new lc,o=i.o),r=u(r,o,1)}return r}))}(s)})),this.s=new mf((function(){return function qk(i){var r,o;return K((function(s){if(1==s.g)return i.h&&i.h.abort(),rk(i),u(s,i.u,2);for(i.g&&i.g.Ha.lb(),r=t(i.m),o=r.next();!o.done;o=r.next())o.value.Ha.lb();i.g=null,i.m=[],i.j=null,A(s)}))}(s)}))}function sk(i,r){var o={Hb:function(){},Wc:function(){},lb:function(){},onError:function(){},Yc:function(){},eh:function(){}};return i.m.push({create:r,Ha:o}),i.h&&i.h.abort(),rk(i),o}function rk(i){i.o&&(i.o.resolve(),i.o=null)}function uk(i){this.g=null;for(var r=t(Array.from(i.textTracks)),o=r.next();!o.done;o=r.next())(o=o.value).mode="disabled","Shaka Player TextTrack"==o.label&&(this.g=o);this.g||(this.g=i.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}function wk(i){if(i.startTime>=i.endTime)return null;var r=new VTTCue(i.startTime,i.endTime,i.payload);r.lineAlign=i.lineAlign,r.positionAlign=i.positionAlign,i.size&&(r.size=i.size);try{r.align=i.textAlign}catch(i){}return"center"==i.textAlign&&"center"!=r.align&&(r.align="middle"),"vertical-lr"==i.writingMode?r.vertical="lr":"vertical-rl"==i.writingMode&&(r.vertical="rl"),1==i.lineInterpretation&&(r.snapToLines=!1),null!=i.line&&(r.line=i.line),null!=i.position&&(r.position=i.position),r}function vk(i,r){var o=i.mode;i.mode="showing"==o?"showing":"hidden";for(var s=t(Array.from(i.cues)),p=s.next();!p.done;p=s.next())(p=p.value)&&r(p)&&i.removeCue(p);i.mode=o}function xk(){}function yk(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function zk(r,o){var s=this;this.j=!1,this.i=[],this.C=r,this.m=o,this.g=document.createElement("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.m.appendChild(this.g),this.u=new O((function(){Ak(s)})).Da(.25),this.h=new Map,this.s=new of,this.s.B(document,"fullscreenchange",(function(){Ak(s,!0)})),this.l=null,"ResizeObserver"in i&&(this.l=new ResizeObserver((function(){Ak(s,!0)})),this.l.observe(this.g)),this.o=new Map}function Bk(i,r,o,s,p){for(var m=!1,v=[],y=[],x=(r=t(r)).next();!x.done;x=r.next()){x=x.value,p.push(x);var S=i.h.get(x),j=x.startTime<=s&&x.endTime>s,D=S?S.Te:null;S&&(v.push(S.wd),S.rc&&v.push(S.rc),j||(m=!0,i.h.delete(x),S=null)),j&&(y.push(x),S||(Ck(i,x,p),D=(S=i.h.get(x)).Te,m=!0)),0<x.nestedCues.length&&D&&Bk(i,x.nestedCues,D,s,p),p.pop()}if(m){for(p=(s=t(v)).next();!p.done;p=s.next())(p=p.value).parentElement&&p.parentElement.removeChild(p);for(y.sort((function(i,r){return i.startTime!=r.startTime?i.startTime-r.startTime:i.endTime-r.endTime})),x=(y=t(y)).next();!x.done;x=y.next())(s=i.h.get(x.value)).rc?(o.appendChild(s.rc),s.rc.appendChild(s.wd)):o.appendChild(s.wd)}}function Ak(i,r){if(i.g){var o=i.C.currentTime;if(!i.j||void 0!==r&&r){for(var s=t(i.o.values()),p=s.next();!p.done;p=s.next())yk(p.value);yk(i.g),i.h.clear(),i.o.clear()}if(i.j){s=new Map;for(var m=(p=t(i.h.keys())).next();!m.done;m=p.next())m=m.value,s.set(m,i.h.get(m));Bk(i,i.i,i.g,o,[])}}}function Ck(i,r,o){var s=1<o.length,p=s?"span":"div";r.lineBreak&&(p="br"),s=!s&&0<r.nestedCues.length;var m=document.createElement(p);if("br"!=p&&function Dk(i,r,o,s,p){var m=r.style,v=0==o.nestedCues.length,y=1<s.length;m.whiteSpace="pre-wrap";var x=o.payload.replace(/\s+$/g,(function(i){return"Â ".repeat(i.length)}));if(m.webkitTextStrokeColor=o.textStrokeColor,m.webkitTextStrokeWidth=o.textStrokeWidth,m.color=o.color,m.direction=o.direction,m.opacity=o.opacity,m.paddingLeft=Ek(o.linePadding,o,i.m),m.paddingRight=Ek(o.linePadding,o,i.m),m.textShadow=o.textShadow,o.backgroundImage)m.backgroundImage="url('"+o.backgroundImage+"')",m.backgroundRepeat="no-repeat",m.backgroundSize="contain",m.backgroundPosition="center",m.width="100%",m.height="100%";else{if(o.nestedCues.length)var S=r;else S=document.createElement("span"),r.appendChild(S);o.border&&(S.style.border=o.border),p||((r=function Fk(i,r){for(var o=i.length-1;0<=o;o--){var s=r(i[o]);if(s||0===s)return s}return null}(s,(function(i){return i.backgroundColor})))?S.style.backgroundColor=r:x&&(S.style.backgroundColor="rgba(0, 0, 0, 0.8)")),x&&(S.textContent=x)}y&&!s[s.length-1].isContainer?m.display="inline":(m.display="flex",m.flexDirection="column",m.alignItems="center",m.justifyContent="before"==o.displayAlign?"flex-start":"center"==o.displayAlign?"center":"flex-end"),v||(m.margin="0"),m.fontFamily=o.fontFamily,m.fontWeight=o.fontWeight.toString(),m.fontStyle=o.fontStyle,m.letterSpacing=o.letterSpacing,m.fontSize=Ek(o.fontSize,o,i.m),o.line&&1==o.lineInterpretation&&(m.position="absolute",m.left="0",m.top="0",o.writingMode==fe?(m.width="100%",o.lineAlign==_e?m.top=o.line+"%":"end"==o.lineAlign&&(m.bottom=o.line+"%")):"vertical-lr"==o.writingMode?(m.height="100%",o.lineAlign==_e?m.left=o.line+"%":"end"==o.lineAlign&&(m.right=o.line+"%")):(m.height="100%",o.lineAlign==_e?m.right=o.line+"%":"end"==o.lineAlign&&(m.left=o.line+"%"))),m.lineHeight=o.lineHeight,o.position&&(o.writingMode==fe?m.paddingLeft=o.position:m.paddingTop=o.position),"line-left"==o.positionAlign?m.cssFloat="left":"line-right"==o.positionAlign&&(m.cssFloat="right"),m.textAlign=o.textAlign,m.textDecoration=o.textDecoration.join(" "),m.writingMode=o.writingMode,"writingMode"in document.documentElement.style&&m.writingMode==o.writingMode||(m.webkitWritingMode=o.writingMode),o.size&&(o.writingMode==fe?m.width=o.size+"%":m.height=o.size+"%")}(i,m,r,o,s),o=null,r.region&&r.region.id)if(o=r.region,i.o.has(o.id))o=i.o.get(o.id);else{p=document.createElement("span");var v=o.heightUnits==nn?"%":"px",y=o.widthUnits==nn?"%":"px",x=o.viewportAnchorUnits==nn?"%":"px";p.id="shaka-text-region---"+o.id,p.classList.add("shaka-text-region"),p.style.height=o.height+v,p.style.width=o.width+y,p.style.position="absolute",p.style.top=o.viewportAnchorY+x,p.style.left=o.viewportAnchorX+x,p.style.display="flex",p.style.flexDirection="column",p.style.alignItems="center",p.style.justifyContent="before"==r.displayAlign?"flex-start":"center"==r.displayAlign?"center":"flex-end",i.o.set(o.id,p),o=p}p=m,s&&((p=document.createElement("span")).classList.add("shaka-text-wrapper"),p.style.backgroundColor=r.backgroundColor,m.appendChild(p)),i.h.set(r,{wd:m,Te:p,rc:o})}function Ek(i,r,o){var s=(s=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(i))?{value:Number(s[1]),unit:s[2]}:null;if(!s)return i;var p=s.value;switch(s.unit){case"%":return p/100*o.clientHeight/r.cellResolution.rows+"px";case"c":return o.clientHeight*p/r.cellResolution.rows+"px";default:return i}}function Hk(i,r){this.h=i,this.g=r,this.j="",this.o=void 0,this.i=!1,this.m=!0,this.l=!1}function Ik(i,r,o){try{if(i.g.enabled){var s={d:1e3*o.duration,st:i.h.V()?Kl:Fl};s.ot=function Lk(i){var r=i.type;if(i.init)return sl;if("video"==r)return i.codecs.includes(",")?Zu:Yu;if("audio"==r)return Wu;if("text"==r)return"application/mp4"===i.mimeType?_l:pl}(o);var p=s.ot===Yu||s.ot===Wu||s.ot===Zu||s.ot===_l;p&&(s.bl=function Qk(i,r){var o=i.h.Na()[r];if(!o.length)return NaN;var s=i.h.getCurrentTime();return(o=o.find((function(i){return i.start<=s&&i.end>=s})))?1e3*(o.end-s):NaN}(i,o.type)),o.bandwidth&&(s.br=o.bandwidth/1e3),p&&s.ot!==_l&&(s.tb=function Rk(i,r){var o=i.h.Ya();if(!o.length)return NaN;for(var s=o[0],p=(o=t(o)).next();!p.done;p=o.next())"variant"===(p=p.value).type&&p.bandwidth>s.bandwidth&&(s=p);switch(r){case Yu:return s.videoBandwidth||NaN;case Wu:return s.audioBandwidth||NaN;default:return s.bandwidth}}(i,s.ot)/1e3),Sk(i,r,s)}}catch(i){Wa("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",i)}}function Uk(r){return r.j||(r.j=r.g.sessionId||i.crypto.randomUUID()),{v:1,sf:r.o,sid:r.j,cid:r.g.contentId,mtp:r.h.getBandwidthEstimate()/1e3}}function Sk(i,r,o){o=void 0===o?{}:o;var s=void 0===s?i.g.useHeaders:s;if(i.g.enabled){Object.assign(o,Uk(i)),o.pr=i.h.Oc();var p=o.ot===Yu||o.ot===Zu;if(i.l&&p&&(o.bs=!0,o.su=!0,i.l=!1),null==o.su&&(o.su=i.m),s)i=function Yk(i){for(var r=Object.keys(i),o={},s=["Object","Request","Session","Status"],p=[{},{},{},{}],m={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},v=(r=t(r)).next();!v.done;v=r.next())v=v.value,p[null!=m[v]?m[v]:1][v]=i[v];for(i=0;i<p.length;i++)(m=Wk(p[i]))&&(o["CMCD-"+s[i]]=m);return o}(o),Object.keys(i).length&&Object.assign(r.headers,i);else{var m=Wk(o);m&&(r.uris=r.uris.map((function(i){return Xk(i,m)})))}}}function Wk(i){function b(i){return 100*c(i/100)}function c(i){return Math.round(i)}function d(i){return!Number.isNaN(i)&&null!=i&&""!==i&&!1!==i}for(var r=[],o={br:c,d:c,bl:b,dl:b,mtp:b,nor:function(i){return encodeURIComponent(i)},rtp:b,tb:c},s=Object.keys(i||{}).sort(),p=(s=t(s)).next();!p.done;p=s.next()){var m=i[p=p.value];if(d(m)&&("v"!==p||1!==m)&&("pr"!=p||1!==m)){var v=o[p];v&&(m=v(m));var y;y="string"===(v=typeof m)&&"ot"!==p&&"sf"!==p&&"st"!==p?p+"="+JSON.stringify(m):"boolean"===v?p:"symbol"===v?p+"="+m.description:p+"="+m,r.push(y)}}return r.join(",")}function Xk(i,r){if(!r||i.includes("offline:"))return i;var o=new Nb(i);return o.g.set("CMCD",r),o.toString()}(s=Kj.prototype).destroy=function(){return this.h.destroy()},s.configure=function(i){this.j=i,this.D=new Ke({maxAttempts:Math.max(i.retryParameters.maxAttempts,2),baseDelay:i.retryParameters.baseDelay,backoffFactor:i.retryParameters.backoffFactor,fuzzFactor:i.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},s.start=function(){var i=this;return K((function(r){if(1==r.g)return u(r,function Oj(i){var r,o,s,p,m,v,y,x,S,j;return K((function(D){if(1==D.g){if(r=wn,!i.l)throw new N(2,5,5006);return o=new Map,s=new Set,i.l.audio&&(o.set(r.cb,i.l.audio),s.add(i.l.audio)),i.l.video&&(o.set(r.ra,i.l.video),s.add(i.l.video)),i.o&&(o.set(r.X,i.o),s.add(i.o)),p=i.g.R,m=i.j.forceTransmuxTS,u(D,p.init(o,m,i.m.sequenceMode),2)}for(nf(i.h),i.updateDuration(),v=t(o.keys()),y=v.next();!y.done;y=v.next())x=y.value,S=o.get(x),i.i.has(x)||(j=Qj(S),i.i.set(x,j),Rj(i,j,0));A(D)}))}(i),2);nf(i.h),i.C=!0,A(r)}))},s.tc=function(){for(var i=this.g.Pc(),r=t(this.i.keys()),o=r.next();!o.done;o=r.next()){var s=o.value;(o=this.i.get(s)).ba=null;var p=this.g.R;if(s==yn?p=null!=(p=p.g).g&&null!=p.h&&(i>=p.g&&i<p.h):p=ti(p=Fi(p,s),i),!p){if((null!=Gi(this.g.R,s)||o.Ba)&&Zj(this,o),o.ta&&(o.ta.abort(),o.ta=null),s===yn)for((s=this.g.R.C.g).l=0,s.h=[],s.g=[],(p=s.i).i=[],p.h=[],p.g=0,ai(s),p=(s=t(s.j.values())).next();!p.done;p=s.next())Wh(p.value);o.tc=!0}}},s.updateDuration=function(){var i=this.m.presentationTimeline.getDuration();1/0>i?this.g.R.Ia(i):this.g.R.Ia(Math.pow(2,32))},nk.prototype.destroy=function(){return this.s.destroy()},(s=uk.prototype).remove=function(i,r){return!!this.g&&(vk(this.g,(function(o){return o.startTime<r&&o.endTime>i})),!0)},s.append=function(i){function c(i){var r=[],o=700<=i.fontWeight,s="italic"==i.fontStyle,p=i.textDecoration.includes("underline");return o&&r.push("b"),s&&r.push("i"),p&&r.push("u"),o=r.reduce((function(i,r){return i+"<"+r+">"}),""),r=r.reduceRight((function(i,r){return i+"</"+r+">"}),""),i.lineBreak?"\n":i.nestedCues.length?i.nestedCues.map(c).join(""):o+i.payload+r}var r=function b(i,r){for(var o=t(i),s=o.next();!s.done;s=o.next())if((s=s.value).isContainer)b(s.nestedCues,r);else{var p=s.clone();p.nestedCues=[],p.payload=c(s),r.push(p)}return r}(i,[]),o=[];i=this.g.cues?Array.from(this.g.cues):[];for(var s={},p=(r=t(r)).next();!p.done;s={rb:s.rb},p=r.next())s.rb=p.value,i.some(function(i){return function(r){return r.startTime==i.rb.startTime&&r.endTime==i.rb.endTime&&r.text==i.rb.payload}}(s))||(p=wk(s.rb))&&o.push(p);for(i=o.slice().sort((function(i,r){return i.startTime!=r.startTime?i.startTime-r.startTime:i.endTime!=r.endTime?i.endTime-r.startTime:"line"in VTTCue.prototype?o.indexOf(r)-o.indexOf(i):o.indexOf(i)-o.indexOf(r)})),s=(i=t(i)).next();!s.done;s=i.next())this.g.addCue(s.value)},s.destroy=function(){return this.g&&(vk(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=null,Promise.resolve()},s.isTextVisible=function(){return"showing"==this.g.mode},s.setTextVisibility=function(i){this.g.mode=i?"showing":"hidden"},M("shaka.text.SimpleTextDisplayer",uk),uk.prototype.setTextVisibility=uk.prototype.setTextVisibility,uk.prototype.isTextVisible=uk.prototype.isTextVisible,uk.prototype.destroy=uk.prototype.destroy,uk.prototype.append=uk.prototype.append,uk.prototype.remove=uk.prototype.remove,M("shaka.util.Dom",xk),xk.removeAllChildren=yk,(s=zk.prototype).append=function(i){for(var r=[].concat(ia(this.i)),o={},s=(i=t(i)).next();!s.done;o={zc:o.zc},s=i.next())o.zc=s.value,r.some(function(i){return function(r){return tb(r,i.zc)}}(o))||this.i.push(o.zc);Ak(this)},s.destroy=function(){this.m.removeChild(this.g),this.g=null,this.j=!1,this.i=[],this.u&&this.u.stop(),this.h.clear(),this.s&&(this.s.release(),this.s=null),this.l&&(this.l.disconnect(),this.l=null)},s.remove=function(i,r){if(!this.g)return!1;var o=this.i.length;return this.i=this.i.filter((function(o){return o.startTime<i||o.endTime>=r})),Ak(this,o>this.i.length),!0},s.isTextVisible=function(){return this.j},s.setTextVisibility=function(i){this.j=i},M("shaka.text.UITextDisplayer",zk),zk.prototype.setTextVisibility=zk.prototype.setTextVisibility,zk.prototype.isTextVisible=zk.prototype.isTextVisible,zk.prototype.remove=zk.prototype.remove,zk.prototype.destroy=zk.prototype.destroy,zk.prototype.append=zk.prototype.append,M("shaka.text.WebVttGenerator",(function(){}));var Vu="m",Wu="a",Yu="v",Zu="av",sl="i",pl="c",_l="tt",Fl="v",Kl="l";function al(){}function bl(i,r,o,s,p){var m,v=p in s,y=!0;for(m in r){var x=p+"."+m,S=v?s[p]:o[m];v||m in o?void 0===r[m]?void 0===S||v?delete i[m]:i[m]=Xe(S):S.constructor==Object&&r[m]&&r[m].constructor==Object?(i[m]||(i[m]=Xe(S)),x=bl(i[m],r[m],S,s,x),y=y&&x):typeof r[m]!=typeof S||null==r[m]||"function"!=typeof r[m]&&r[m].constructor!=S.constructor?(Ua("Invalid config, wrong type for "+x),y=!1):("function"==typeof o[m]&&o[m].length!=r[m].length&&Va("Unexpected number of arguments for "+x),i[m]=r[m]):(Ua("Invalid config, unrecognized key "+x),y=!1)}return y}function cl(i,r){for(var o={},s=o,p=0,m=0;!(0>(p=i.indexOf(".",p)));)0!=p&&"\\"==i[p-1]||(s[m=i.substring(m,p).replace(/\\\./g,".")]={},s=s[m],m=p+1),p+=1;return s[i.substring(m).replace(/\\\./g,".")]=r,o}function dl(i,r){return i&&r}function el(){}function fl(){var i=1/0;navigator.connection&&navigator.connection.saveData&&(i=360);var r={retryParameters:Le(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:function(i,r,o){return dl([i,r,o],i)},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:rc()},o={retryParameters:Le(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(i){return dl([i],i)}},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"'}},s={retryParameters:Le(),failureCallback:function(i){return dl([i],void 0)},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1,maxDisabledTime:30};(sc("Web0S")||tc()||sc("CrKey"))&&(s.stallSkip=0);var p={trackSelectionCallback:function(i){return K((function(r){return r.return(i)}))},downloadSizeCallback:function(i){var r;return K((function(o){return 1==o.g?navigator.storage&&navigator.storage.estimate?u(o,navigator.storage.estimate(),3):o.return(!0):(r=o.h,o.return(r.usage+i<.95*r.quota))}))},progressCallback:function(i,r){return dl([i,r],void 0)},usePersistentLicense:!0,numberOfParallelDownloads:5},m={drm:r,manifest:o,streaming:s,offline:p,abrFactory:function(){return new oe},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:i,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,ignoreDevicePixelRatio:!1},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1}};return p.trackSelectionCallback=function(i){return K((function(r){return r.return(function gl(i,r){var o=i.filter((function(i){return"variant"==i.type})),s=[],p=wd(r,o.map((function(i){return i.language})));p&&(s=o.filter((function(i){return Q(i.language)==p}))),0==s.length&&(s=o.filter((function(i){return i.primary}))),0==s.length&&(o.map((function(i){return i.language})),s=o);var m=s.filter((function(i){return i.height&&480>=i.height}));if(m.length&&(m.sort((function(i,r){return r.height-i.height})),s=m.filter((function(i){return i.height==m[0].height}))),o=[],s.length){var v=Math.floor(s.length/2);s.sort((function(i,r){return i.bandwidth-r.bandwidth})),o.push(s[v])}for(s=t(i),v=s.next();!v.done;v=s.next())(v=v.value).type!=yn&&"image"!=v.type||o.push(v);return o}(i,m.preferredAudioLanguage))}))},m}function hl(i,r,o){var s={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return bl(i,r,o||fl(),s,"")}function il(){this.g=null,this.h=[]}function jl(i,r){if(null==i.g)i.g={timestamp:Date.now()/1e3,state:r,duration:0};else{var o=Date.now()/1e3;i.g.duration=o-i.g.timestamp,i.g.state!=r&&(i.h.push(i.g),i.g={timestamp:o,state:r,duration:0})}}function kl(i,r){var o=0;i.g&&i.g.state==r&&(o+=i.g.duration);for(var s=t(i.h),p=s.next();!p.done;p=s.next())o+=(p=p.value).state==r?p.duration:0;return o}function ml(){this.i=this.h=null,this.g=[]}function nl(i,r,o){i.i!=r&&(i.i=r,i.g.push({timestamp:Date.now()/1e3,id:r.id,type:"text",fromAdaptation:o,bandwidth:null}))}function ol(){this.u=this.C=this.G=this.D=this.s=this.j=this.F=this.m=this.i=this.O=this.T=this.I=this.L=this.M=this.l=this.o=NaN,this.g=new il,this.h=new ml}function U(r,o){We.call(this);var s=this;this.l=yc,this.Jc=this.g=null,this.ha=!1,this.Rc=new of,this.Wb=new of,this.s=new of,this.Bd=this.u=this.Vb=this.i=this.Sc=this.I=this.j=this.ia=this.T=this.Tc=this.M=this.Kc=this.G=this.vb=this.C=this.L=this.m=this.F=null,this.He=1e9,this.h=ql(this),this.$b={width:1/0,height:1/0},this.o=null,this.La=new Ce(this.h.preferredAudioLanguage,this.h.preferredVariantRole,this.h.preferredAudioChannelCount),this.sb=this.h.preferredTextLanguage,this.Zb=this.h.preferredTextRole,this.Xb=this.h.preferForcedSubs,this.Mb=[],this.cc=null,o&&o(this),this.F=function rl(i){return new af((function(r,o){i.u&&i.u.segmentDownloaded(r,o)}),(function(r,o,s){r=(new Map).set("headers",r).set("request",o).set("requestType",s),i.dispatchEvent(Dl("downloadheadersreceived",r))}),(function(r,o,s,p){r=(new Map).set("request",r).set("error",o).set("httpResponseCode",s).set("aborted",p),i.dispatchEvent(Dl("downloadfailed",r))}))}(this),this.F.$d(this.h.streaming.forceHTTPS),this.D=null,Hc&&(this.D=Hc()),this.Rc.B(i,"online",(function(){s.Ud()})),this.O={name:"detach"},this.Y={name:"attach"},this.ea={name:"unload"},this.Nd={name:"manifest-parser"},this.Kd={name:"manifest"},this.ub={name:"media-source"},this.Cd={name:"drm-engine"},this.ca={name:"load"},this.Qd={name:"src-equals-drm-engine"},this.wb={name:"src-equals"};var p=new Map;p.set(this.Y,(function(i,r){return Re(function tl(i,r,o){return null==r.K&&(r.K=o.K,i.Wb.B(r.K,"error",(function(){var r=Ll(i);r&&Ml(i,r)}))),i.g=r.K,Promise.resolve()}(s,i,r))})),p.set(this.O,(function(i){return i.K&&(s.Wb.mb(),i.K=null),s.D&&s.D.release(),s.g=null,Re(i=Promise.resolve())})),p.set(this.ea,(function(i){return Re(ul(s,i))})),p.set(this.ub,(function(i){return i=function vl(i,r){var o,s,p,m,v,y;return K((function(x){if(1==x.g)return o=new ki,s=i.h.textDisplayFactory,p=s(),i.Hd=s,m=function Ol(i,r,o,s){return new xi(i,r,o,s)}(r.K,o,p,(function(r,o,s){for(var p=(r=t(r)).next();!p.done;p=r.next())if((p=p.value).data&&p.cueTime&&p.frames){for(var m=p.cueTime+o,v=s,y=t(p.frames),x=y.next();!x.done;x=y.next())Pl(i,m,v,"ID3",x.value);i.D&&i.D.onHlsTimedMetadata(p,m)}})),v=i.h.manifest,y=v.segmentRelativeVttTiming,m.F=y,u(x,m.G,2);i.L=m,A(x)}))}(s,i),Re(i)})),p.set(this.Nd,(function(i,r){var o=function wl(i,r,o){var s,p,m,v;return K((function(y){if(1==y.g)return r.mimeType=o.mimeType,r.uri=o.uri,s=r.uri,p=i.F,i.Vb=s,m=i,u(y,Vg(s,p,i.h.manifest.retryParameters,r.mimeType),2);m.Sc=y.h,i.I=i.Sc(),v=Xe(i.h.manifest),o.K&&"AUDIO"===o.K.nodeName&&(v.disableVideo=!0),i.I.configure(v),A(y)}))}(s,i,r);return Re(o)})),p.set(this.Kd,(function(i){return function xl(i,r){var o=r.uri,s=i.F;i.Tc=new Dj((function(){return i.sc()})),i.Tc.addEventListener("regionadd",(function(r){r=r.region,Ql(i,"timelineregionadded",r),i.D&&i.D.onDashTimedMetadata(r)})),i.ia=null,i.h.streaming.observeQualityChanges&&(i.ia=new zj((function(){return i.Na()})),i.ia.addEventListener("qualitychange",(function(r){var o=r.quality;r=r.position,o=(new Map).set("mediaQuality",{bandwidth:o.bandwidth,audioSamplingRate:o.audioSamplingRate,codecs:o.codecs,contentType:o.contentType,frameRate:o.frameRate,height:o.height,mimeType:o.mimeType,channelsCount:o.channelsCount,pixelAspectRatio:o.pixelAspectRatio,width:o.width}).set("position",r),i.dispatchEvent(Dl("mediaqualitychanged",o))})));var p={networkingEngine:s,modifyManifestRequest:function(r,o){var s=i.T;try{s.g.enabled&&(s.o=o.format,Sk(s,r,{ot:Vu,su:!s.i}))}catch(i){Wa("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",i)}},modifySegmentRequest:function(r,o){Ik(i.T,r,o)},filter:function(r){return Rl(i,r)},makeTextStreamsForClosedCaptions:function(r){return function Sl(i,r){for(var o=new Set,s=t(r.textStreams),p=s.next();!p.done;p=s.next())"application/cea-608"!=(p=p.value).mimeType&&"application/cea-708"!=p.mimeType||o.add(p.originalId);for(s=t(r.variants),p=s.next();!p.done;p=s.next())if((p=p.value.video)&&p.closedCaptions)for(var m=t(p.closedCaptions.keys()),v=m.next();!v.done;v=m.next())if(v=v.value,!o.has(v)){var y=v.startsWith("CC")?"application/cea-608":"application/cea-708",x=new uj;y={id:i.He++,originalId:v,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:x,mimeType:y,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:p.closedCaptions.get(v),label:null,type:yn,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:p.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},r.textStreams.push(y),o.add(v)}}(i,r)},onTimelineRegionAdded:function(r){var o=i.Tc;e:{for(var s=t(o.g),p=s.next();!p.done;p=s.next())if((p=p.value).schemeIdUri==r.schemeIdUri&&p.id==r.id&&p.startTime==r.startTime&&p.endTime==r.endTime){s=p;break e}s=null}null==s&&(o.g.add(r),r=new R("regionadd",new Map([["region",r]])),o.dispatchEvent(r))},onEvent:function(r){return i.dispatchEvent(r)},onError:function(r){return Ml(i,r)},isLowLatencyMode:function(){return i.h.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return i.h.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){i.configure("streaming.lowLatencyMode",!0)},updateDuration:function(){i.j&&i.j.updateDuration()}},m=Date.now()/1e3;return new Ne(function(){var r,s,v,y;return K((function(x){if(1==x.g)return r=i,u(x,i.I.start(o,p),2);if(r.i=x.h,s=Dl("manifestparsed"),i.dispatchEvent(s),0==i.i.variants.length)throw new N(2,4,4036);!function Tl(i){function b(i){return i.video&&i.audio||i.video&&i.video.codecs.includes(",")}i.variants.some(b)&&(i.variants=i.variants.filter(b))}(i.i),v=Date.now()/1e3,y=v-m,i.o.F=y,A(x)}))}(),(function(){return i.I.stop()}))}(s,i)})),p.set(this.Cd,(function(i){return i=function yl(i,r){var o,s;return K((function(p){return 1==p.g?(o=Date.now()/1e3,s=!0,i.m=Ul(i,{kb:i.F,onError:function(r){Ml(i,r)},Xc:function(r){Vl(i,r)},onExpirationUpdated:function(r,o){Wl(i,r,o)},onEvent:function(r){i.dispatchEvent(r),"drmsessionupdate"==r.type&&s&&(s=!1,i.o.j=Date.now()/1e3-o)}}),i.m.configure(i.h.drm),u(p,pg(i.m,i.i.variants,i.i.offlineSessionIds),2)):3!=p.g?u(p,i.m.Yb(r.K),3):u(p,Rl(i,i.i),0)}))}(s,i),Re(i)})),p.set(this.ca,(function(i,r){return Re(function zl(i,r,o){var s,p,m,v,y,x,S,j,D,P;return K((function(L){switch(L.g){case 1:if(r.startTime=o.startTime,null!=i.cc&&(r.startTime=i.cc,i.cc=null),s=r.K,p=r.uri,i.Vb=p,i.G=new vj({Qc:function(){return s.playbackRate},Mc:function(){return s.defaultPlaybackRate},be:function(i){s.playbackRate=i},De:function(i){s.currentTime+=i}}),m=function(){return Xl(i)},v=function(){return Yl(i)},i.s.B(s,"playing",m),i.s.B(s,"pause",m),i.s.B(s,"ended",m),i.s.B(s,"ratechange",v),y=i.h.abrFactory,i.u&&i.Bd==y||(i.Bd=y,i.u=y(),"function"!=typeof i.u.setMediaElement&&(function te(){var i=new se(5,0),r=ar,o=r.g,s=i.h-o.h;(0<(i.g-o.g||s)?r.i:r.h)(r.g,i,"AbrManager","Please use an AbrManager with setMediaElement function.")}(),i.u.setMediaElement=function(){}),i.u.configure(i.h.abr)),i.La=new Ce(i.h.preferredAudioLanguage,i.h.preferredVariantRole,i.h.preferredAudioChannelCount),i.sb=i.h.preferredTextLanguage,i.Zb=i.h.preferredTextRole,i.Xb=i.h.preferForcedSubs,Zl(i.i.presentationTimeline,i.h.playRangeStart,i.h.playRangeEnd),i.u.init((function(r,o,s){i.j&&r!=i.j.l&&$l(i,r,!0,void 0!==o&&o,void 0===s?0:s)})),i.u.setMediaElement(s),i.C=function am(i,r){return new lj(i.g,i.i,i.h.streaming,r,(function(){i.vb&&yj(i.vb,!0),i.j&&i.j.tc(),i.M&&um(i)}),(function(r){return i.dispatchEvent(r)}))}(i,r.startTime),i.vb=function bm(i){var r=new Ej(i.Tc);r.addEventListener("enter",(function(r){Ql(i,"timelineregionenter",r.region)})),r.addEventListener("exit",(function(r){Ql(i,"timelineregionexit",r.region)})),r.addEventListener("skip",(function(r){var o=r.region;r.seeking||(Ql(i,"timelineregionenter",o),Ql(i,"timelineregionexit",o))}));var o=new xj(i.g);return o.g.add(r),i.ia&&o.g.add(i.ia),o}(i),x=Math.max(i.i.minBufferTime,i.h.streaming.rebufferingGoal),cm(i,x),zd(i.i,i.h.preferredVideoCodecs,i.h.preferredAudioCodecs,i.h.preferredAudioChannelCount,i.h.preferredDecodingAttributes),i.j=function dm(i){return new Kj(i.i,{Pc:function(){return i.C.Ec()},getBandwidthEstimate:function(){return i.u.getBandwidthEstimate()},modifySegmentRequest:function(r,o){Ik(i.T,r,o)},R:i.L,kb:i.F,onError:function(r){return Ml(i,r)},onEvent:function(r){return i.dispatchEvent(r)},Tf:function(){i.I&&i.I.update&&i.I.update()},Pd:function(){i.C&&i.C.Ee(),um(i)},Sf:function(r,o){var s=o.Id;s&&i.ia&&function Bj(i,r,o){var s=function Aj(i,r){var o=i.g.get(r);return o||(o={pc:[],pe:null,contentType:r},i.g.set(r,o)),o}(i,r.contentType);!function Cj(i,r){var o=i.h()[r.contentType];if(o&&0<o.length){var s=o[0].start,p=o[o.length-1].end,m=r.pc;r.pc=m.filter((function(i,r){return!(i.position<=s&&r+1<m.length&&m[r+1].position<=s||i.position>=p)}))}else r.pc=[]}(i,s),i={Id:r,position:o},0<=(r=(s=s.pc).findIndex((function(i){return i.position>=o})))?s.splice(r,s[r].position==o?1:0,i):s.push(i)}(i.ia,s,r)},me:function(r,o){var s=i.m;if(s.h.parseInbandPsshEnabled&&["audio","video"].includes(r)){for(var p=new Mf(Fb(o)),m=0,v=t(p.data),y=v.next();!y.done;y=v.next())m+=y.value.length;if(0==m)s=Promise.resolve();else{for(m=new Uint8Array(m),v=0,y=(p=t(p.data)).next();!y.done;y=p.next())y=y.value,m.set(y,v),v+=y.length;yg(s,"cenc",m),s=s.o}}else s=Promise.resolve();return s}})}(i),i.j.configure(i.h.streaming),i.l=kc,s.textTracks&&i.s.B(s.textTracks,"addtrack",(function(r){if(r.track&&"chapters"===(r=r.track).kind)fm(i,r)})),i.dispatchEvent(Dl("streaming")),S=null,i.Ya().find((function(i){return i.active}))){L.A(2);break}if(S=El(i),$l(i,S,!0,!1,0),!i.h.streaming.startAtSegmentBoundary){L.A(3);break}return j=i.C.Ec(),u(L,function gm(i,r){var o,s,p,m,v;return K((function(y){return 1==y.g?(o=i.audio,s=i.video,p=function(i,r){var o,s,p;return K((function(m){return 1==m.g?i?u(m,i.createSegmentIndex(),2):m.return(null):(s=(o=i.segmentIndex.Ab(r))?o.next().value:null)?(p=s.startTime,m.return(p)):m.return(null)}))},u(y,p(o,r),2)):3!=y.g?(m=y.h,u(y,p(s,r),3)):null!=(v=y.h)&&null!=m?y.return(Math.max(v,m)):null!=v?y.return(v):null!=m?y.return(m):y.return(r)}))}(S,j),4);case 4:D=L.h,i.C.vd(D);case 3:hm(i,null,be(S));case 2:return i.Db().find((function(i){return i.active}))||((P=le(i.i.textStreams,i.sb,i.Zb,i.Xb)[0]||null)&&nl(i.o.h,P,!0),S&&(P?(S.audio&&function im(i,r,o){return i=Q(i.h.preferredTextLanguage),r=Q(r.language),ld(o=Q(o.language),i)&&!ld(r,o)}(i,S.audio,P)&&(i.ha=!0),i.ha&&i.L.m.setTextVisibility(!0),jm(i)):i.ha=!1),P&&(i.h.streaming.alwaysStreamText||i.zd())&&Wj(i.j,P)),u(L,i.j.start(),5);case 5:i.h.abr.enabled&&(i.u.enable(),km(i)),Qd(i.j?i.j.l:null,i.i),lm(i.i),mm(i),nm(i),i.i.variants.some((function(i){return i.primary})),i.s.oa(s,"loadedmetadata",(function(){i.o.m=Date.now()/1e3-o.de})),A(L)}}))}(s,i,r))})),p.set(this.Qd,(function(i,r){var o=function Al(i,r,o){var s,p,m,v,y,x,S;return K((function(j){return 1==j.g?(s=wn,p=Date.now()/1e3,m=!0,i.m=Ul(i,{kb:i.F,onError:function(r){Ml(i,r)},Xc:function(r){Vl(i,r)},onExpirationUpdated:function(r,o){Wl(i,r,o)},onEvent:function(r){i.dispatchEvent(r),"drmsessionupdate"==r.type&&m&&(m=!1,i.o.j=Date.now()/1e3-p)}}),i.m.configure(i.h.drm),v=o.uri||"",y=Xg(v),"application/x-mpegurl"==(x=zc[y])&&vc()&&(x="application/vnd.apple.mpegurl"),x||(x="video/mp4"),S={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:o.mimeType?o.mimeType.split(";")[0]:x,codecs:o.mimeType?ad(o.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:s.ra,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.m.Y=!0,u(j,pg(i.m,[S],[]),2)):u(j,i.m.Yb(r.K),0)}))}(s,i,r);return Re(o)})),p.set(this.wb,(function(i,r){return function Bl(i,r,o){function d(){return Xl(i)}r.uri=o.uri,r.startTime=o.startTime,i.Vb=r.uri;var s=r.K;i.C=new kj(s);var p=!1;i.Mb.push((function(){p=!0})),null!=r.startTime&&i.C.vd(r.startTime),i.G=new vj({Qc:function(){return s.playbackRate},Mc:function(){return s.defaultPlaybackRate},be:function(i){s.playbackRate=i},De:function(i){s.currentTime+=i}}),cm(i,i.h.streaming.rebufferingGoal),i.s.B(s,"playing",d),i.s.B(s,"pause",d),i.s.B(s,"ended",d),i.s.B(s,"ratechange",(function(){return Yl(i)})),"none"!=s.preload&&i.s.oa(s,"loadedmetadata",(function(){i.o.m=Date.now()/1e3-o.de})),s.audioTracks&&(i.s.B(s.audioTracks,"addtrack",(function(){return mm(i)})),i.s.B(s.audioTracks,"removetrack",(function(){return mm(i)})),i.s.B(s.audioTracks,"change",(function(){return mm(i)}))),s.textTracks&&(i.s.B(s.textTracks,"addtrack",(function(r){if(r.track)switch(r=r.track,r.kind){case"metadata":!function om(i,r){if("metadata"==r.kind){r.mode="hidden",i.s.B(r,"cuechange",(function(){if(r.activeCues)for(var o=t(r.activeCues),s=o.next();!s.done;s=o.next())s=s.value,Pl(i,s.startTime,s.endTime,s.type,s.value),i.D&&i.D.onCueMetadataChange(s.value)}));var o=new O((function(){for(var r=function tm(i){return Array.from(i.g.textTracks).filter((function(i){return"metadata"==i.kind}))}(i),o=(r=t(r)).next();!o.done;o=r.next())o.value.mode="hidden"})).Lb().P(.5);i.Mb.push((function(){o.stop()}))}}(i,r);break;case"chapters":fm(i,r);break;default:mm(i)}})),i.s.B(s.textTracks,"removetrack",(function(){return mm(i)})),i.s.B(s.textTracks,"change",(function(){return mm(i)})));var m=Xg(r.uri);s.src=function Tk(i,r,o){try{if(!i.g.enabled)return r;var s=Uk(i);e:{switch(o){case"video/webm":case"video/mp4":var p=Zu;break e;case"application/x-mpegurl":p=Vu;break e}p=void 0}return s.ot=p,s.su=!0,Xk(r,Wk(s))}catch(i){return Wa("CMCD_SRC_ERROR","Could not generate src CMCD data.",i),r}}(i.T,r.uri,zc[m]),(tc()||sc("Web0S"))&&s.load(),i.l=jc,i.dispatchEvent(Dl("streaming"));var v=new lc;return bj(s,HTMLMediaElement.HAVE_METADATA,i.s,(function(){v.resolve()})),bj(s,HTMLMediaElement.HAVE_CURRENT_DATA,i.s,(function(){return K((function(r){return 1==r.g?(function qm(i){var r=i.h.preferredAudioLanguage;if(""!=r){i.Xd(r);var o=i.h.preferredVariantRole;""!=o&&i.Xd(r,o)}}(i),rm(i).find((function(i){return"disabled"!=i.mode}))?r.A(2):u(r,new Promise((function(r){i.s.oa(s.textTracks,"change",r),new O(r).P(1)})),2)):p?r.return():(function sm(i){var r=i.h.preferredTextLanguage,o=i.h.preferForcedSubs;if(""!=r){i.Yd(r,"",o);var s=i.h.preferredTextRole;""!=s&&i.Yd(r,s,o)}}(i),void A(r))}))})),s.error?v.reject(Ll(i)):"none"==s.preload&&(Va('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),v.resolve()),i.s.oa(s,"error",(function(){v.reject(Ll(i))})),new Ne(v,(function(){return v.reject(new N(2,7,7001)),Promise.resolve()}))}(s,i,r)})),this.va=new nk(this.O,{zf:function(i,r,o,p){var m=null;return i==s.O&&(m=o==s.O?s.O:s.Y),i==s.Y&&(m=o==s.O||r.K!=p.K?s.O:o==s.Y?s.Y:o==s.ub||o==s.ca?s.ub:o==s.wb?s.Qd:null),i==s.ub&&(m=o==s.ca&&r.K==p.K?s.Nd:s.ea),i==s.Nd&&(m=Cl(s.ca,s.Kd,s.ea,o,r,p)),i==s.Kd&&(m=Cl(s.ca,s.Cd,s.ea,o,r,p)),i==s.Cd&&(m=Cl(s.ca,s.ca,s.ea,o,r,p)),i==s.Qd&&(m=o==s.wb&&r.K==p.K?s.wb:s.ea),i!=s.ca&&i!=s.wb||(m=s.ea),i==s.ea&&(m=p.K&&r.K==p.K?s.Y:s.O),m},jf:function(i,r,o){return s.dispatchEvent(Dl("onstatechange",(new Map).set("state",i.name))),p.get(i)(r,o)},handleError:function(i){return K((function(r){return 1==r.g?u(r,ul(s,i),2):r.return(i.K?s.Y:s.O)}))},Rf:function(i){s.dispatchEvent(Dl("onstateidle",(new Map).set("state",i.name)))}}),this.Ge=new O((function(){Nd(s.i.variants,s.h.restrictions,s.$b)&&El(s)})),r&&this.Yb(r,!0)}function Dl(i,r){return new R(i,r)}function ul(i,r){var o,s,p,m,v,y,x,S,j;return K((function(D){switch(D.g){case 1:return i.l!=ic&&(i.l=yc),o=i.Mb.map((function(i){return i()})),i.Mb=[],u(D,Promise.all(o),2);case 2:if(i.dispatchEvent(Dl("unloading")),r.mimeType=null,r.startTime=null,r.uri=null,r.K&&i.s.mb(),i.Ge.stop(),i.vb&&(i.vb.release(),i.vb=null),i.Kc&&(i.Kc.stop(),i.Kc=null),!i.I){D.A(3);break}return u(D,i.I.stop(),4);case 4:i.I=null,i.Sc=null;case 3:if(!i.u){D.A(5);break}return u(D,i.u.stop(),5);case 5:if(!i.j){D.A(7);break}return u(D,i.j.destroy(),8);case 8:i.j=null;case 7:if(i.G&&(i.G.release(),i.G=null),i.C&&(i.C.release(),i.C=null),!i.L){D.A(9);break}return u(D,i.L.destroy(),10);case 10:i.L=null;case 9:if(i.D&&i.D.onAssetUnload(),!r.K||!r.K.src){D.A(11);break}return u(D,new Promise((function(i){return new O(i).P(.1)})),12);case 12:for(r.K.removeAttribute("src"),r.K.load();r.K.lastChild;)r.K.removeChild(r.K.firstChild);case 11:if(!i.m){D.A(13);break}return u(D,i.m.destroy(),14);case 14:i.m=null;case 13:if(i.Vb=null,i.M=null,i.i){for(s=t(i.i.variants),p=s.next();!p.done;p=s.next())for(m=p.value,v=t([m.audio,m.video]),y=v.next();!y.done;y=v.next())(x=y.value)&&x.segmentIndex&&x.segmentIndex.release();for(S=t(i.i.textStreams),y=S.next();!y.done;y=S.next())(j=y.value).segmentIndex&&j.segmentIndex.release()}i.i=null,i.o=new ol,i.Hd=null,Nl(i),A(D)}}))}function Pl(i,r,o,s,p){r=(new Map).set("startTime",r).set("endTime",o).set("metadataType",s).set("payload",p),i.dispatchEvent(Dl("metadata",r))}function fm(i,r){if(r&&"chapters"==r.kind){r.mode="hidden";var o=new O((function(){r.mode="hidden"})).Lb().P(.5);i.Mb.push((function(){o.stop()}))}}function Ul(i,r){return new ig(r,i.h.drm.updateExpirationTime)}function cm(i,r){i.M=new Ge,i.M.g=or,Je(i.M,r,Math.min(.5,r/2)),Nl(i),i.Kc=new O((function(){um(i)})).Da(.25)}function um(i){switch(i.l){case jc:if(i.g.ended)var r=!0;else{var o=si(i.g.buffered);r=null!=o&&o>=i.g.duration-1}break;case kc:e:if(i.g.ended||Di(i.L))r=!0;else{if(i.i.presentationTimeline.V()){o=i.i.presentationTimeline.gb();var s=si(i.g.buffered);if(null!=s&&s>=o){r=!0;break e}}r=!1}break;default:r=!1}s=ui(i.g.buffered,i.g.currentTime);var p=r,m=(o=i.M).h.get(o.g);r=o.g,s=p||s>=m?sr:or,o.g=s,r!=s&&Nl(i)}function vm(i){if(i.I){var r=Xe(i.h.manifest);i.g&&"AUDIO"===i.g.nodeName&&(r.disableVideo=!0),i.I.configure(r)}if(i.m&&i.m.configure(i.h.drm),i.j){i.j.configure(i.h.streaming);try{wm(i,i.i)}catch(r){Ml(i,r)}i.u&&nm(i),!(r=i.j.l)||r.allowedByApplication&&r.allowedByKeySystem||xm(i)}if(i.F&&i.F.$d(i.h.streaming.forceHTTPS),i.L&&(i.L.F=i.h.manifest.segmentRelativeVttTiming,r=i.h.textDisplayFactory,i.Hd!=r)){var o=r(),s=i.L,p=s.m;s.m=o,p&&(o.setTextVisibility(p.isTextVisible()),p.destroy()),s.g&&(s.g.i=o),i.Hd=r,i.j&&((o=(r=i.j).i.get(yn))&&Uj(r,o.stream,!0,0,!0))}i.u&&(i.u.configure(i.h.abr),i.h.abr.enabled?i.u.enable():i.u.disable(),km(i)),i.M&&(r=i.h.streaming.rebufferingGoal,i.i&&(r=Math.max(r,i.i.minBufferTime)),Je(i.M,r,Math.min(.5,r/2))),i.i&&Zl(i.i.presentationTimeline,i.h.playRangeStart,i.h.playRangeEnd)}function rm(i){return Array.from(i.g.textTracks).filter((function(i){return"metadata"!=i.kind&&"chapters"!=i.kind&&"Shaka Player TextTrack"!=i.label}))}function Cm(i){return Array.from(i.g.textTracks).filter((function(i){return"chapters"==i.kind}))}function Dm(i,r){var o,s;return K((function(p){switch(p.g){case 1:return o=Xg(r),(s=Gc[o])?p.return(s):(C(p,2),u(p,Zg(r,i.F,i.h.streaming.retryParameters),4));case 4:s=p.h,va(p,3);break;case 2:F(p);case 3:if(s)return p.return(s);throw new N(1,2,2011,o)}}))}function Em(i,r,o,s,p,m,v){var y,x,S,j;return K((function(D){if(1==D.g)return"text/vtt"!=p||v.length?u(D,Fm(i,r,i.F,i.h.streaming.retryParameters),3):D.A(2);2!=D.g&&(y=D.h,x=Gm(i,y,p,v),S=new Blob([x],{type:"text/vtt"}),r=qo(S),p="text/vtt"),j=document.createElement("track");var P=i.T,L=r;try{if(P.g.enabled){var _=Uk(P);_.ot=pl,_.su=!0;var B=Xk(L,Wk(_))}else B=L}catch(i){Wa("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",i),B=L}return j.src=B,j.label=m,j.kind=s,j.srclang=o,i.g.getAttribute("crossorigin")||i.g.setAttribute("crossorigin","anonymous"),i.g.appendChild(j),D.return(j)}))}function Fm(i,r,o,s){var p,m,v;return K((function(y){if(1==y.g){p=pr,(m=ef([r],s)).method="GET";var x=i.T;try{x.g.enabled&&Sk(x,m,{ot:pl,su:!0})}catch(i){Wa("CMCD_TEXT_ERROR","Could not generate text CMCD data.",i)}return u(y,o.request(p,m).promise,2)}return v=y.h,y.return(v.data)}))}function Gm(i,r,o,s){var p=Xn[o];if(p)return o=p(),i={periodStart:0,segmentStart:0,segmentEnd:i.g.duration,vttOffset:0},r=Fb(r),function Gk(i,r){function c(i){for(var o=i,s=t(r),p=s.next();!p.done;p=s.next())(p=p.value).end&&p.start<i&&(o+=p.end-p.start);return(10>(i=Math.floor(o/3600))?"0":"")+i+":"+(10>(s=Math.floor(o/60%60))?"0":"")+s+":"+(10>(p=Math.floor(o%60))?"0":"")+p+"."+(100>(o=Math.floor(1e3*o%1e3))?10>o?"00":"0":"")+o}function d(i){var r=[],o=700<=i.fontWeight,s="italic"==i.fontStyle,p=i.textDecoration.includes("underline");return o&&r.push("b"),s&&r.push("i"),p&&r.push("u"),o=r.reduce((function(i,r){return i+"<"+r+">"}),""),r=r.reduceRight((function(i,r){return i+"</"+r+">"}),""),i.lineBreak?"\n":i.nestedCues.length?i.nestedCues.map(d).join(""):o+i.payload+r}for(var o=i.map((function(i){if(i.nestedCues.length){var r=i.clone();return r.nestedCues=[],r.payload=d(i),r}return i})),s="WEBVTT\n\n",p=(o=t(o)).next();!p.done;p=o.next())s+=c((p=p.value).startTime)+" --\x3e "+c(p.endTime)+function(i){var r=[];switch(i.textAlign){case"left":r.push("align:left");break;case"right":r.push("align:right");break;case G:r.push("align:middle");break;case"start":r.push("align:start");break;case"end":r.push("align:end")}switch(i.writingMode){case"vertical-lr":r.push("vertical:lr");break;case"vertical-rl":r.push("vertical:rl")}return r.length?" "+r.join(" "):""}(p)+"\n",s+=p.payload+"\n\n";return s}(r=o.parseMedia(r,i),s);throw new N(2,2,2014,o)}function ql(i){var r=fl();return r.streaming.failureCallback=function(r){i.V()&&[1001,1002,1003].includes(r.code)&&(r.severity=1,i.Ud())},r.textDisplayFactory=function(){return i.Jc?new zk(i.g,i.Jc):new uk(i.g)},r}function Rl(i,r){return K((function(o){if(1==o.g)return u(o,function Im(i,r){return K((function(o){if(1==o.g)return u(o,Od(i.j?i.j.l:null,r),2);lm(r),A(o)}))}(i,r),2);wm(i,r),A(o)}))}function wm(i,r){if(i.l!=ic){Nd(r.variants,i.h.restrictions,i.$b)&&i.j&&mm(i);var o=i.m?i.m.g:null;if(o&&i.m.u)for(var s=t(r.variants),p=s.next();!p.done;p=s.next())for(var m=(p=t(((p=p.value).video?p.video.drmInfos:[]).concat(p.audio?p.audio.drmInfos:[]))).next();!m.done;m=p.next())if((m=m.value).keySystem==o.keySystem)for(var v=(m=t(m.initData||[])).next();!v.done;v=m.next())v=v.value,yg(i.m,v.initDataType,v.initData);Jm(i,r)}}function Nl(i){var r=i.yd();if(i.o&&i.M&&i.C){var o=i.G;o.j=r,wj(o),i.T&&(o=i.T,r||o.i||(o.i=!0),o.i&&r&&(o.l=!0),o.m=r),Xl(i)}r=(new Map).set("buffering",r),i.dispatchEvent(Dl("buffering",r))}function Yl(i){var r=i.g.playbackRate;0!=r&&(i.G&&i.G.set(r),r=Dl("ratechange"),i.dispatchEvent(r))}function Xl(i){if(i.o&&i.M){var r=i.o.g;i.M.g==or?jl(r,"buffering"):i.g.paused?jl(r,"paused"):i.g.ended?jl(r,"ended"):jl(r,"playing")}}function nm(i){try{Jm(i,i.i)}catch(r){return Ml(i,r),!1}var r=i.i.variants.filter((function(i){return je(i)}));return r=i.La.create(r),i.u.setVariants(Array.from(r.values())),!0}function El(i){return nm(i)?i.u.chooseVariant():null}function xm(i){var r=El(i);r&&$l(i,r,!0,!0,0)}function $l(i,r,o,s,p){var m=i.j.l;if(r==m)s&&Vj(i.j,r,s,p,!0);else{var v=i.o.h;v.h!=r&&(v.h=r,v.g.push({timestamp:Date.now()/1e3,id:r.id,type:"variant",fromAdaptation:o,bandwidth:r.bandwidth})),Vj(i.j,r,s,p,void 0,o),s=null,m&&(s=be(m)),r=be(r),o?hm(i,s,r):Km(i,s,r)}}function zm(i,r){var o=Array.from(i.g.audioTracks).find((function(i){return i.enabled}));r.enabled=!0,r.id!==o.id&&(o.enabled=!1),Km(i,o=ie(o),ie(r))}function hm(i,r,o){Lm(i,r=Dl("adaptation",r=(new Map).set("oldTrack",r).set("newTrack",o)))}function mm(i){Lm(i,Dl("trackschanged"))}function Km(i,r,o){Lm(i,r=Dl("variantchanged",r=(new Map).set("oldTrack",r).set("newTrack",o)))}function ym(i){Lm(i,Dl("textchanged"))}function jm(i){Lm(i,Dl("texttrackvisibility"))}function km(i){Lm(i,Dl("abrstatuschanged",(new Map).set("newStatus",i.h.abr.enabled)))}function Ml(i,r){if(i.l!=ic)if(function Mm(i,r){if(1002!=r.code&&1011!=r.code||1!=r.category||!navigator.onLine)return!1;var o=i.h.streaming.maxDisabledTime;if(0==o){if(1011!=r.code)return!1;o=1}for(var s=i.Ya().find((function(i){return i.active})),p=i.i,m=t(p.variants),v=m.next();!v.done;v=m.next())(v=v.value).id===s.id&&(v.disabledUntilTime=Date.now()/1e3+o);return Nd(p.variants,i.h.restrictions,i.$b),!!(s=El(i))&&(p=i.Na().video.reduce((function(i,r){return i+r.end-r.start}),0),$l(i,s,!1,!0,p),i.Ge.P(o),!0)}(i,r))r.handled=!0;else{var o=Dl("error",(new Map).set("detail",r));i.dispatchEvent(o),o.defaultPrevented&&(r.handled=!0)}}function Ql(i,r,o){o=(new Map).set("detail",{schemeIdUri:o.schemeIdUri,value:o.value,startTime:o.startTime,endTime:o.endTime,id:o.id,eventElement:o.eventElement}),i.dispatchEvent(Dl(r,o))}function Ll(i){if(!i.g.error)return null;var r=i.g.error.code;if(1==r)return null;var o=i.g.error.msExtendedCode;return o&&(0>o&&(o+=Math.pow(2,32)),o=o.toString(16)),new N(2,3,3016,r,o,i.g.error.message)}function Vl(i,r){if(i.j){var o=Object.keys(r),s=1==o.length&&"00"==o[0],p=!1;if(o.length)for(var m=(o=t(i.i.variants)).next();!m.done;m=o.next()){var v=[];(m=m.value).audio&&v.push(m.audio),m.video&&v.push(m.video);for(var y=(v=t(v)).next();!y.done;y=v.next()){var x=y.value;if(y=m.allowedByKeySystem,x.keyIds.size){m.allowedByKeySystem=!0;for(var S=(x=t(x.keyIds)).next();!S.done;S=x.next())S=S.value,S=r[s?"00":S],m.allowedByKeySystem=m.allowedByKeySystem&&!!S&&!_c.includes(S)}y!=m.allowedByKeySystem&&(p=!0)}}p&&!nm(i)||((s=i.j.l)&&!s.allowedByKeySystem&&xm(i),p&&mm(i))}}function Wl(i,r,o){i.I&&i.I.onExpirationUpdated&&i.I.onExpirationUpdated(r,o),r=Dl("expirationupdated"),i.dispatchEvent(r)}function Zl(i,r,o){0<r&&(i.V()||i.Pe(r)),o<(r=i.getDuration())&&(i.V()||i.Ia(o))}function Jm(i,r){var o=i.m?i.m.Nc():{},s=Object.keys(o);s=s.length&&"00"==s[0];for(var p=!1,m=!1,v=new Set,y=new Set,x=t(r.variants),S=x.next();!S.done;S=x.next()){var j=[];(S=S.value).audio&&j.push(S.audio),S.video&&j.push(S.video);for(var D=(j=t(j)).next();!D.done;D=j.next())if((D=D.value).keyIds.size)for(var P=(D=t(D.keyIds)).next();!P.done;P=D.next()){P=P.value;var L=o[s?"00":P];L?_c.includes(L)&&y.add(L):v.add(P)}S.allowedByApplication?S.allowedByKeySystem&&(p=!0):m=!0}if(!p)throw new N(2,4,4012,o={hasAppRestrictions:m,missingKeys:Array.from(v),restrictedKeyStatuses:Array.from(y)})}function lm(i){if(!i.variants.some(je))throw new N(2,4,4032)}function Lm(i,r){K((function(o){if(1==o.g)return u(o,Promise.resolve(),2);i.l!=ic&&i.dispatchEvent(r),A(o)}))}function Bm(i){for(var r=new Set,o=(i=t(i)).next();!o.done;o=i.next())(o=o.value).language?r.add(Q(o.language)):r.add("und");return r}function Am(i){for(var r=new Map,o=new Map,s=(i=t(i)).next();!s.done;s=i.next()){var p="und",m=[];(s=s.value).language&&(p=Q(s.language)),(m="variant"==s.type?s.audioRoles:s.roles)&&m.length||(m=[""]),r.has(p)||r.set(p,new Set);for(var v=(m=t(m)).next();!v.done;v=m.next())v=v.value,r.get(p).add(v),s.label&&(o.has(p)||o.set(p,new Map),o.get(p).set(v,s.label))}var y=[];return r.forEach((function(i,r){for(var s=t(i),p=s.next();!p.done;p=s.next()){p=p.value;var m=null;o.has(r)&&o.get(r).has(p)&&(m=o.get(r).get(p)),y.push({language:r,role:p,label:m})}})),y}function Gl(){return new N(2,7,7e3)}function Cl(i,r,o,s,p,m){return s==i&&p.K==m.K&&p.uri==m.uri&&p.mimeType==m.mimeType?r:o}function ok(){return{K:null,mimeType:null,startTime:null,de:NaN,uri:null}}function Hl(i){return new Promise((function(r,o){i.lb=function(){return o(Gl())},i.Wc=function(){return r()},i.onError=function(i){return o(i)},i.Yc=function(){return o(Gl())}}))}M("shaka.util.CmcdManager.StreamingFormat",{xg:"d",Fg:"h",Pg:"s",Lg:"o"}),M("shaka.util.ConfigUtils",al),al.convertToConfigObject=cl,al.mergeConfigObjects=bl,M("shaka.util.PlayerConfiguration",el),el.mergeConfigObjects=hl,el.createDefault=fl,pa(U,We),(s=U.prototype).destroy=function(){var i,r=this;return K((function(o){switch(o.g){case 1:return r.l==ic?o.return():(r.l=ic,i=sk(r.va,(function(){return{node:r.O,payload:ok(),hb:!1}})),u(o,new Promise((function(r){i.Hb=function(){},i.Wc=function(){r()},i.lb=function(){r()},i.onError=function(){r()},i.Yc=function(){r()}})),2));case 2:return u(o,r.va.destroy(),3);case 3:if(r.Rc&&(r.Rc.release(),r.Rc=null),r.Wb&&(r.Wb.release(),r.Wb=null),r.s&&(r.s.release(),r.s=null),r.Bd=null,r.u=null,r.h=null,r.o=null,r.Jc=null,r.T=null,!r.F){o.A(4);break}return u(o,r.F.destroy(),5);case 5:r.F=null;case 4:We.prototype.release.call(r),A(o)}}))},s.Yb=function(i,r){if(r=void 0===r||r,this.l==ic)return Promise.reject(Gl());var o=ok();o.K=i,oc()||(r=!1);var s=r?this.ub:this.Y,p=sk(this.va,(function(){return{node:s,payload:o,hb:!1}}));return p.Hb=function(){},Hl(p)},s.detach=function(){var i=this;if(this.l==ic)return Promise.reject(Gl());var r=sk(this.va,(function(){return{node:i.O,payload:ok(),hb:!1}}));return r.Hb=function(){},Hl(r)},s.ge=function(i){var r=this;if(i=void 0===i||i,this.l==ic)return Promise.reject(Gl());oc()||(i=!1);var o=ok(),s=sk(this.va,(function(s){var p=s.K&&i?r.ub:s.K?r.Y:r.O;return o.K=s.K,{node:p,payload:o,hb:!1}}));return s.Hb=function(){},Hl(s)},s.rg=function(i){this.cc=i},s.load=function(i,r,o){var s=this;if(this.cc=null,this.l==ic)return Promise.reject(Gl());this.dispatchEvent(Dl("loading"));var p=ok();p.uri=i,p.de=Date.now()/1e3,o&&(p.mimeType=o),void 0!==r&&(p.startTime=r);var m=function Il(i,r){if(!oc())return!0;var o=r.mimeType,s=r.uri||"";if(o||(o=Xg(s),o=zc[o]),o){if(""==(r.K||qc()).canPlayType(o))return!1;if(!oc()||!(o in ga)&&!(Xg(s)in ma)||i.h.streaming.preferNativeHls)return!0;if(vc())return i.h.streaming.useNativeHlsOnSafari}return!1}(this,p)?this.wb:this.ca,v=sk(this.va,(function(i){return null==i.K?null:(p.K=i.K,{node:m,payload:p,hb:!0})}));return this.o=new ol,this.T=function Jl(i){return new Hk({getBandwidthEstimate:function(){return i.u?i.u.getBandwidthEstimate():NaN},Na:function(){return i.Na()},getCurrentTime:function(){return i.g?i.g.currentTime:0},Ya:function(){return i.Ya()},Oc:function(){return i.Oc()},V:function(){return i.V()}},i.h.cmcd)}(this),v.Hb=function(){},new Promise((function(i,r){v.Yc=function(){return r(new N(2,7,7002))},v.Wc=function(){i(),s.dispatchEvent(Dl("loaded"))},v.lb=function(){return r(Gl())},v.onError=function(i){return r(i)}}))},s.configure=function(i,r){2==arguments.length&&"string"==typeof i&&(i=cl(i,r)),i.streaming&&i.streaming.lowLatencyMode&&(null==i.streaming.inaccurateManifestTolerance&&(i.streaming.inaccurateManifestTolerance=0),null==i.streaming.rebufferingGoal&&(i.streaming.rebufferingGoal=.01));var o=hl(this.h,i,ql(this));return vm(this),o},s.getConfiguration=function(){var i=ql(this);return hl(i,this.h,ql(this)),i},s.mf=function(){if(this.g){var i=this.g.buffered.length;i=i?this.g.buffered.end(i-1):0;var r=this.getConfiguration().streaming.bufferingGoal;if(i>=(r=Math.min(this.g.currentTime+r,this.sc().end)))return 1;if(!(i<=this.g.currentTime)&&i<r)return(i-this.g.currentTime)/(r-this.g.currentTime)}return 0},s.cg=function(){for(var i in this.h)delete this.h[i];hl(this.h,ql(this),ql(this)),vm(this)},s.uf=function(){return this.l},s.yf=function(){return this.g},s.fc=function(){return this.F},s.xd=function(){return this.Vb},s.ve=function(){return this.D?this.D:null},s.V=function(){return this.i?this.i.presentationTimeline.V():!(!this.g||!this.g.src)&&1/0==this.g.duration},s.jb=function(){return!!this.i&&this.i.presentationTimeline.jb()},s.Lf=function(){if(this.i){var i=this.i.variants;return!!i.length&&!i[0].video}return!(!this.g||!this.g.src)&&(this.g.videoTracks?0==this.g.videoTracks.length:0==this.g.videoHeight)},s.sc=function(){if(this.i){var i=this.i.presentationTimeline;return{start:i.Bb(),end:i.Oa()}}return this.g&&this.g.src&&(i=this.g.seekable).length?{start:i.start(0),end:i.end(i.length-1)}:{start:0,end:0}},s.Jf=function(){this.V()&&(this.g.currentTime=this.sc().end)},s.keySystem=function(){var i=this.drmInfo();return i?i.keySystem:""},s.drmInfo=function(){return this.m?this.m.g:null},s.ec=function(){return this.m?this.m.ec():1/0},s.Nc=function(){return this.m?this.m.Nc():{}},s.yd=function(){return!!this.M&&this.M.g==or},s.Oc=function(){return this.g?this.G?this.G.i:1:0},s.mg=function(i){0==i?Va("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.G.set(i),this.l==kc&&(this.u.playbackRateChanged(i),Tj(this.j,1<Math.abs(i))))},s.bf=function(){var i=this.G.Mc();this.l==jc&&this.G.set(i),this.l==kc&&(this.G.set(i),this.u.playbackRateChanged(i),Tj(this.j,!1))},s.Ya=function(){if(this.i){for(var i=this.j?this.j.l:null,r=[],o=0,s=t(this.i.variants),p=s.next();!p.done;p=s.next())if(je(p=p.value)){var m=be(p);m.active=p==i,m.active||1==o||null==i||p.video!=i.video||p.audio!=i.audio||(m.active=!0),m.active&&o++,r.push(m)}return r}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map((function(i){return ie(i)})):[]},s.Db=function(){if(this.i){for(var i=this.j?this.j.o:null,r=[],o=t(this.i.textStreams),s=o.next();!s.done;s=o.next()){var p=ce(s=s.value);p.active=s==i,r.push(p)}return r}return this.g&&this.g.src&&this.g.textTracks?rm(this).map((function(i){return ge(i)})):[]},s.rf=function(){return this.i?this.i.imageStreams.map((function(i){return de(i)})):[]},s.Ff=function(i,r){var o,s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re=this;return K((function(ue){return 1==ue.g?re.i?(o=re.i.imageStreams.find((function(r){return r.id==i})))?o.segmentIndex?ue.A(3):u(ue,o.createSegmentIndex(),3):ue.return(null):ue.A(2):2!=ue.g?null==(s=o.segmentIndex.find(r))?ue.return(null):(p=o.segmentIndex.get(s),m=p.tilesLayout||o.tilesLayout,(v=/(\d+)x(\d+)/.exec(m))?(y=o.width||0,x=o.height||0,S=parseInt(v[1],10),j=parseInt(v[2],10),D=y/S,P=x/j,L=S*j,_=p.j-p.startTime,B=p.m||_/L,z=p.startTime,Y=G=0,1<L&&($=Math.floor((r-p.startTime)/B),z=p.startTime+$*B,G=$%S*D,Y=Math.floor($/S)*P),ue.return({imageHeight:x,imageWidth:y,height:P,positionX:G,positionY:Y,startTime:z,duration:B,uris:p.ya(),width:D})):ue.return(null)):ue.return(null)}))},s.Le=function(i){if(this.i&&this.j){var r=this.i.textStreams.find((function(r){return r.id==i.id}));r&&r!=this.j.o&&(nl(this.o.h,r,!1),Wj(this.j,r),ym(this),this.sb=r.language)}else if(this.g&&this.g.src&&this.g.textTracks){for(var o=(r=t(r=rm(this))).next();!o.done;o=r.next())ee(o=o.value)==i.id?o.mode=this.ha?"showing":"hidden":o.mode="disabled";ym(this)}},s.Me=function(i,r,o){if(r=void 0!==r&&r,o=void 0===o?0:o,this.i&&this.j){this.h.abr.enabled&&Va("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var s=this.i.variants.find((function(r){return r.id==i.id}));s&&je(s)&&($l(this,s,!1,r,o),this.La=new Be(s),nm(this))}else if(this.g&&this.g.audioTracks)for(o=(r=t(r=Array.from(this.g.audioTracks))).next();!o.done;o=r.next())if(ee(o=o.value)==i.id){zm(this,o);break}},s.lf=function(){return Am(this.Ya())},s.Ef=function(){return Am(this.Db())},s.kf=function(){return Array.from(Bm(this.Ya()))},s.Df=function(){return Array.from(Bm(this.Db()))},s.Xd=function(i,r){if(this.i&&this.C){this.La=new Ce(i,r||"",0,"");for(var c=function(i,r){return i.video||r.video?i.video&&r.video?Math.abs((i.video.height||0)-(r.video.height||0))+Math.abs((i.video.width||0)-(r.video.width||0)):1/0:0},o=this.j.l,s=this.La.create(this.i.variants),p=null,m=(s=t(s.values())).next();!m.done;m=s.next())m=m.value,(!p||c(p,o)>c(m,o))&&(p=m);p?(c=be(p),this.Me(c,!0)):xm(this)}else if(this.g&&this.g.audioTracks){for(s=Array.from(this.g.audioTracks),c=Q(i),p=o=null,m=(s=t(s)).next();!m.done;m=s.next()){var v=ie(m=m.value);Q(v.language)==c&&(o=m,r?v.roles.includes(r)&&(p=m):0==v.roles.length&&(p=m))}p?zm(this,p):o&&zm(this,o)}},s.Yd=function(i,r,o){if(o=void 0!==o&&o,this.i&&this.C)this.sb=i,this.Zb=r||"",this.Xb=o,(i=le(this.i.textStreams,this.sb,this.Zb,this.Xb)[0]||null)&&i!=this.j.o&&(nl(this.o.h,i,!1),this.h.streaming.alwaysStreamText||this.zd())&&(Wj(this.j,i),ym(this));else{var s=Q(i);(i=this.Db().find((function(i){return Q(i.language)==s&&(!r||i.roles.includes(r))&&i.forced==o})))&&this.Le(i)}},s.eg=function(i){if(this.i&&this.C){for(var r=null,o=t(this.i.variants),s=o.next();!s.done;s=o.next())if((s=s.value).audio.label==i){r=s;break}null!=r&&(this.La=new Ce(r.language,"",0,i),xm(this))}},s.zd=function(){var i=this.ha;return this.L?this.L.m.isTextVisible():this.g&&this.g.src&&this.g.textTracks?rm(this).some((function(i){return"showing"==i.mode})):i},s.we=function(){return this.g&&this.g.src&&this.g.textTracks?Cm(this).map((function(i){return ge(i)})):[]},s.nf=function(i){var r=Q(i),o=Cm(this).filter((function(i){return Q(i.language)==r}));if(!o||!o.length)return[];i=[];for(var s=(o=t(o)).next();!s.done;s=o.next())if((s=s.value)&&s.cues)for(var p=(s=t(s.cues)).next();!p.done;p=s.next()){var m=(p=p.value).id;m&&""!=m||(m=p.startTime+"-"+p.endTime+"-"+p.text),i.push({id:m,title:p.text,startTime:p.startTime,endTime:p.endTime})}return i},s.kg=function(i){if(i=!!i,this.ha!=i){if(this.ha=i,this.l==kc)this.L.m.setTextVisibility(i),this.h.streaming.alwaysStreamText||(i?this.j.o||0<(i=le(this.i.textStreams,this.sb,this.Zb,this.Xb)).length&&(Wj(this.j,i[0]),ym(this)):function Sj(i){var r=i.i.get(yn);r&&(Mj(r),Nj(r).catch((function(){})),i.i.delete(yn)),i.o=null}(this.j));else if(this.g&&this.g.src&&this.g.textTracks)for(var r=rm(this),o=(r=t(r)).next();!o.done;o=r.next())"disabled"!=(o=o.value).mode&&(o.mode=i?"showing":"hidden");jm(this)}},s.Bf=function(){if(!this.V())return null;var i=this.va.l,r=0;if(this.C)r=this.C.Ec();else if(i){if(null==i.startTime)return new Date;r=i.startTime}return this.i?new Date(1e3*(this.i.presentationTimeline.l+r)):this.g&&this.g.getStartDate?(i=this.g.getStartDate(),isNaN(i.getTime())?null:new Date(i.getTime()+1e3*r)):null},s.xe=function(){if(!this.V())return null;if(this.i)return new Date(1e3*this.i.presentationTimeline.l);if(this.g&&this.g.getStartDate){var i=this.g.getStartDate();return isNaN(i.getTime())?null:i}return null},s.Na=function(){if(this.l==kc)return this.L.Na();var i={total:[],audio:[],video:[],text:[]};return this.l==jc&&(i.total=vi(this.g.buffered)),i},s.getStats=function(){if(this.l!=kc&&this.l!=jc)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Xl(this);var i=this.g,r=i.currentTime/i.duration;if(!isNaN(r)){var o=this.o;r=Math.round(100*r),o.i=isNaN(o.i)?r:Math.max(o.i,r)}if(this.C&&(this.o.O=this.C.ie(),this.o.T=this.C.je()),i.getVideoPlaybackQuality){o=i.getVideoPlaybackQuality(),r=this.o;var s=Number(o.totalVideoFrames);r.M=Number(o.droppedVideoFrames),r.L=s,this.o.I=Number(o.corruptedVideoFrames)}this.m?o=(o=this.m).I?o.I:NaN:o=NaN,this.o.s=o,this.l==kc&&((o=this.j.l)&&(this.o.C=(this.G?this.G.i:1)*o.bandwidth),o&&o.video&&(r=this.o,s=o.video.height||NaN,r.o=o.video.width||NaN,r.l=s),this.V()&&(o=this.xe().valueOf()+1e3*this.sc().end,this.o.D=(Date.now()-o)/1e3),this.i&&this.i.presentationTimeline&&(this.o.G=this.i.presentationTimeline.g),o=this.u.getBandwidthEstimate(),this.o.u=o),this.l==jc&&(o=this.o,r=i.videoHeight||NaN,o.o=i.videoWidth||NaN,o.l=r);var p=this.o;i=p.o,o=p.l,r=p.C,s=p.L;for(var m=p.M,v=p.I,y=p.T,x=p.O,S=p.u,j=p.i,D=p.m,P=p.F,L=p.j,_=kl(p.g,"playing"),B=kl(p.g,"paused"),z=kl(p.g,"buffering"),G=p.s,Y=p.D,$=p.G,re=function ll(i){function b(i){return{timestamp:i.timestamp,state:i.state,duration:i.duration}}for(var r=[],o=t(i.h),s=o.next();!s.done;s=o.next())r.push(b(s.value));return i.g&&r.push(b(i.g)),r}(p.g),ue=[],fe=(p=t(p.h.g)).next();!fe.done;fe=p.next())fe=fe.value,ue.push({timestamp:fe.timestamp,id:fe.id,type:fe.type,fromAdaptation:fe.fromAdaptation,bandwidth:fe.bandwidth});return{width:i,height:o,streamBandwidth:r,decodedFrames:s,droppedFrames:m,corruptedFrames:v,stallsDetected:y,gapsJumped:x,estimatedBandwidth:S,completionPercent:j,loadLatency:D,manifestTimeSeconds:P,drmTimeSeconds:L,playTime:_,pauseTime:B,bufferingTime:z,licenseTime:G,liveLatency:Y,maxSegmentDuration:$,stateHistory:re,switchHistory:ue}},s.Ye=function(i,r,o,s,p,m,v){v=void 0!==v&&v;var y,x,S,j,D,P,L,_,B,z,G=this;return K((function(Y){switch(Y.g){case 1:if(G.l!=kc&&G.l!=jc)throw new N(1,7,7004);if(s){Y.A(2);break}return u(Y,Dm(G,i),3);case 3:s=Y.h;case 2:if(y=[],G.D)try{y=G.D.getServerSideCuePoints()}catch(i){}if(G.l!=jc){Y.A(4);break}return v&&(o="forced"),u(Y,Em(G,i,r,o,s,m||"",y),5);case 5:if(x=G.Db(),S=x.find((function(i){return i.language==r&&i.label==(m||"")&&i.kind==o})))return mm(G),Y.return(S);throw new N(1,2,2012);case 4:if(j=wn,1/0==(D=G.i.presentationTimeline.getDuration()))throw new N(1,4,4033);if(!y.length){Y.A(6);break}return u(Y,Fm(G,i,G.F,G.h.streaming.retryParameters),7);case 7:P=Y.h,L=Gm(G,P,s,y),_=new Blob([L],{type:"text/vtt"}),i=qo(_),s="text/vtt";case 6:if(B={id:G.He++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:tj(0,D,[i]),mimeType:s||"",codecs:p||"",kind:o,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,label:m||null,type:j.X,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!v,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},z=Xc(B.mimeType,B.codecs),!cd(z))throw new N(2,2,2014,s);return G.i.textStreams.push(B),mm(G),Y.return(ce(B))}}))},s.Xe=function(i,r,o){var s,p,m,v,y=this;return K((function(x){switch(x.g){case 1:if(y.l!=kc&&y.l!=jc)throw new N(1,7,7004);if(o){x.A(2);break}return u(x,Dm(y,i),3);case 3:o=x.h;case 2:if(s=[],y.D)try{s=y.D.getServerSideCuePoints()}catch(i){}return u(x,Em(y,i,r,"chapters",o,"",s),4);case 4:if(p=x.h,m=y.we(),!(v=m.find((function(i){return i.language==r})))){x.A(5);break}return u(x,new Promise((function(i,r){y.s.oa(p,"load",i),y.s.oa(p,"error",(function(){r(new N(1,2,2015))}))})),6);case 6:return x.return(v);case 5:throw new N(1,2,2012)}}))},s.ae=function(i,r){this.$b.width=i,this.$b.height=r},s.Ud=function(){if(this.l==kc){var i=this.j;if(i.h.g)i=!1;else if(i.s)i=!1;else{for(var r=t(i.i.values()),o=r.next();!o.done;o=r.next())(o=o.value).jc&&(o.jc=!1,Rj(i,o,.1));i=!0}}else i=!1;return i},s.vf=function(){return Va("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},s.wf=function(){return this.Sc},s.Qe=function(i){this.Jc=i},M("shaka.Player",U),U.prototype.setVideoContainer=U.prototype.Qe,U.prototype.getManifestParserFactory=U.prototype.wf,U.prototype.getManifest=U.prototype.vf,U.prototype.retryStreaming=U.prototype.Ud,U.prototype.setMaxHardwareResolution=U.prototype.ae,U.prototype.addChaptersTrack=U.prototype.Xe,U.prototype.addTextTrackAsync=U.prototype.Ye,U.prototype.getStats=U.prototype.getStats,U.prototype.getBufferedInfo=U.prototype.Na,U.prototype.getPresentationStartTimeAsDate=U.prototype.xe,U.prototype.getPlayheadTimeAsDate=U.prototype.Bf,U.prototype.setTextTrackVisibility=U.prototype.kg,U.prototype.getChapters=U.prototype.nf,U.prototype.getChaptersTracks=U.prototype.we,U.prototype.isTextTrackVisible=U.prototype.zd,U.prototype.selectVariantsByLabel=U.prototype.eg,U.prototype.selectTextLanguage=U.prototype.Yd,U.prototype.selectAudioLanguage=U.prototype.Xd,U.prototype.getTextLanguages=U.prototype.Df,U.prototype.getAudioLanguages=U.prototype.kf,U.prototype.getTextLanguagesAndRoles=U.prototype.Ef,U.prototype.getAudioLanguagesAndRoles=U.prototype.lf,U.prototype.selectVariantTrack=U.prototype.Me,U.prototype.selectTextTrack=U.prototype.Le,U.prototype.getThumbnails=U.prototype.Ff,U.prototype.getImageTracks=U.prototype.rf,U.prototype.getTextTracks=U.prototype.Db,U.prototype.getVariantTracks=U.prototype.Ya,U.prototype.cancelTrickPlay=U.prototype.bf,U.prototype.trickPlay=U.prototype.mg,U.prototype.getPlaybackRate=U.prototype.Oc,U.prototype.isBuffering=U.prototype.yd,U.prototype.getKeyStatuses=U.prototype.Nc,U.prototype.getExpiration=U.prototype.ec,U.prototype.drmInfo=U.prototype.drmInfo,U.prototype.keySystem=U.prototype.keySystem,U.prototype.goToLive=U.prototype.Jf,U.prototype.seekRange=U.prototype.sc,U.prototype.isAudioOnly=U.prototype.Lf,U.prototype.isInProgress=U.prototype.jb,U.prototype.isLive=U.prototype.V,U.prototype.getAdManager=U.prototype.ve,U.prototype.getAssetUri=U.prototype.xd,U.prototype.getNetworkingEngine=U.prototype.fc,U.prototype.getMediaElement=U.prototype.yf,U.prototype.getLoadMode=U.prototype.uf,U.prototype.resetConfiguration=U.prototype.cg,U.prototype.getBufferFullness=U.prototype.mf,U.prototype.getConfiguration=U.prototype.getConfiguration,U.prototype.configure=U.prototype.configure,U.prototype.load=U.prototype.load,U.prototype.updateStartTime=U.prototype.rg,U.prototype.unload=U.prototype.ge,U.prototype.detach=U.prototype.detach,U.prototype.attach=U.prototype.Yb,U.probeSupport=function(i){var r,o,s,p,m;return i=void 0===i||i,K((function(v){if(1==v.g)return r={},i?u(v,function Pg(){var i,r,o,s,p,m;return K((function(v){return 1==v.g?(i="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),o=[{videoCapabilities:r=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{initDataTypes:["cenc"],videoCapabilities:r}],s=new Map,p=function(i){var r,p,m;return K((function(v){switch(v.g){case 1:if(C(v,2),"org.w3.clearkey"===i&&xc())throw Error("Unsupported keySystem");return u(v,navigator.requestMediaKeySystemAccess(i,o),4);case 4:return r=v.h,m=!!(p=r.getConfiguration().sessionTypes)&&p.includes("persistent-license"),sc("Tizen 3")&&(m=!1),s.set(i,{persistentState:m}),u(v,r.createMediaKeys(),5);case 5:va(v,0);break;case 2:F(v),s.set(i,null),A(v)}}))},m=i.map((function(i){return p(i)})),u(v,Promise.all(m),2)):v.return(wf(s))}))}(),3):v.A(2);2!=v.g&&(r=v.h);var y={};if(oc()){for(var x in ga)y[x]=!0;for(var S in ma)y[S]=!0}x={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var j=(S=t(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!j.done;j=S.next())y[j=j.value]=oc()?!!ga[j]:pc(j);for(var D in x)y[D]=oc()?!!ma[D]:pc(x[D]);for(o=y,y={},x=(D=t(D='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(ia($s)))).next();!x.done;x=D.next())y[x=x.value]=oc()?!!cd(x)||(MediaSource.isTypeSupported(x)||Sc(x)):pc(x),y[S=x.split(";")[0]]=y[S]||y[x];for(m in s={manifest:o,media:y,drm:r},p=Fc)s[m]=p[m]();return v.return(s)}))},U.isBrowserSupported=function(){if(i.Promise||Va("A Promise implementation or polyfill is required"),!(i.Promise&&i.Uint8Array&&Array.prototype.forEach)||sc("Trident/"))return!1;var r=xc();return!(r&&13>r||!(i.MediaKeys&&i.navigator&&i.navigator.requestMediaKeySystemAccess&&i.MediaKeySystemAccess&&i.MediaKeySystemAccess.prototype.getConfiguration))&&(!!oc()||pc("application/x-mpegurl"))},U.setAdManagerFactory=function(i){Hc=i},U.registerSupportPlugin=function(i,r){Fc[i]=r},U.prototype.destroy=U.prototype.destroy;var ic=0,yc=1,kc=2,jc=3;U.LoadMode={DESTROYED:ic,NOT_LOADED:yc,MEDIA_SOURCE:kc,SRC_EQUALS:jc},U.version="v4.2.3";var Dc=["4","2"];ar=new function(i){this.g=i,this.i=ve,this.h=we}(new se(Number(Dc[0]),Number(Dc[1])));var _c=["output-restricted","internal-error"],Fc={},Hc=null,zc={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},Gc={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function Qm(){this.h=[],this.j=this.i=this.g=0}function V(i,r,o){var s=this;this.h=i,this.g=r,this.m=o,this.i=!1,this.l=this.g.getVolume(),this.j=new of,this.j.B(this.g,google.ima.AdEvent.Type.PAUSED,(function(){s.i=!0})),this.j.B(this.g,google.ima.AdEvent.Type.RESUMED,(function(){s.i=!1}))}function Rm(r,o,s,p){var m=this;this.o=r,this.i=o,this.s=null,this.u=NaN,this.l=p,this.j=null,this.h=new of,google.ima.settings.setLocale(s),(r=new google.ima.AdDisplayContainer(this.o,this.i)).initialize(),this.m=new google.ima.AdsLoader(r),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.2.3"),this.g=null,this.h.oa(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(r){!function Sm(r,o){r.l(new R("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-r.u))),r.g=o.getAdsManager(r.i),r.l(new R("ima-ad-manager-loaded",(new Map).set("imaAdManager",r.g)));var s=r.g.getCuePoints();if(s.length){for(var p=[],m=(s=t(s)).next();!m.done;m=s.next())p.push({start:m.value,end:null});r.l(new R("ad-cue-points-changed",(new Map).set("cuepoints",p)))}!function Vm(i){function b(r,o){var s=(new Map).set("originalEvent",r);i.l(new R(o,s))}i.h.B(i.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(r){Tm(i,r)})),i.h.B(i.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(r){Xm(i,r)})),i.h.B(i.g,google.ima.AdEvent.Type.STARTED,(function(r){Xm(i,r)})),i.h.B(i.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(i){b(i,"ad-first-quartile")})),i.h.B(i.g,google.ima.AdEvent.Type.MIDPOINT,(function(i){b(i,"ad-midpoint")})),i.h.B(i.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(i){b(i,"ad-third-quartile")})),i.h.B(i.g,google.ima.AdEvent.Type.COMPLETE,(function(i){b(i,"ad-complete")})),i.h.B(i.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(r){Um(i,r)})),i.h.B(i.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(r){Um(i,r)})),i.h.B(i.g,google.ima.AdEvent.Type.SKIPPED,(function(i){b(i,"ad-skipped")})),i.h.B(i.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(i){b(i,"ad-volume-changed")})),i.h.B(i.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(i){b(i,"ad-muted")})),i.h.B(i.g,google.ima.AdEvent.Type.PAUSED,(function(r){i.j.i=!0,b(r,"ad-paused")})),i.h.B(i.g,google.ima.AdEvent.Type.RESUMED,(function(r){i.j.i=!1,b(r,"ad-resumed")})),i.h.B(i.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(i){b(i,"ad-skip-state-changed")})),i.h.B(i.g,google.ima.AdEvent.Type.CLICK,(function(i){b(i,"ad-clicked")})),i.h.B(i.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(i){b(i,"ad-progress")})),i.h.B(i.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(i){b(i,"ad-buffering")})),i.h.B(i.g,google.ima.AdEvent.Type.IMPRESSION,(function(i){b(i,"ad-impression")})),i.h.B(i.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(i){b(i,"ad-duration-changed")})),i.h.B(i.g,google.ima.AdEvent.Type.USER_CLOSE,(function(i){b(i,"ad-closed")})),i.h.B(i.g,google.ima.AdEvent.Type.LOADED,(function(i){b(i,"ad-loaded")})),i.h.B(i.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(i){b(i,"all-ads-completed")})),i.h.B(i.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(i){b(i,"ad-linear-changed")})),i.h.B(i.g,google.ima.AdEvent.Type.AD_METADATA,(function(i){b(i,"ad-metadata")})),i.h.B(i.g,google.ima.AdEvent.Type.LOG,(function(i){b(i,"ad-recoverable-error")})),i.h.B(i.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(i){b(i,"ad-break-ready")})),i.h.B(i.g,google.ima.AdEvent.Type.INTERACTION,(function(i){b(i,"ad-interaction")}))}(r);try{r.g.init(r.i.offsetWidth,r.i.offsetHeight,Wm(r)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),r.h.B(r.i,"loadeddata",(function(){r.g.resize(r.i.offsetWidth,r.i.offsetHeight,Wm(r)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),"ResizeObserver"in i?(r.s=new ResizeObserver((function(){r.g.resize(r.i.offsetWidth,r.i.offsetHeight,Wm(r)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),r.s.observe(r.i)):r.h.B(document,"fullscreenchange",(function(){r.g.resize(r.i.offsetWidth,r.i.offsetHeight,Wm(r)?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),r.i.addEventListener("play",(function(){r.g.start()}),{once:!0})}catch(i){Um(r,null)}}(m,r)})),this.h.B(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(i){Tm(m,i)})),this.i.onended=function(){m.m.contentComplete()}}function Tm(i,r){r.getError(),Um(i,null),i.l(new R("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Wm(i){return document.fullscreenEnabled?!!document.fullscreenElement:!!(i=i.i).webkitSupportsFullscreen&&i.webkitDisplayingFullscreen}function Xm(i,r){var o=r.getAd();i.j=new V(o,i.g,i.i),o=(new Map).set("ad",i.j).set("sdkAdObject",o).set("originalEvent",r),i.l(new R("ad-started",o)),i.j.isLinear()&&(i.o.setAttribute("ad-active","true"),i.i.pause())}function Um(i,r){i.l(new R("ad-stopped",(new Map).set("originalEvent",r))),i.j&&i.j.isLinear()&&(i.o.removeAttribute("ad-active"),i.i.play())}function W(i,r){this.i=i,this.h=null,this.g=r}function Ym(i,r,o,s){var p=this;this.s=i,this.l=r,this.j=null,this.G=NaN,this.i=s,this.F=!1,this.u=this.m=this.o=null,this.C="",this.D=[],this.h=new of,(i=new google.ima.dai.api.UiSettings).setLocale(o),this.g=new google.ima.dai.api.StreamManager(this.l,this.s,i),this.i(new R("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(i){!function Zm(i,r){i.i(new R("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-i.G)));var o=r.getStreamData().url;i.j.resolve(o),i.j=null,i.F||i.h.B(i.l,"seeked",(function(){var r=i.l.currentTime;if(0!=r){i.g.streamTimeForContentTime(r);var o=i.g.previousCuePointForStreamTime(r);o&&!o.played&&(i.o=r,i.l.currentTime=o.start)}}))}(p,i)})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){p.C.length?p.j.resolve(p.C):p.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),p.j=null})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(i){i=i.getAd(),p.m=new W(i,p.l),p.u&&(p.m.h=p.u),p.i(new R("ad-started",(new Map).set("ad",p.m))),p.s.setAttribute("ad-active","true")})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){p.s.removeAttribute("ad-active");var i=p.l.currentTime;p.o&&p.o>i&&(p.l.currentTime=p.o,p.o=null)})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(i){p.u=i.getStreamData().adProgressData,p.m&&(p.m.h=p.u)})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){p.i(new R("ad-first-quartile"))})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){p.i(new R("ad-midpoint"))})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){p.i(new R("ad-third-quartile"))})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){p.i(new R("ad-complete")),p.i(new R("ad-stopped")),p.s.removeAttribute("ad-active"),p.m=null})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){p.i(new R("ad-skipped")),p.i(new R("ad-stopped"))})),this.h.B(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(i){var r=i.getStreamData();i=[];for(var o=(r=t(r.cuepoints)).next();!o.done;o=r.next())o=o.value,i.push({start:o.start,end:o.end});p.D=i,p.i(new R("ad-cue-points-changed",(new Map).set("cuepoints",i)))}))}function X(){We.call(this),this.g=this.i=null,this.h=new Qm,this.j=navigator.language}function $m(i){return JSON.stringify(i,(function(i,r){if("function"!=typeof r){if(r instanceof Event||r instanceof R){var o={};for(p in r){var s=r[p];s&&"object"==typeof s?"detail"==p&&(o[p]=s):p in Event||(o[p]=s)}return o}if(r instanceof Error){var p=new Set(["name","message","stack"]);for(o in r)p.add(o);for(o=(s=t(Object.getOwnPropertyNames(r))).next();!o.done;o=s.next())p.add(o.value);for(s={},o=(p=t(p)).next();!o.done;o=p.next())s[o=o.value]=r[o];p={__type__:"Error",contents:s}}else if(r instanceof TimeRanges)for(p={__type__:"TimeRanges",length:r.length,start:[],end:[]},s=(o=t(vi(r))).next();!s.done;s=o.next()){var m=(s=s.value).end;p.start.push(s.start),p.end.push(m)}else p=r instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(r)}:"number"==typeof r?isNaN(r)?"NaN":isFinite(r)?r:0>r?"-Infinity":"Infinity":r;return p}}))}function an(i){return JSON.parse(i,(function(i,r){if("NaN"==r)var o=NaN;else if("-Infinity"==r)o=-1/0;else if("Infinity"==r)o=1/0;else if(r&&"object"==typeof r&&"TimeRanges"==r.__type__)o=function bn(i){return{length:i.length,start:function(r){return i.start[r]},end:function(r){return i.end[r]}}}(r);else if(r&&"object"==typeof r&&"Uint8Array"==r.__type__)o=new Uint8Array(r.entries);else if(r&&"object"==typeof r&&"Error"==r.__type__){o=r.contents;var s,p=Error(o.message);for(s in o)p[s]=o[s];o=p}else o=r;return o}))}(s=V.prototype).getDuration=function(){return this.h.getDuration()},s.getMinSuggestedDuration=function(){return this.h.getMinSuggestedDuration()},s.getRemainingTime=function(){return this.g.getRemainingTime()},s.isPaused=function(){return this.i},s.isSkippable=function(){return 0<=this.h.getSkipTimeOffset()},s.getTimeUntilSkippable=function(){var i=this.h.getSkipTimeOffset();return i=this.getRemainingTime()-i,Math.max(i,0)},s.canSkipNow=function(){return this.g.getAdSkippableState()},s.skip=function(){return this.g.skip()},s.pause=function(){return this.g.pause()},s.play=function(){return this.g.resume()},s.getVolume=function(){return this.g.getVolume()},s.setVolume=function(i){return this.g.setVolume(i)},s.isMuted=function(){return 0==this.g.getVolume()},s.isLinear=function(){return this.h.isLinear()},s.resize=function(i,r){var o=!1,s=this.m;document.fullscreenEnabled?o=!!document.fullscreenElement:s.webkitSupportsFullscreen&&(o=s.webkitDisplayingFullscreen),this.g.resize(i,r,o?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},s.setMuted=function(i){i?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},s.getSequenceLength=function(){var i=this.h.getAdPodInfo();return null==i?1:i.getTotalAds()},s.getPositionInSequence=function(){var i=this.h.getAdPodInfo();return null==i?1:i.getAdPosition()},s.release=function(){this.g=this.h=null},M("shaka.ads.ClientSideAd",V),V.prototype.release=V.prototype.release,V.prototype.getPositionInSequence=V.prototype.getPositionInSequence,V.prototype.getSequenceLength=V.prototype.getSequenceLength,V.prototype.setMuted=V.prototype.setMuted,V.prototype.resize=V.prototype.resize,V.prototype.isLinear=V.prototype.isLinear,V.prototype.isMuted=V.prototype.isMuted,V.prototype.setVolume=V.prototype.setVolume,V.prototype.getVolume=V.prototype.getVolume,V.prototype.play=V.prototype.play,V.prototype.pause=V.prototype.pause,V.prototype.skip=V.prototype.skip,V.prototype.canSkipNow=V.prototype.canSkipNow,V.prototype.getTimeUntilSkippable=V.prototype.getTimeUntilSkippable,V.prototype.isSkippable=V.prototype.isSkippable,V.prototype.isPaused=V.prototype.isPaused,V.prototype.getRemainingTime=V.prototype.getRemainingTime,V.prototype.getMinSuggestedDuration=V.prototype.getMinSuggestedDuration,V.prototype.getDuration=V.prototype.getDuration,Rm.prototype.stop=function(){this.g&&this.g.stop(),this.o&&yk(this.o)},Rm.prototype.release=function(){this.stop(),this.s&&this.s.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy()},(s=W.prototype).getDuration=function(){return this.h?this.h.duration:-1},s.getMinSuggestedDuration=function(){return this.getDuration()},s.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},s.isPaused=function(){return this.g.paused},s.isSkippable=function(){return this.i.isSkippable()},s.getTimeUntilSkippable=function(){var i=this.i.getSkipTimeOffset();return i=this.getRemainingTime()-i,Math.max(i,0)},s.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},s.skip=function(){this.g.currentTime+=this.getRemainingTime()},s.pause=function(){return this.g.pause()},s.play=function(){return this.g.play()},s.getVolume=function(){return this.g.volume},s.setVolume=function(i){this.g.volume=i},s.isMuted=function(){return this.g.muted},s.isLinear=function(){return!0},s.resize=function(){},s.setMuted=function(i){this.g.muted=i},s.getSequenceLength=function(){var i=this.i.getAdPodInfo();return null==i?1:i.getTotalAds()},s.getPositionInSequence=function(){var i=this.i.getAdPodInfo();return null==i?1:i.getAdPosition()},s.release=function(){this.g=this.h=this.i=null},M("shaka.ads.ServerSideAd",W),W.prototype.release=W.prototype.release,W.prototype.getPositionInSequence=W.prototype.getPositionInSequence,W.prototype.getSequenceLength=W.prototype.getSequenceLength,W.prototype.setMuted=W.prototype.setMuted,W.prototype.resize=W.prototype.resize,W.prototype.isLinear=W.prototype.isLinear,W.prototype.isMuted=W.prototype.isMuted,W.prototype.setVolume=W.prototype.setVolume,W.prototype.getVolume=W.prototype.getVolume,W.prototype.play=W.prototype.play,W.prototype.pause=W.prototype.pause,W.prototype.skip=W.prototype.skip,W.prototype.canSkipNow=W.prototype.canSkipNow,W.prototype.getTimeUntilSkippable=W.prototype.getTimeUntilSkippable,W.prototype.isSkippable=W.prototype.isSkippable,W.prototype.isPaused=W.prototype.isPaused,W.prototype.getRemainingTime=W.prototype.getRemainingTime,W.prototype.getMinSuggestedDuration=W.prototype.getMinSuggestedDuration,W.prototype.getDuration=W.prototype.getDuration,Ym.prototype.stop=function(){this.C="",this.o=null,this.D=[]},Ym.prototype.release=function(){this.stop(),this.h&&this.h.release()},Ym.prototype.onCueMetadataChange=function(i){if(i.key&&i.data){var r={};r[i.key]=i.data,this.g.onTimedMetadata(r)}},pa(X,We),(s=X.prototype).setLocale=function(i){this.j=i},s.initClientSide=function(r,o){var s=this;if(!i.google||!google.ima||!google.ima.AdsLoader)throw new N(2,10,1e4);this.i&&this.i.release(),this.i=new Rm(r,o,this.j,(function(i){if(i&&i.type)switch(i.type){case"ads-loaded":s.h.h.push(i.loadTime);break;case"ad-started":s.h.g++;break;case"ad-complete":s.h.i++;break;case"ad-skipped":s.h.j++}s.dispatchEvent(i)}))},s.release=function(){this.i&&(this.i.release(),this.i=null),this.g&&(this.g.release(),this.g=null),We.prototype.release.call(this)},s.onAssetUnload=function(){this.i&&this.i.stop(),this.g&&this.g.stop(),this.dispatchEvent(new R("ad-stopped")),this.h=new Qm},s.requestClientSideAds=function(i){if(!this.i)throw new N(1,10,10001);var r=this.i;r.u=Date.now()/1e3,r.m.requestAds(i)},s.initServerSide=function(r,o){var s=this;if(!i.google||!google.ima||!google.ima.dai)throw new N(2,10,10002);this.g&&this.g.release(),this.g=new Ym(r,o,this.j,(function(i){if(i&&i.type)switch(i.type){case"ads-loaded":s.h.h.push(i.loadTime);break;case"ad-started":s.h.g++;break;case"ad-complete":s.h.i++;break;case"ad-skipped":s.h.j++}s.dispatchEvent(i)}))},s.requestServerSideStream=function(i,r){if(r=void 0===r?"":r,!this.g)throw new N(1,10,10003);i.adTagParameters||(i.adTagParameters={});var o=i.adTagParameters;(o.mpt||o.mpv)&&Va('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),i.adTagParameters.mpt="shaka-player",i.adTagParameters.mpv="v4.2.3";var s=r;return(o=this.g).j?o=Promise.reject(new N(1,10,10004)):(i instanceof google.ima.dai.api.LiveStreamRequest&&(o.F=!0),o.j=new lc,o.g.requestStream(i),o.C=s||"",o.G=Date.now()/1e3,o=o.j),o},s.replaceServerSideAdTagParameters=function(i){if(!this.g)throw new N(1,10,10003);(i.mpt||i.mpv)&&Va('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),i.mpt="Shaka Player",i.mpv="v4.2.3",this.g.g.replaceAdTagParameters(i)},s.getServerSideCuePoints=function(){if(!this.g)throw new N(1,10,10003);return this.g.D},s.getStats=function(){var i=this.h;return{loadTimes:i.h,started:i.g,playedCompletely:i.i,skipped:i.j}},s.onDashTimedMetadata=function(i){if(this.g&&"urn:google:dai:2018"==i.schemeIdUri){var r=i.schemeIdUri,o=i.eventElement?i.eventElement.getAttribute("messageData"):null;this.g.g.processMetadata(r,o,i.startTime)}},s.onHlsTimedMetadata=function(i,r){this.g&&this.g.g.processMetadata("ID3",i.data,r)},s.onCueMetadataChange=function(i){this.g&&this.g.onCueMetadataChange(i)},M("shaka.ads.AdManager",X),X.prototype.onCueMetadataChange=X.prototype.onCueMetadataChange,X.prototype.onHlsTimedMetadata=X.prototype.onHlsTimedMetadata,X.prototype.onDashTimedMetadata=X.prototype.onDashTimedMetadata,X.prototype.getStats=X.prototype.getStats,X.prototype.getServerSideCuePoints=X.prototype.getServerSideCuePoints,X.prototype.replaceServerSideAdTagParameters=X.prototype.replaceServerSideAdTagParameters,X.prototype.requestServerSideStream=X.prototype.requestServerSideStream,X.prototype.initServerSide=X.prototype.initServerSide,X.prototype.requestClientSideAds=X.prototype.requestClientSideAds,X.prototype.onAssetUnload=X.prototype.onAssetUnload,X.prototype.release=X.prototype.release,X.prototype.initClientSide=X.prototype.initClientSide,X.prototype.setLocale=X.prototype.setLocale,X.ADS_LOADED="ads-loaded",X.AD_STARTED="ad-started",X.AD_FIRST_QUARTILE="ad-first-quartile",X.AD_MIDPOINT="ad-midpoint",X.AD_THIRD_QUARTILE="ad-third-quartile",X.AD_COMPLETE="ad-complete",X.AD_STOPPED="ad-stopped",X.AD_SKIPPED="ad-skipped",X.AD_VOLUME_CHANGED="ad-volume-changed",X.AD_MUTED="ad-muted",X.AD_PAUSED="ad-paused",X.AD_RESUMED="ad-resumed",X.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",X.CUEPOINTS_CHANGED="ad-cue-points-changed",X.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",X.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",X.AD_CLICKED="ad-clicked",X.AD_PROGRESS="ad-progress",X.AD_BUFFERING="ad-buffering",X.AD_IMPRESSION="ad-impression",X.AD_DURATION_CHANGED="ad-duration-changed",X.AD_CLOSED="ad-closed",X.AD_LOADED="ad-loaded",X.ALL_ADS_COMPLETED="all-ads-completed",X.AD_LINEAR_CHANGED="ad-linear-changed",X.AD_METADATA="ad-metadata",X.AD_RECOVERABLE_ERROR="ad-recoverable-error",X.AD_BREAK_READY="ad-break-ready",X.AD_INTERACTION="ad-interaction",Hc=function(){return new X};var rd="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),od="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),sd=["loop","playbackRate"],ud=["pause","play"],dd={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getConfiguration:4,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getTextTracks:2,getStats:5,getVariantTracks:2,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},_d={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},qd=[["getConfiguration","configure"]],Hd=[["isTextTrackVisible","setTextTrackVisibility"]],Gd="addChaptersTrack addTextTrackAsync cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),Jd=["attach","detach","load","unload"];function on(i,r,o,s,p,m,v){var y=this;this.G=i,this.O=v,this.j=new O(r),this.T=o,this.u=!1,this.s=s,this.F=p,this.L=m,this.h=this.m=!1,this.M="",this.o=null,this.C=function(){return pn(y)},this.D=function(i,r){var o=an(r);switch(o.type){case"event":var s=o.targetName;o=Ue(o.event),y.s(s,o);break;case"update":for(var p in s=o.update)for(var m in o=y.g[p]||{},s[p])o[m]=s[p][m];y.u&&(y.T(),y.u=!1);break;case"asyncComplete":if(p=o.id,o=o.error,m=y.i[p],delete y.i[p],m)if(o){for(s in p=new N(o.severity,o.category,o.code),o)p[s]=o[s];m.reject(p)}else m.resolve()}},this.g={video:{},player:{}},this.I=0,this.i={},this.l=null,cf.add(this)}function An(i,r,o){sf=o,o.addUpdateListener(i.C),o.addMessageListener("urn:x-cast:com.google.shaka.v2",i.D),pn(i),zn(i,{type:"init",initState:r,appData:i.o}),i.l.resolve()}function Bn(i,r){var o=8003;switch(r.code){case"cancel":o=8004;break;case"timeout":o=8005;break;case"receiver_unavailable":o=8006}i.l.reject(new N(2,8,o,r))}function un(i,r){var o=i.L();i.l=new lc,i.u=!0,An(i,o,r)}function tn(i){var r=sf;r.removeUpdateListener(i.C),r.removeMessageListener("urn:x-cast:com.google.shaka.v2",i.D)}function pn(i){var r=!!sf&&"connected"==sf.status;if(i.h&&!r){for(var o in i.F(),i.g)i.g[o]={};rn(i)}i.h=r,i.M=r?sf.receiver.friendlyName:"",i.j.Lb()}function rn(i){for(var r in i.i){var o=i.i[r];delete i.i[r],o.reject(new N(1,7,7e3))}}function zn(i,r){var o=$m(r),s=sf;try{s.sendMessage("urn:x-cast:com.google.shaka.v2",o,(function(){}),Ya)}catch(r){throw o=new N(2,8,8005,r),s=new R("error",(new Map).set("detail",o)),i.s("player",s),i.yb(),o}}(s=on.prototype).destroy=function(){return cf.delete(this),rn(this),sf&&tn(this),this.j&&(this.j.stop(),this.j=null),this.F=this.s=null,this.h=this.m=!1,this.D=this.C=this.l=this.i=this.g=this.o=null,Promise.resolve()},s.sa=function(){return this.h},s.Sd=function(){return this.M},s.init=function(){if(this.G.length)if(i.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.j.Lb();var r=new chrome.cast.SessionRequest(this.G,[],null,this.O,null);r=new chrome.cast.ApiConfig(r,(function(i){for(var r=t(cf),o=r.next();!o.done;o=r.next())un(o.value,i)}),(function(i){for(var r=t(cf),o=r.next();!o.done;o=r.next())o=o.value,$d="available"==i,o.j.Lb()}),"origin_scoped"),chrome.cast.initialize(r,(function(){}),(function(){})),$d&&this.j.P(Zd),(r=sf)&&r.status!=chrome.cast.SessionStatus.STOPPED?un(this,r):sf=null}else i.__onGCastApiAvailable!==xn&&(lf=i.__onGCastApiAvailable||null,i.__onGCastApiAvailable=xn)},s.Zd=function(i){this.o=i,this.h&&zn(this,{type:"appData",appData:this.o})},s.cast=function(i){var r=this;return K((function(o){if(!r.m)throw new N(1,8,8e3);if(!$d)throw new N(1,8,8001);if(r.h)throw new N(1,8,8002);return r.l=new lc,chrome.cast.requestSession((function(o){return An(r,i,o)}),(function(i){return Bn(r,i)})),u(o,r.l,0)}))},s.yb=function(){if(this.h){if(rn(this),sf){tn(this);try{sf.stop((function(){}),(function(){}))}catch(i){}sf=null}pn(this)}},s.get=function(i,r){var o=this;if("video"==i){if(ud.includes(r))return function(){return o.Je.apply(o,[i,r].concat(ia(Ia.apply(0,arguments))))}}else if("player"==i){if(_d[r]&&!this.get("player","isLive")())return function(){};if(Gd.includes(r))return function(){return o.Je.apply(o,[i,r].concat(ia(Ia.apply(0,arguments))))};if(Jd.includes(r))return function(){return o.$f.apply(o,[i,r].concat(ia(Ia.apply(0,arguments))))};if(dd[r])return function(){return o.g[i][r]}}return this.g[i][r]},s.set=function(i,r,o){this.g[i][r]=o,zn(this,{type:"set",targetName:i,property:r,value:o})},s.Je=function(i,r){zn(this,{type:"call",targetName:i,methodName:r,args:Ia.apply(2,arguments)})},s.$f=function(i,r){var o=Ia.apply(2,arguments),s=new lc,p=this.I.toString();this.I++,this.i[p]=s;try{zn(this,{type:"asyncCall",targetName:i,methodName:r,args:o,id:p})}catch(i){s.reject(i)}return s};var Zd=.02,$d=!1,sf=null,lf=null,cf=new Set;function xn(r){if(lf?i.__onGCastApiAvailable=lf:delete i.__onGCastApiAvailable,lf=null,r)for(var o=t(cf),s=o.next();!s.done;s=o.next())s.value.init();"function"==typeof i.__onGCastApiAvailable&&i.__onGCastApiAvailable(r)}function Dn(i,r,o,s){s=void 0!==s&&s,We.call(this);var p=this;this.i=i,this.h=r,this.m=this.o=this.j=this.s=this.l=null,this.D=o,this.C=s,this.u=new Map,this.g=new on(o,(function(){return En(p)}),(function(){return Fn(p)}),(function(i,r){return Gn(p,i,r)}),(function(){return Hn(p)}),(function(){return In(p)}),s),function Jn(i){i.g.init(),i.m=new of;for(var r=t(rd),o=r.next();!o.done;o=r.next())i.m.B(i.i,o.value,(function(r){i.g.sa()||(r=Ue(r),i.j.dispatchEvent(r))}));for(var s in dr)i.m.B(i.h,dr[s],(function(r){i.g.sa()||i.o.dispatchEvent(r)}));for(var p in i.l={},r={},i.i)r.Qb=p,Object.defineProperty(i.l,r.Qb,{configurable:!1,enumerable:!0,get:function(r){return function(){return Kn(i,r.Qb)}}(r),set:function(r){return function(o){var s=r.Qb;i.g.sa()?i.g.set("video",s,o):i.i[s]=o}}(r)}),r={Qb:r.Qb};i.s={},Ln(i,(function(r){Object.defineProperty(i.s,r,{configurable:!1,enumerable:!0,get:function(){return function Mn(i,r){if(i.u.has(r)&&(r=i.u.get(r)),"addEventListener"==r)return function(r,o,s){return i.o.addEventListener(r,o,s)};if("removeEventListener"==r)return function(r,o,s){return i.o.removeEventListener(r,o,s)};if("getMediaElement"==r)return function(){return i.l};if("getSharedConfiguration"==r)return i.g.get("player","getConfiguration");if("getNetworkingEngine"==r)return function(){return i.h.fc()};if("getDrmEngine"==r)return function(){return i.h.m};if("getAdManager"==r)return function(){return i.h.ve()};if("setVideoContainer"==r)return function(r){return i.h.Qe(r)};if(i.g.sa()){if("getManifest"==r||"drmInfo"==r)return function(){return Va(r+"() does not work while casting!"),null};if("attach"==r||"detach"==r)return function(){return Va(r+"() does not work while casting!"),Promise.resolve()}}return i.g.sa()&&0==Object.keys(i.g.g.video).length&&dd[r]||!i.g.sa()?i.h[r].bind(i.h):i.g.get("player",r)}(i,r)}})})),function Nn(i){var r=new Map;Ln(i,(function(o,s){if(r.has(s)){var p=r.get(s);o.length<p.length?i.u.set(o,p):i.u.set(p,o)}else r.set(s,o)}))}(i),i.j=new We,i.j.Lc=i.l,i.o=new We,i.o.Lc=i.s}(this)}function Ln(i,r){function c(i){return"constructor"!=i&&"function"==typeof o[i]&&!s.has(i)}var o=i.h,s=new Set;for(p in o)c(p)&&(s.add(p),r(p,o[p]));for(var p=Object.getPrototypeOf(o),m=Object.getPrototypeOf({});p&&p!=m;){for(var v=t(Object.getOwnPropertyNames(p)),y=v.next();!y.done;y=v.next())c(y=y.value)&&(s.add(y),r(y,o[y]));p=Object.getPrototypeOf(p)}}function In(i){var r={video:{},player:{},playerAfterLoad:{},manifest:i.h.xd(),startTime:null};i.i.pause();for(var o=t(sd),s=o.next();!s.done;s=o.next())s=s.value,r.video[s]=i.i[s];for(i.i.ended||(r.startTime=i.i.currentTime),s=(o=t(qd)).next();!s.done;s=o.next()){var p=s.value;s=p[1],p=i.h[p[0]](),r.player[s]=p}for(s=(o=t(Hd)).next();!s.done;s=o.next())s=(p=s.value)[1],p=i.h[p[0]](),r.playerAfterLoad[s]=p;return r}function En(i){var r=new R("caststatuschanged");i.dispatchEvent(r)}function Fn(i){var r=new R(i.l.paused?"pause":"play");i.j.dispatchEvent(r)}function Hn(i){for(var r=t(qd),o=r.next();!o.done;o=r.next()){var s=o.value;o=s[1],s=i.g.get("player",s[0])(),i.h[o](s)}var p=i.g.get("player","getAssetUri")();o=i.g.get("video","ended"),r=Promise.resolve();var m=i.i.autoplay;s=null,o||(s=i.g.get("video","currentTime")),p&&(i.i.autoplay=!1,r=i.h.load(p,s));var v={};for(s=(o=t(sd)).next();!s.done;s=o.next())s=s.value,v[s]=i.g.get("video",s);r.then((function(){if(i.i){for(var r=t(sd),o=r.next();!o.done;o=r.next())o=o.value,i.i[o]=v[o];for(o=(r=t(Hd)).next();!o.done;o=r.next()){var s=o.value;o=s[1],s=i.g.get("player",s[0])(),i.h[o](s)}i.i.autoplay=m,p&&i.i.play()}}),(function(r){r=new R("error",r=(new Map).set("detail",r)),i.h.dispatchEvent(r)}))}function Kn(i,r){if("addEventListener"==r)return function(r,o,s){return i.j.addEventListener(r,o,s)};if("removeEventListener"==r)return function(r,o,s){return i.j.removeEventListener(r,o,s)};if(i.g.sa()&&0==Object.keys(i.g.g.video).length){var o=i.i[r];if("function"!=typeof o)return o}return i.g.sa()?i.g.get("video",r):("function"==typeof(o=i.i[r])&&(o=o.bind(i.i)),o)}function Gn(i,r,o){i.g.sa()&&("video"==r?i.j.dispatchEvent(o):"player"==r&&i.o.dispatchEvent(o))}function On(i,r,o,s){We.call(this);var p=this;this.g=i,this.h=r,this.j=new of,this.I={video:i,player:r},this.D=o||function(){},this.L=s||function(i){return i},this.i=null,this.F=!1,this.o=!0,this.m=0,this.C=!1,this.u=!0,this.s=this.l=null,this.G=new O((function(){Pn(p)})),function Qn(i){var r=cast.receiver.CastReceiverManager.getInstance();r.onSenderConnected=function(){return Rn(i)},r.onSenderDisconnected=function(){return Rn(i)},r.onSystemVolumeChanged=function(){var r=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();r&&Sn(i,{type:"update",update:{video:{volume:r.level,muted:r.muted}}},i.l),Sn(i,{type:"event",targetName:"video",event:{type:"volumechange"}},i.l)},i.s=r.getCastMessageBus("urn:x-cast:com.google.cast.media"),i.s.onMessage=function(r){return function Tn(i,r){var o=an(r.data);switch(o.type){case"PLAY":i.g.play(),Zn(i);break;case"PAUSE":i.g.pause(),Zn(i);break;case"SEEK":var s=o.currentTime,p=o.resumeState;null!=s&&(i.g.currentTime=Number(s)),p&&"PLAYBACK_START"==p?(i.g.play(),Zn(i)):p&&"PLAYBACK_PAUSE"==p&&(i.g.pause(),Zn(i));break;case"STOP":i.h.ge().then((function(){i.h&&Zn(i)}));break;case"GET_STATUS":bo(i,Number(o.requestId));break;case"VOLUME":s=(p=o.volume).level,p=p.muted;var m=i.g.volume,v=i.g.muted;null!=s&&(i.g.volume=Number(s)),null!=p&&(i.g.muted=p),m==i.g.volume&&v==i.g.muted||Zn(i);break;case"LOAD":i.m=0,i.C=!1,i.u=!1,s=o.media,p=o.currentTime,m=i.L(s.contentId),v=o.autoplay||!0,i.D(s.customData),v&&(i.g.autoplay=!0),i.h.load(m,p).then((function(){i.h&&bo(i)})).catch((function(r){var s="LOAD_FAILED";7==r.category&&7e3==r.code&&(s="LOAD_CANCELLED"),Sn(i,{requestId:Number(o.requestId),type:s},i.s)}));break;default:Sn(i,{requestId:Number(o.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},i.s)}}(i,r)},i.l=r.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),i.l.onMessage=function(r){return function Un(i,r){var o=an(r.data);switch(o.type){case"init":i.m=0,i.C=!1,i.u=!0,function $n(i,r,o){var s,p,m,v,y,x,S,j,D,P;K((function(L){switch(L.g){case 1:for(s in r.player)p=r.player[s],i.h[s](p);return i.D(o),m=i.g.autoplay,r.manifest?(i.g.autoplay=!1,C(L,5),u(L,i.h.load(r.manifest,r.startTime),7)):u(L,Promise.resolve(),3);case 7:va(L,3);break;case 5:return v=F(L),y=(new Map).set("detail",v),x=new R("error",y),i.h&&i.h.dispatchEvent(x),L.return();case 3:if(!i.h)return L.return();for(S in r.video)j=r.video[S],i.g[S]=j;for(D in r.playerAfterLoad)P=r.playerAfterLoad[D],i.h[D](P);i.g.autoplay=m,r.manifest&&(i.g.play(),Zn(i)),A(L)}}))}(i,o.initState,o.appData),Pn(i);break;case"appData":i.D(o.appData);break;case"set":var s=o.targetName,p=o.property;if(o=o.value,"video"==s){var m=cast.receiver.CastReceiverManager.getInstance();if("volume"==p){m.setSystemVolumeLevel(o);break}if("muted"==p){m.setSystemVolumeMuted(o);break}}i.I[s][p]=o;break;case"call":(s=i.I[o.targetName])[o.methodName].apply(s,o.args);break;case"asyncCall":s=o.targetName,p=o.methodName,"player"==s&&"load"==p&&(i.m=0,i.C=!1);var v=o.id,y=r.senderId;o=(m=i.I[s])[p].apply(m,o.args),"player"==s&&"load"==p&&(o=o.then((function(){i.u=!0}))),o.then((function(){return co(i,y,v,null)}),(function(r){return co(i,y,v,r)}))}}(i,r)},r.start();for(var o=(r=t(rd)).next();!o.done;o=r.next())i.j.B(i.g,o.value,(function(r){return Vn(i,"video",r)}));for(var s in dr)i.j.B(i.h,dr[s],(function(r){return Vn(i,"player",r)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?i.h.ae(3840,2160):i.h.ae(1920,1080),i.j.B(i.g,"loadeddata",(function(){i.C=!0})),i.j.B(i.h,"loading",(function(){i.o=!1,Wn(i)})),i.j.B(i.g,"playing",(function(){i.o=!1,Wn(i)})),i.j.B(i.g,"pause",(function(){Wn(i)})),i.j.B(i.h,"unloading",(function(){i.o=!0,Wn(i)})),i.j.B(i.g,"ended",(function(){new O((function(){i.g&&i.g.ended&&(i.o=!0,Wn(i))})).P(Ef)}))}(this)}function Rn(i){i.m=0,i.u=!0,i.F=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Wn(i)}function Wn(i){var r;K((function(o){return 1==o.g?u(o,Promise.resolve(),2):i.h?(r=new R("caststatuschanged"),i.dispatchEvent(r),Yn(i)||Zn(i),void A(o)):o.return()}))}function Vn(i,r,o){i.h&&(Pn(i),Sn(i,{type:"event",targetName:r,event:o},i.l))}function Pn(i){i.G.P(df);for(var r={video:{},player:{}},o=t(od),s=o.next();!s.done;s=o.next())s=s.value,r.video[s]=i.g[s];if(i.h.V())for(var p in _d)0==i.m%_d[p]&&(r.player[p]=i.h[p]());for(var m in dd)0==i.m%dd[m]&&(r.player[m]=i.h[m]());(o=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(r.video.volume=o.level,r.video.muted=o.muted),i.C&&(i.m+=1),Sn(i,{type:"update",update:r},i.l),Yn(i)}function Yn(i){return!(!i.u||!i.g.duration&&!i.h.V())&&(bo(i),i.u=!1,!0)}function bo(i,r){var o={contentId:i.h.xd(),streamType:i.h.V()?"LIVE":"BUFFERED",contentType:""};i.h.V()||(o.duration=i.g.duration),i.i&&(o.metadata=i.i),Zn(i,void 0===r?0:r,o)}function co(i,r,o,s){i.h&&Sn(i,{type:"asyncComplete",id:o,error:s},i.l,r)}function Sn(i,r,o,s){i.F&&(i=$m(r),s?o.getCastChannel(s).send(i):o.broadcast(i))}function Zn(i,r,o){o=void 0===o?null:o;var s={mediaSessionId:0,playbackRate:i.g.playbackRate,playerState:i.o?Df:i.h.yd()?Kf:i.g.paused?zf:_f,currentTime:i.g.currentTime,supportedMediaCommands:63,volume:{level:i.g.volume,muted:i.g.muted}};o&&(s.media=o),Sn(i,{requestId:void 0===r?0:r,type:"MEDIA_STATUS",status:[s]},i.s)}pa(Dn,We),(s=Dn.prototype).destroy=function(i){return i&&this.g.yb(),this.m&&(this.m.release(),this.m=null),i=[],this.h&&(i.push(this.h.destroy()),this.h=null),this.g&&(i.push(this.g.destroy()),this.g=null),this.s=this.l=this.i=null,We.prototype.release.call(this),Promise.all(i)},s.If=function(){return this.l},s.Af=function(){return this.s},s.$e=function(){return this.g.m&&$d},s.sa=function(){return this.g.sa()},s.Sd=function(){return this.g.Sd()},s.cast=function(){var i,r=this;return K((function(o){return 1==o.g?(i=In(r),u(o,r.g.cast(i),2)):r.h?u(o,r.h.ge(),0):o.return()}))},s.Zd=function(i){this.g.Zd(i)},s.lg=function(){!function Cn(i){if(i.h){var r=i.L();chrome.cast.requestSession((function(o){return An(i,r,o)}),(function(r){return Bn(i,r)}))}}(this.g)},s.yb=function(){this.g.yb()},s.cf=function(i,r){r=void 0!==r&&r;var o=this;return K((function(s){if(1==s.g)return i==o.D&&r==o.C?s.return():(o.D=i,o.C=r,o.g.yb(),u(s,o.g.destroy(),2));o.g=null,o.g=new on(i,(function(){return En(o)}),(function(){return Fn(o)}),(function(i,r){return Gn(o,i,r)}),(function(){return Hn(o)}),(function(){return In(o)}),r),o.g.init(),A(s)}))},M("shaka.cast.CastProxy",Dn),Dn.prototype.changeReceiverId=Dn.prototype.cf,Dn.prototype.forceDisconnect=Dn.prototype.yb,Dn.prototype.suggestDisconnect=Dn.prototype.lg,Dn.prototype.setAppData=Dn.prototype.Zd,Dn.prototype.cast=Dn.prototype.cast,Dn.prototype.receiverName=Dn.prototype.Sd,Dn.prototype.isCasting=Dn.prototype.sa,Dn.prototype.canCast=Dn.prototype.$e,Dn.prototype.getPlayer=Dn.prototype.Af,Dn.prototype.getVideo=Dn.prototype.If,Dn.prototype.destroy=Dn.prototype.destroy,pa(On,We),(s=On.prototype).isConnected=function(){return this.F},s.Mf=function(){return this.o},s.hg=function(i){this.i=i},s.ff=function(){this.i=null},s.ig=function(i){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=i},s.gg=function(i){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:i}]},s.fg=function(i){this.i||(this.i={}),this.i.artist=i,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},s.destroy=function(){var i,r=this;return K((function(o){if(1==o.g)return r.j&&(r.j.release(),r.j=null),i=[],r.h&&(i.push(r.h.destroy()),r.h=null),r.G&&(r.G.stop(),r.G=null),r.g=null,r.I=null,r.D=null,r.F=!1,r.o=!0,r.l=null,r.s=null,We.prototype.release.call(r),u(o,Promise.all(i),2);cast.receiver.CastReceiverManager.getInstance().stop(),A(o)}))},M("shaka.cast.CastReceiver",On),On.prototype.destroy=On.prototype.destroy,On.prototype.setContentArtist=On.prototype.fg,On.prototype.setContentImage=On.prototype.gg,On.prototype.setContentTitle=On.prototype.ig,On.prototype.clearContentMetadata=On.prototype.ff,On.prototype.setContentMetadata=On.prototype.hg,On.prototype.isIdle=On.prototype.Mf,On.prototype.isConnected=On.prototype.isConnected;var df=.5,Ef=5,Df="IDLE",_f="PLAYING",Kf="BUFFERING",zf="PAUSED";function io(i,r,o){var s=function jo(i){for(var r=[],o=(i=t(i)).next();!o.done;o=i.next())(o=ro(o.value))&&r.push(o);return r}(i),p=null;i=[];var m=[],v=new Set(s.map((function(i){return i.keyId})));if(v.delete(null),1<v.size)throw new N(2,4,4010);if(r||(m=s.filter((function(i){return"urn:mpeg:dash:mp4protection:2011"!=i.Wd||(p=i.init||p,!1)}))).length&&(i=function ko(i,r,o,s){for(var p=[],m=(r=t(r)).next();!m.done;m=r.next()){var v=o[(m=m.value).Wd];if(v){var y;if(y=Qf(m.node,"urn:microsoft:playready","pro")){y=Nc(y.textContent);var x=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);y=[{initData:Nf(y,x,new Set,0),initDataType:"cenc",keyId:m.keyId}]}else y=null;if(x=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===m.Wd)if(0==(x=s).size)x=null;else{var S=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);x=[{initData:Nf(new Uint8Array([]),S,x,1),initDataType:"cenc",keyId:m.keyId}]}y=fc(v,m.init||i||y||x),(v=th.get(v))&&(y.licenseServerUri=v(m)),p.push(y)}}return p}(p,m,o,v),0==i.length&&(i=[fc("",p)])),s.length&&(r||!m.length))for(i=[],o=(r=t(Object.values(o))).next();!o.done;o=r.next())"org.w3.clearkey"!=(o=o.value)&&i.push(fc(o,p));if(v=Array.from(v)[0]||null)for(o=(r=t(i)).next();!o.done;o=r.next())for(s=(o=t(o.value.initData)).next();!s.done;s=o.next())s.value.keyId=v;return{qe:v,bh:p,drmInfos:i,ue:!0}}function oo(i){return(i=Qf(i.node,"urn:microsoft:playready","pro"))&&(i=function mo(i){var r=0,o=Ib(i),s=o.getUint32(r,!0);if(s!=i.byteLength)return[];e:{for(i=r+6,r=[];i<o.byteLength-1;){s=o.getUint16(i,!0),i+=2;var p=o.getUint16(i,!0);if(i+=2,0!=(1&p)||p+i>o.byteLength){o=[];break e}var m=Fb(o,i,p);r.push({type:s,value:m}),i+=p}o=r}return o}(i=Nc(i.textContent)).filter((function(i){return i.type===Jf}))[0])&&(i=fg(i=Cc(i.value,!0),"WRMHEADER"))?function no(i){for(var r=(i=t(i.getElementsByTagName("DATA"))).next();!r.done;r=i.next())for(var o=(r=t(r.value.childNodes)).next();!o.done;o=r.next())if((o=o.value)instanceof Element&&"LA_URL"==o.tagName)return o.textContent;return""}(i):""}function ro(i){var r=i.getAttribute("schemeIdUri"),o=Tf(i,"urn:mpeg:cenc:2013","default_KID"),s=Rf(i,"urn:mpeg:cenc:2013","pssh").map(Vf);if(!r)return null;if(r=r.toLowerCase(),o&&(o=o.replace(/-/g,"").toLowerCase()).includes(" "))throw new N(2,4,4009);var p=[];try{p=s.map((function(i){return{initDataType:"cenc",initData:Nc(i),keyId:null}}))}catch(i){throw new N(2,4,4007)}return{node:i,Wd:r,keyId:o,init:0<p.length?p:null}}var Jf=1,th=(new Map).set("com.widevine.alpha",(function(i){return(i=Qf(i.node,"urn:microsoft","laurl"))&&i.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",oo).set("com.microsoft.playready.recommendation",oo).set("com.microsoft.playready.software",oo).set("com.microsoft.playready.hardware",oo).set("org.w3.clearkey",(function(i){return(i=Qf(i.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===i.getAttribute("Lic_type")&&i.textContent?i.textContent:""}));function so(r,o,s,p,m){var v={RepresentationID:o,Number:s,Bandwidth:p,Time:m};return r.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(r,o,s,p){if("$$"==r)return"$";var m=v[o];if(null==m)return r;switch("RepresentationID"==o&&s&&(s=void 0),"Time"==o&&(m=Math.round(m)),p){case void 0:case"d":case"i":case"u":r=m.toString();break;case"o":r=m.toString(8);break;case"x":r=m.toString(16);break;case"X":r=m.toString(16).toUpperCase();break;default:r=m.toString()}return s=i.parseInt(s,10)||1,Array(Math.max(0,s-r.length)+1).join("0")+r}))}function to(i,r){var o=uo(i,r,"timescale"),s=1;o&&(s=bg(o)||1);var p=uo(i,r,"duration");o=bg(p||""),"image"==i.H.contentType&&(o=dg(p||"")),o&&(o/=s);var m=uo(i,r,"startNumber");p=Number(uo(i,r,"presentationTimeOffset"))||0;var v=cg(m||"");null!=m&&null!=v||(v=1);var y=vo(i,r,"SegmentTimeline");if(m=null,y){m=s;var x=i.W.duration||1/0;y=Pf(y,"S");for(var S=[],j=-p,D=0;D<y.length;++D){var P=y[D],L=y[D+1],_=Xf(P,"t",cg),B=Xf(P,"d",cg);if(P=Xf(P,"r",ag),null!=_&&(_-=p),!B)break;if(_=null!=_?_:j,0>(P=P||0))if(L){if(null==(L=Xf(L,"t",cg)))break;if(_>=L)break;P=Math.ceil((L-_)/B)-1}else{if(1/0==x)break;if(_/m>=x)break;P=Math.ceil((x*m-_)/B)-1}for(0<S.length&&_!=j&&(S[S.length-1].end=_/m),L=0;L<=P;++L)j=_+B,S.push({start:_/m,end:j/m,pg:_}),_=j}m=S}return{timescale:s,ga:o,Kb:v,Sa:p/s||0,he:p,timeline:m}}function uo(i,r,o){return[r(i.H),r(i.ja),r(i.aa)].filter(dc).map((function(i){return i.getAttribute(o)})).reduce((function(i,r){return i||r}))}function vo(i,r,o){return[r(i.H),r(i.ja),r(i.aa)].filter(dc).map((function(i){return Of(i,o)})).reduce((function(i,r){return i||r}))}function xo(i,r,o,s,p,m){if(m=void 0===m?0:m,Tf(i,"http://www.w3.org/1999/xlink","href")){var v=function wo(i,r,o,s,p,m){for(var v=Tf(i,"http://www.w3.org/1999/xlink","href"),y=Tf(i,"http://www.w3.org/1999/xlink","actuate")||"onRequest",x=t(Array.from(i.attributes)),S=x.next();!S.done;S=x.next())"http://www.w3.org/1999/xlink"==(S=S.value).namespaceURI&&i.removeAttributeNS(S.namespaceURI,S.localName);if(5<=m)return Oe(new N(2,4,4028));if("onLoad"!=y)return Oe(new N(2,4,4027));var j=ec([s],[v]);return p.request(0,ef(j,r)).Z((function(s){if(!(s=hg(s.data,i.tagName)))return Oe(new N(2,4,4001,v));for(;i.childNodes.length;)i.removeChild(i.childNodes[0]);for(;s.childNodes.length;){var y=s.childNodes[0];s.removeChild(y),i.appendChild(y)}for(y=(s=t(Array.from(s.attributes))).next();!y.done;y=s.next())i.setAttributeNode(y.value.cloneNode(!1));return xo(i,r,o,j[0],p,m+1)}))}(i,r,o,s,p,m);return o&&(v=v.Z(void 0,(function(){return xo(i,r,o,s,p,m)}))),v}v=[];for(var y=t(Array.from(i.childNodes)),x=y.next();!x.done;x=y.next())(x=x.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Tf(x,"http://www.w3.org/1999/xlink","href")?i.removeChild(x):"SegmentTimeline"!=x.tagName&&v.push(xo(x,r,o,s,p,m)));return Se(v).Z((function(){return i}))}function yo(i,r,o,s,p,m,v){var y,x=(new Bf).U("sidx",(function(i){y=function zo(i,r,o,s,p,m,v){var y=[];v.reader.skip(4);var x=v.reader.N();if(0==x)throw new N(2,3,3005);if(0==v.version)var S=v.reader.N(),j=v.reader.N();else S=v.reader.Jb(),j=v.reader.Jb();v.reader.skip(2);var D=v.reader.Rd();for(i=i+v.size+j,j=0;j<D;j++){var P=v.reader.N(),L=(2147483648&P)>>>31;P&=2147483647;var _=v.reader.N();if(v.reader.skip(4),1==L)throw new N(2,3,3006);y.push(new oi(S/x+o,(S+_)/x+o,(function(){return m}),i,i+P-1,r,o,s,p)),S+=_,i+=P}return v.parser.stop(),y}(r,s,p,m,v,o,i)}));if(i&&x.parse(i),y)return y;throw new N(2,3,3004)}function Ao(i){this.h=Ib(i),this.g=new yf(this.h,0)}function Bo(i){var r=Co(i);if(7<r.length)throw new N(2,3,3002);for(var o=0,s=(r=t(r)).next();!s.done;s=r.next())o=256*o+s.value;r=Co(i);e:{for(var p=(s=t(nh)).next();!p.done;p=s.next())if(Db(r,new Uint8Array(p.value))){s=!0;break e}s=!1}if(s)r=i.h.byteLength-i.g.$();else{if(8==r.length&&224&r[1])throw new N(2,3,3001);for(p=s=0;p<r.length;p++){var m=r[p];s=0==p?m&(1<<8-r.length)-1:256*s+m}r=s}return r=i.g.$()+r<=i.h.byteLength?r:i.h.byteLength-i.g.$(),s=Ib(i.h,i.g.$(),r),i.g.skip(r),new Eo(o,s)}function Co(i){var r=i.g.$(),o=i.g.Ra();if(0==o)throw new N(2,3,3002);return o=8-Math.floor(Math.log2(o)),i.g.skip(o-1),Fb(i.h,r,o)}Ao.prototype.ma=function(){return this.g.ma()};var nh=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Eo(i,r){this.id=i,this.g=r}function Fo(i){if(8<i.g.byteLength)throw new N(2,3,3002);if(8==i.g.byteLength&&224&i.g.getUint8(0))throw new N(2,3,3001);for(var r=0,o=0;o<i.g.byteLength;o++){r=256*r+i.g.getUint8(o)}return r}function Ho(i){var r=new Ao(i.g);if(179!=(i=Bo(r)).id)throw new N(2,3,3013);if(i=Fo(i),183!=(r=Bo(r)).id)throw new N(2,3,3012);r=new Ao(r.g);for(var o=0;r.ma();){var s=Bo(r);if(241==s.id){o=Fo(s);break}}return{qg:i,Zf:o}}function Io(i,r){var o=vo(i,r,"Initialization");if(!o)return null;var s=i.H.wa,p=o.getAttribute("sourceURL");p&&(s=ec(i.H.wa,[p])),p=0;var m=null;return(o=Xf(o,"range",$f))&&(p=o.start,m=o.end),new mi((function(){return s}),p,m,Jo(i))}function Ko(i,r){var o=Number(uo(i,Lo,"presentationTimeOffset"))||0,s=uo(i,Lo,"timescale"),p=1;s&&(p=bg(s)||1);var m=o/p||0,v=Io(i,Lo);!function Mo(i,r){if(Po(i,r),!No(i))throw new N(2,4,4002)}(i,v);var y=Ye(i);return{zb:function(){var i=vo(y,Lo,"RepresentationIndex"),o=y.H.wa;return i&&(i=i.getAttribute("sourceURL"))&&(o=ec(y.H.wa,[i])),i=No(y),Oo(y,r,v,o,i.start,i.end,m)}}}function Oo(i,r,o,s,p,m,v){var y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue;return K((function(fe){if(1==fe.g)return y=i.presentationTimeline,x=!i.Wa||!i.W.Ce,S=i.W.start,j=i.W.duration,D=i.H.mimeType.split("/")[1],L=null,_=[(P=r)(s,p,m),"webm"==D?P(o.ya(),o.Ca,o.la):null],P=null,u(fe,Promise.all(_),2);if(B=fe.h,z=B[0],G=B[1]||null,null,$=S-v,re=S,ue=j?S+j:1/0,"mp4"==D)var Ie=yo(z,p,s,o,$,re,ue);else{if(440786851!=Bo(Ie=new Ao(G)).id)throw new N(2,3,3008);var _e=Bo(Ie);if(408125543!=_e.id)throw new N(2,3,3009);Ie=_e.g.byteOffset,_e=new Ao(_e.g);for(var Ve=null;_e.ma();){var He=Bo(_e);if(357149030==He.id){Ve=He;break}}if(!Ve)throw new N(2,3,3010);for(Ve=new Ao(Ve.g),He=1e6,_e=null;Ve.ma();){var pt=Bo(Ve);if(2807729==pt.id)He=Fo(pt);else if(17545==pt.id)if(4==pt.g.byteLength)_e=pt.g.getFloat32(0);else{if(8!=pt.g.byteLength)throw new N(2,3,3003);_e=pt.g.getFloat64(0)}}if(null==_e)throw new N(2,3,3011);if(_e*=Ve=He/1e9,475249515!=(He=Bo(new Ao(z))).id)throw new N(2,3,3007);Ie=function Go(i,r,o,s,p,m,v,y,x){function l(){return p}var S=[];i=new Ao(i.g);for(var j=null,D=null;i.ma();){var P=Bo(i);if(187==P.id){var L=Ho(P);L&&(P=o*L.qg,L=r+L.Zf,null!=j&&S.push(new oi(j+v,P+v,l,D,L-1,m,v,y,x)),j=P,D=L)}}return null!=j&&S.push(new oi(j+v,s+v,l,D,null,m,v,y,x)),S}(He,Ie,Ve,_e,s,o,$,re,ue)}return Y=Ie,y.Gb(Y),L=new rj(Y),x&&L.Xa(re,ue,!0),fe.return(L)}))}function Lo(i){return i.uc}function No(i){var r=vo(i,Lo,"RepresentationIndex");return i=$f((i=uo(i,Lo,"indexRange"))||""),r&&(i=Xf(r,"range",$f,i)),i}function Po(i,r){var o=i.H.mimeType.split("/")[1];if(i.H.contentType!=yn&&"mp4"!=o&&"webm"!=o)throw new N(2,4,4006);if("webm"==o&&!r)throw new N(2,4,4005)}function Jo(i){var r=i.H;return{bandwidth:i.bandwidth,audioSamplingRate:r.audioSamplingRate,codecs:r.codecs,contentType:r.contentType,frameRate:r.frameRate||null,height:r.height||null,mimeType:r.mimeType,channelsCount:r.Vc,pixelAspectRatio:r.pixelAspectRatio||null,width:r.width||null}}function Qo(i,r){var o=Io(i,Ro),s=function So(i){var r=function Uo(i){return[i.H.$a,i.ja.$a,i.aa.$a].filter(dc).map((function(i){return Pf(i,"SegmentURL")})).reduce((function(i,r){return 0<i.length?i:r})).map((function(r){return r.getAttribute("indexRange")&&!i.Ae&&(i.Ae=!0),{Qf:r.getAttribute("media"),start:(r=Xf(r,"mediaRange",$f,{start:0,end:null})).start,end:r.end}}))}(i),o=(i=to(i,Ro)).Kb;0==o&&(o=1);var s=0;return i.ga?s=i.ga*(o-1):i.timeline&&0<i.timeline.length&&(s=i.timeline[0].start),{ga:i.ga,startTime:s,Kb:o,Sa:i.Sa,timeline:i.timeline,Eb:r}}(i);if(!s.ga&&!s.timeline&&1<s.Eb.length)throw new N(2,4,4002);if(!s.ga&&!i.W.duration&&!s.timeline&&1==s.Eb.length)throw new N(2,4,4002);if(s.timeline&&0==s.timeline.length)throw new N(2,4,4002);var p=null,m=null;i.aa.id&&i.H.id&&(m=r[i.aa.id+","+i.H.id])&&(p=m.segmentIndex);var v=function To(i,r,o,s,p){var m=s.Eb.length;s.timeline&&s.timeline.length!=s.Eb.length&&(m=Math.min(s.timeline.length,s.Eb.length));for(var v=i-s.Sa,y=r?i+r:1/0,x=[],S=s.startTime,j={},D=0;D<m;j={ld:j.ld},D++){var P=s.Eb[D];j.ld=ec(o,[P.Qf]);var L=void 0;L=null!=s.ga?S+s.ga:s.timeline?s.timeline[D].end:S+r,x.push(new oi(i+S,i+L,function(i){return function(){return i.ld}}(j),P.start,P.end,p,v,i,y)),S=L}return x}(i.W.start,i.W.duration,i.H.wa,s,o);return o=!p,p?p.Fb(v,i.presentationTimeline.Pa()):p=new rj(v),i.presentationTimeline.Gb(v),i.Wa&&i.W.Ce||p.Xa(i.W.start,i.W.duration?i.W.start+i.W.duration:1/0,o),m&&(m.segmentIndex=p),{zb:function(){return p&&0!=p.J.length||p.nc(v),Promise.resolve(p)}}}function Ro(i){return i.$a}function Vo(i,r,o,s,p,m){var v=function Wo(i){var r=uo(i,ap,"initialization");if(!r)return null;var o=i.H.id,s=i.bandwidth||null,p=i.H.wa;return new mi((function(){var i=so(r,o,null,s,null);return ec(p,[i])}),0,null,Jo(i))}(i),y=function Xo(i){var r=to(i,ap),o=uo(i,ap,"media");return i=uo(i,ap,"index"),{ga:r.ga,timescale:r.timescale,Kb:r.Kb,Sa:r.Sa,he:r.he,timeline:r.timeline,Jd:o,kc:i}}(i);!function Yo(i){var r=i.kc?1:0;if(r+=i.timeline?1:0,0==(r+=i.ga?1:0))throw new N(2,4,4002);if(1!=r&&(i.kc&&(i.timeline=null),i.ga=null),!i.kc&&!i.Jd)throw new N(2,4,4002)}(y);var x=Ye(i);if(y.kc)return Po(i,v),{zb:function(){var i=so(y.kc,x.H.id,null,x.bandwidth||null,null);return i=ec(x.H.wa,[i]),Oo(x,r,v,i,0,null,y.Sa)}};if(y.ga)return s||(i.presentationTimeline.Ld(y.ga),i.presentationTimeline.Md(i.W.start)),{zb:function(){return function Zo(i,r,o,s,p){function f(i){var o=(i-j)*S,p=o+r.Sa,m=o+v;return o=m+S,(m=new oi(m,Math.min(o,h()),(function(){var r=so(P,_,i,L,p*D);return ec(B,[r])}),0,null,s,z,v,h())).j=o,m}function g(){var i=[Math.max(m.Pa(),v),Math.min(m.gb(),h())].map((function(i){return i-v}));return[Math.ceil(i[0]/S),Math.ceil(i[1]/S)-1].map((function(i){return i+j}))}function h(){var i=null!=y&&p[y]||x;return i?v+i:1/0}var m=i.presentationTimeline,v=i.W.start,y=i.aa.id,x=i.W.duration,S=r.ga,j=r.Kb,D=r.timescale,P=r.Jd,L=i.bandwidth||null,_=i.H.id,B=i.H.wa,z=v-r.Sa,G=g();i=i.Wa?Math.max(G[0],G[1]-o+1):G[0],G=G[1],o=[];for(var Y=i;Y<=G;++Y){var $=f(Y);o.push($)}var re=new rj(o);if(o=m.gb()<h(),Y=m.V(),o||Y){var ue=Math.max(i,G+1);re.bd(S,(function(){var i=m.Pa();re.eb(i);var r=t(g());r.next(),r=r.next().value;for(var o=[];ue<=r;){var s=f(ue);o.push(s),ue++}return i>h()&&!o.length?null:o}))}return Promise.resolve(re)}(x,y,p,v,m)}};var S=null;s=s=null,i.aa.id&&i.H.id&&(s=o[s=i.aa.id+","+i.H.id])&&(S=s.segmentIndex);var j=function $o(i,r,o){var s=i.W.start,p=i.W.duration,m=s-r.Sa;p=p?s+p:1/0;for(var v=[],y={},x=0;x<r.timeline.length;y={kd:y.kd,od:y.od,rd:y.rd,gd:y.gd,td:y.td,hd:y.hd},x++){var S=r.timeline[x],j=S.start,D=S.pg;S=S.end,y.rd=x+r.Kb,y.td=D+r.he,y.od=i.H.id,y.gd=i.bandwidth||null,y.kd=r.Jd,y.hd=i.H.wa,v.push(new oi(s+j,s+S,function(i){return function(){var r=so(i.kd,i.od,i.rd,i.gd||null,i.td);return ec(i.hd,[r]).map((function(i){return i.toString()}))}}(y),0,null,o,m,s,p))}return v}(x,y,v);o=i.W.start;var D=i.W.duration?i.W.start+i.W.duration:1/0,P=1/0!=D;return S?(P&&new rj(j).Xa(o,D,!0),S.Fb(j,i.presentationTimeline.Pa())):S=new rj(j),i.presentationTimeline.Gb(j),P&&S.Xa(o,D),s&&i.Wa&&(s.segmentIndex=S),{zb:function(){return S&&0!=S.J.length||S.nc(j),Promise.resolve(S)}}}function ap(i){return i.vc}function bp(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.m=new Set}function cp(i,r,o){var s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe,Ie,_e,Ve,He,pt,_t,Bt,en;return K((function(nn){switch(nn.g){case 1:if(s=wn,function dp(i){for(var r=(i=t(i)).next();!r.done;r=i.next()){for(var o=[],s=t((r=r.value).Fc),p=s.next();!p.done;p=s.next()){p=p.value;for(var m=!1,v=t(o),y=v.next();!y.done;y=v.next())y=y.value,p.id!=y.id&&p.channelsCount==y.channelsCount&&p.language==y.language&&p.bandwidth==y.bandwidth&&p.label==y.label&&p.codecs==y.codecs&&p.mimeType==y.mimeType&&fb(p.roles,y.roles)&&p.audioSamplingRate==y.audioSamplingRate&&p.primary==y.primary&&(m=!0);m||o.push(p)}r.Fc=o}}(r),function ep(i){for(var r=(i=t(i)).next();!r.done;r=i.next()){for(var o=[],s=t((r=r.value).dd),p=s.next();!p.done;p=s.next()){p=p.value;for(var m=!1,v=t(o),y=v.next();!y.done;y=v.next())y=y.value,p.id!=y.id&&p.width==y.width&&p.frameRate==y.frameRate&&p.codecs==y.codecs&&p.mimeType==y.mimeType&&p.label==y.label&&fb(p.roles,y.roles)&&xf(p.closedCaptions,y.closedCaptions)&&p.bandwidth==y.bandwidth&&(m=!0);m||o.push(p)}r.dd=o}}(r),function fp(i){for(var r=(i=t(i)).next();!r.done;r=i.next()){for(var o=[],s=t((r=r.value).textStreams),p=s.next();!p.done;p=s.next()){p=p.value;for(var m=!1,v=t(o),y=v.next();!y.done;y=v.next())y=y.value,p.id!=y.id&&p.language==y.language&&p.label==y.label&&p.codecs==y.codecs&&p.mimeType==y.mimeType&&p.bandwidth==y.bandwidth&&fb(p.roles,y.roles)&&(m=!0);m||o.push(p)}r.textStreams=o}}(r),function gp(i){for(var r=(i=t(i)).next();!r.done;r=i.next()){for(var o=[],s=t((r=r.value).imageStreams),p=s.next();!p.done;p=s.next()){p=p.value;for(var m=!1,v=t(o),y=v.next();!y.done;y=v.next())y=y.value,p.id!=y.id&&p.width==y.width&&p.codecs==y.codecs&&p.mimeType==y.mimeType&&(m=!0);m||o.push(p)}r.imageStreams=o}}(r),!o&&1==r.length){p=r[0],i.g=p.Fc,i.h=p.dd,i.j=p.textStreams,i.i=p.imageStreams,nn.A(2);break}for(m=-1,v=0;v<r.length;v++)y=r[v],i.m.has(y.id)||(i.m.add(y.id),-1==m&&(m=v));if(-1==m)return nn.return();for(x=r.map((function(i){return i.Fc})),S=r.map((function(i){return i.dd})),j=r.map((function(i){return i.textStreams})),D=r.map((function(i){return i.imageStreams})),P=t(j),L=P.next();!L.done;L=P.next())L.value.push(hp(s.X));for(_=t(D),B=_.next();!B.done;B=_.next())B.value.push(hp(s.Ub));return u(nn,ip(i.g,x,m,jp,kp),3);case 3:return u(nn,ip(i.h,S,m,jp,kp),4);case 4:return u(nn,ip(i.j,j,m,jp,kp),5);case 5:return u(nn,ip(i.i,D,m,jp,kp),2);case 2:if(z=0,G=[],i.h.length&&i.g.length)for(Ie=t(i.g),_e=Ie.next();!_e.done;_e=Ie.next())for(Ve=_e.value,He=t(i.h),pt=He.next();!pt.done;pt=He.next())_t=pt.value,Bt=Sg(Ve.drmInfos,_t.drmInfos),Ve.drmInfos.length&&_t.drmInfos.length&&!Bt.length||(en=z++,G.push({id:en,language:Ve.language,primary:Ve.primary,audio:Ve,video:_t,bandwidth:(Ve.bandwidth||0)+(_t.bandwidth||0),drmInfos:Bt,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(Y=i.h.concat(i.g),$=t(Y),re=$.next();!re.done;re=$.next())ue=re.value,fe=z++,G.push({id:fe,language:ue.language,primary:ue.primary,audio:ue.type==s.cb?ue:null,video:ue.type==s.ra?ue:null,bandwidth:ue.bandwidth||0,drmInfos:ue.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});i.l=G,A(nn)}}))}function lp(i){var r,o,s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe,Ie,_e;return K((function(Ve){switch(Ve.g){case 1:if(r=wn,1==i.length)return Ve.return(i[0]);for(o=i.map((function(i){return i.filter((function(i){return i.type==r.cb}))})),s=i.map((function(i){return i.filter((function(i){return i.type==r.ra}))})),p=i.map((function(i){return i.filter((function(i){return i.type==r.X}))})),m=i.map((function(i){return i.filter((function(i){return i.type==r.Ub}))})),v=t(p),y=v.next();!y.done;y=v.next())y.value.push(mp(r.X));for(x=t(m),S=x.next();!S.done;S=x.next())S.value.push(mp(r.Ub));return u(Ve,ip([],o,0,np,op),2);case 2:return j=Ve.h,u(Ve,ip([],s,0,np,op),3);case 3:return D=Ve.h,u(Ve,ip([],p,0,np,op),4);case 4:return P=Ve.h,u(Ve,ip([],m,0,np,op),5);case 5:if(L=Ve.h,_=0,D.length&&j.length)for(Y=t(j),$=Y.next();!$.done;$=Y.next())for(re=$.value,ue=t(D),fe=ue.next();!fe.done;fe=ue.next())Ie=fe.value,_e=_++,Ie.variantIds.push(_e),re.variantIds.push(_e);else for(B=D.concat(j),z=t(B),G=z.next();!G.done;G=z.next())G.value.variantIds=[_++];return Ve.return(D.concat(j).concat(P).concat(L))}}))}function ip(i,r,o,s,p){var m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe;return K((function(Ie){switch(Ie.g){case 1:for(m=wn,v=[],y=0;y<r.length;y++)y>=o?v.push(new Set(r[y])):v.push(new Set);x=t(i),S=x.next();case 2:if(S.done){Ie.A(4);break}return u(Ie,function pp(i,r,o,s,p){return K((function(m){return 1==m.g?(rp(r,i),i.matchedStreams?i.segmentIndex?u(m,sp(i,o),2):m.A(2):m.return(!1)):(tp(i,o,s,p),m.return(!0))}))}(S.value,r,o,p,v),5);case 5:if(!Ie.h)throw new N(2,4,4037);S=x.next(),Ie.A(2);break;case 4:for(j=t(v),D=j.next();!D.done;D=j.next())for(P=D.value,L=t(P),_=L.next();!_.done;_=L.next())B=_.value,(z=qp(B,r,s,p,v))&&i.push(z);for(G=t(v),D=G.next();!D.done;D=G.next())for(Y=D.value,$={},re=t(Y),_=re.next();!_.done;$={Va:$.Va},_=re.next())if($.Va=_.value,ue=$.Va.type==m.X&&!$.Va.language,fe=$.Va.type==m.Ub&&!$.Va.tilesLayout,!ue&&!fe&&i.some(function(i){return function(r){return r.mimeType==i.Va.mimeType&&Zc(r.codecs)==Zc(i.Va.codecs)}}($)))throw new N(2,4,4037);return Ie.return(i)}}))}function sp(i,r){var o,s,p,m,v,y,x;return K((function(S){if(1==S.g){for(o=[],s=i.matchedStreams,p=t(s),m=p.next();!m.done;m=p.next())v=m.value,o.push(v.createSegmentIndex()),v.trickModeVideo&&!v.trickModeVideo.segmentIndex&&o.push(v.trickModeVideo.createSegmentIndex());return u(S,Promise.all(o),2)}if(i.segmentIndex instanceof uj)for(y=0;y<s.length;y++)(x=s[y]).segmentIndex&&y>=r&&i.segmentIndex.j.push(x.segmentIndex);A(S)}))}function qp(i,r,o,s,p){var m=o(i);return rp(r,m),m.createSegmentIndex&&(m.createSegmentIndex=function(){return K((function(i){return m.segmentIndex?i.A(0):(m.segmentIndex=new uj,u(i,sp(m,0),0))}))}),m.matchedStreams?(tp(m,0,s,p),m):null}function tp(i,r,o,s){for(var p=i.matchedStreams,m=0;m<p.length;m++)if(m>=r){var v=p[m];o(i,v);var y=!0;"audio"==i.type&&0==pd(i.language,v.language)&&(y=!1),y&&s[m].delete(v)}}function jp(i){var r=Object.assign({},i);return r.originalId=null,r.createSegmentIndex=function(){return Promise.resolve()},r.closeSegmentIndex=function(){if(r.segmentIndex&&(r.segmentIndex.release(),r.segmentIndex=null),r.matchedStreams)for(var i=t(r.matchedStreams),o=i.next();!o.done;o=i.next())(o=o.value).segmentIndex&&(o.segmentIndex.release(),o.segmentIndex=null)},r.segmentIndex=null,r.emsgSchemeIdUris=[],r.keyIds=new Set,r.closedCaptions=null,r.trickModeVideo=null,r}function np(i){return(i=Object.assign({},i)).keyIds=new Set,i.segments=[],i.variantIds=[],i.closedCaptions=null,i}function kp(i,r){i.roles=Array.from(new Set(i.roles.concat(r.roles))),r.emsgSchemeIdUris&&(i.emsgSchemeIdUris=Array.from(new Set(i.emsgSchemeIdUris.concat(r.emsgSchemeIdUris)))),i.keyIds=function(i,r){return new Set([].concat(ia(i),ia(r)))}(i.keyIds,r.keyIds),null==i.originalId?i.originalId=r.originalId:i.originalId+=","+(r.originalId||"");var o=Sg(i.drmInfos,r.drmInfos);if(r.drmInfos.length&&i.drmInfos.length&&!o.length)throw new N(2,4,4038);if(i.drmInfos=o,i.encrypted=i.encrypted||r.encrypted,r.closedCaptions){i.closedCaptions||(i.closedCaptions=new Map);for(var s=(o=t(r.closedCaptions)).next();!s.done;s=o.next()){var p=t(s.value);s=p.next().value,p=p.next().value,i.closedCaptions.set(s,p)}}r.trickModeVideo?(i.trickModeVideo||(i.trickModeVideo=jp(r.trickModeVideo),i.trickModeVideo.createSegmentIndex=function(){return i.trickModeVideo.segmentIndex=i.segmentIndex.clone(),Promise.resolve()}),kp(i.trickModeVideo,r.trickModeVideo)):i.trickModeVideo&&kp(i.trickModeVideo,r)}function op(i,r){i.roles=Array.from(new Set(i.roles.concat(r.roles)));var o=r.keyIds;if(o=new Set([].concat(ia(i.keyIds),ia(o))),i.keyIds=o,i.encrypted=i.encrypted&&r.encrypted,i.segments.push.apply(i.segments,ia(r.segments)),r.closedCaptions){i.closedCaptions||(i.closedCaptions=new Map);for(var s=(o=t(r.closedCaptions)).next();!s.done;s=o.next()){var p=t(s.value);s=p.next().value,p=p.next().value,i.closedCaptions.set(s,p)}}}function rp(i,r){for(var o=[],s=t(i),p=s.next();!p.done;p=s.next()){for(var m=r,v={audio:up,video:up,text:vp,image:wp}[m.type],y={audio:xp,video:yp,text:zp,image:Ap}[m.type],x=null,S=(p=t(p.value)).next();!S.done;S=p.next())!v(m,S=S.value)||x&&!y(m,x,S)||(x=S);if(!(m=x))return;o.push(m)}r.matchedStreams=o}function up(i,r){var o;if(!(o=r.mimeType!=i.mimeType||Zc(r.codecs)!=Zc(i.codecs))&&(o=i.drmInfos)){o=i.drmInfos;var s=r.drmInfos;o=!(!o.length||!s.length||0<Sg(o,s).length)}return!o}function vp(i,r){return!!i.language&&(!r.language||0!=pd(i.language,r.language)&&r.kind==i.kind)}function wp(i){return!!i.tilesLayout}function xp(i,r,o){if(i.id==o.id)return!0;var s=pd(i.language,r.language),p=pd(i.language,o.language);return p>s||!(p<s)&&(i.roles.length?(s=r.roles.filter((function(r){return i.roles.includes(r)})),(p=o.roles.filter((function(r){return i.roles.includes(r)}))).length>s.length||!(p.length<s.length)&&o.roles.length<r.roles.length):!(o.roles.length||!r.roles.length)||!(o.roles.length&&!r.roles.length)&&(!(r.primary||!o.primary)||!(r.primary&&!o.primary)&&((s=Bp(i.channelsCount,r.channelsCount,o.channelsCount))==rh||s!=sh&&((s=Bp(i.audioSamplingRate,r.audioSamplingRate,o.audioSamplingRate))==rh||s!=sh&&!(!i.bandwidth||Ep(i.bandwidth,r.bandwidth,o.bandwidth)!=rh)))))}function yp(i,r,o){if(i.id==o.id)return!0;var s=Bp(i.width*i.height,r.width*r.height,o.width*o.height);if(s==rh)return!0;if(s==sh)return!1;if(i.frameRate){if((s=Bp(i.frameRate,r.frameRate,o.frameRate))==rh)return!0;if(s==sh)return!1}return!(!i.bandwidth||Ep(i.bandwidth,r.bandwidth,o.bandwidth)!=rh)}function zp(i,r,o){if(i.id==o.id)return!0;var s=pd(i.language,r.language),p=pd(i.language,o.language);if(p>s)return!0;if(p<s)return!1;if(!r.primary&&o.primary)return!0;if(r.primary&&!o.primary)return!1;if(i.roles.length){if(s=r.roles.filter((function(r){return i.roles.includes(r)})),(p=o.roles.filter((function(r){return i.roles.includes(r)}))).length>s.length)return!0;if(p.length<s.length)return!1}else{if(!o.roles.length&&r.roles.length)return!0;if(o.roles.length&&!r.roles.length)return!1}return o.mimeType==i.mimeType&&o.codecs==i.codecs&&(r.mimeType!=i.mimeType||r.codecs!=i.codecs)}function Ap(i,r,o){return i.id==o.id||Bp(i.width*i.height,r.width*r.height,o.width*o.height)==rh}function mp(i){return{id:0,originalId:"",primary:!1,type:i,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function hp(i){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new rj([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:i,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function Bp(i,r,o){if(r==i&&i!=o)return sh;if(o==i&&i!=r)return rh;if(r>i){if(o<=i||o-i<r-i)return rh;if(o-i>r-i)return sh}else{if(o>i)return sh;if(i-o<i-r)return rh;if(i-o>i-r)return sh}return oh}function Ep(i,r,o){return r=Math.abs(i-r),(i=Math.abs(i-o))<r?rh:r<i?sh:oh}bp.prototype.release=function(){for(var i=t(this.g.concat(this.h,this.j,this.i)),r=i.next();!r.done;r=i.next())(r=r.value).segmentIndex&&r.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};var rh=1,oh=0,sh=-1;function Gp(){var i=this;this.h=this.g=null,this.m=[],this.i=null,this.G=1,this.l={},this.M={},this.j=new bp,this.F=0,this.I=new Pa(5),this.D=new O((function(){!function Hp(i){var r,o;K((function(s){switch(s.g){case 1:return r=0,C(s,2),u(s,Ip(i),4);case 4:r=s.h,va(s,3);break;case 2:o=F(s),i.h&&(o.severity=1,i.h.onError(o));case 3:if(!i.h)return s.return();Jp(i,r),A(s)}}))}(i)})),this.o=new Ze,this.s=null,this.L=[],this.u=1/0,this.C=!1}function Ip(i){var r,o,s,p,m,v,y;return K((function(x){return 1==x.g?(r=ef(i.m,i.g.retryParameters),o=i.h.networkingEngine,i.h.modifyManifestRequest(r,{format:"d"}),s=Date.now(),p=o.request(0,r),$e(i.o,p),u(x,p.promise,2)):3!=x.g?(m=x.h,i.h?(m.uri&&!i.m.includes(m.uri)&&i.m.unshift(m.uri),u(x,function Kp(i,r,o){var s,p,m,v;return K((function(y){if(1==y.g){if(!(s=hg(r,"MPD")))throw new N(2,4,4001,o);return i.g.dash.disableXlinkProcessing?y.return(Lp(i,s,o)):(p=i.g.dash.xlinkFailGracefully,m=xo(s,i.g.retryParameters,p,o,i.h.networkingEngine),$e(i.o,m),u(y,m.promise,2))}return v=y.h,y.return(Lp(i,v,o))}))}(i,m.data,m.uri),3)):x.return(0)):(v=Date.now(),y=(v-s)/1e3,i.I.sample(1,y),x.return(y))}))}function Lp(i,r,o){var s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe,Ie,_e,Ve,He,pt,_t,Bt,en,nn;return K((function(sn){switch(sn.g){case 1:if((s=i.g.dash.manifestPreprocessor)&&s(r),p=[o],0<(m=Pf(r,"Location").map(Vf).filter(dc)).length&&(v=ec(p,m),p=i.m=v),y=Pf(r,"BaseURL"),x=y.map(Vf),S=ec(p,x),j=0,y&&y.length&&(j=Xf(y[0],"availabilityTimeOffset",dg)||0),D=i.g.dash.ignoreMinBufferTime,P=0,D||(P=Xf(r,"minBufferTime",Zf)||0),i.F=Xf(r,"minimumUpdatePeriod",Zf,-1),L=Xf(r,"availabilityStartTime",Yf),_=Xf(r,"timeShiftBufferDepth",Zf),B=i.g.dash.ignoreSuggestedPresentationDelay,z=null,B||(z=Xf(r,"suggestedPresentationDelay",Zf)),G=i.g.dash.ignoreMaxSegmentDuration,Y=null,G||(Y=Xf(r,"maxSegmentDuration",Zf)),$=r.getAttribute("type")||"static",i.i)for(re=i.i.presentationTimeline,ue=t(Object.values(i.l)),fe=ue.next();!fe.done;fe=ue.next())(Ie=fe.value).segmentIndex&&Ie.segmentIndex.eb(re.Pa());else _e=i.g.defaultPresentationDelay||1.5*P,re=new T(L,null!=z?z:_e,i.g.dash.autoCorrectDrift);return re.wc("static"==$),re.V()&&!isNaN(i.g.availabilityWindowOverride)&&(_=i.g.availabilityWindowOverride),null==_&&(_=1/0),re.ce(_),Ve=r.getAttribute("profiles")||"",He={Wa:"static"!=$,presentationTimeline:re,aa:null,W:null,ja:null,H:null,bandwidth:0,Ae:!1,xb:j,profiles:Ve.split(",")},pt=function Mp(i,r,o,s){var p=Xf(s,"mediaPresentationDuration",Zf),m=[],v=0;s=Pf(s,"Period");for(var y=0;y<s.length;y++){var x=s[y],S=s[y+1],j=Xf(x,"start",Zf,v),D=x.id,P=Xf(x,"duration",Zf),L=null;if(S){var _=Xf(S,"start",Zf);null!=_&&(L=_-j)}else null!=p&&(L=p-j);if(null==L&&(L=P),!(null!==i.s&&null!==D&&null!==j&&j<i.s)||i.L.includes(D)||y+1==s.length){if(null!==j&&(null===i.s||j>i.s)&&(i.s=j),v=Op(i,r,o,{start:j,duration:L,node:x,Ce:null==L||!S}),m.push(v),r.aa.id&&L&&(i.M[r.aa.id]=L),null==L){v=null;break}v=j+L}}return i.L=m.map((function(i){return i.id})),null!=p?{periods:m,duration:p,se:!1}:{periods:m,duration:v,se:!0}}(i,He,S,r),_t=pt.duration,Bt=pt.periods,"static"!=$&&pt.se||re.Ia(_t||1/0),i.u&&!i.C&&i.h.isAutoLowLatencyMode()&&(i.h.enableLowLatencyMode(),i.C=i.h.isLowLatencyMode()),i.C?re.Ne(i.u):i.u&&Va("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),re.Ld(Y||1),u(sn,cp(i.j,Bt,He.Wa),2);case 2:if(i.i){i.i.variants=i.j.l,i.i.textStreams=i.j.j.slice(),i.i.imageStreams=i.j.i,i.h.filter(i.i),sn.A(3);break}if(i.i={presentationTimeline:re,variants:i.j.l,textStreams:i.j.j.slice(),imageStreams:i.j.i,offlineSessionIds:[],minBufferTime:P||0,sequenceMode:!1},!re.Se()){sn.A(4);break}return en=Pf(r,"UTCTiming"),u(sn,function Np(i,r,o){var s,p,m,v,y,x,S,j;return K((function(D){switch(D.g){case 1:s=o.map((function(i){return{scheme:i.getAttribute("schemeIdUri"),value:i.getAttribute("value")}})),p=i.g.dash.clockSyncUri,!s.length&&p&&s.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:p}),m=t(s),v=m.next();case 2:if(v.done){D.A(4);break}switch(y=v.value,C(D,5),x=y.scheme,S=y.value,x){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return D.A(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return D.A(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return j=Date.parse(S),D.return(isNaN(j)?0:j-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Va("NTP UTCTiming scheme is not supported");break;default:Va("Unrecognized scheme in UTCTiming element",x)}D.A(9);break;case 7:return u(D,Yp(i,r,S,"HEAD"),10);case 10:return D.return(D.h);case 8:return u(D,Yp(i,r,S,"GET"),11);case 11:return D.return(D.h);case 9:va(D,3);break;case 5:F(D);case 3:v=m.next(),D.A(2);break;case 4:return Va("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),D.return(0)}}))}(i,S,en),5);case 5:if(nn=sn.h,!i.h)return sn.return();re.Oe(nn);case 4:re.Gd();case 3:i.h.makeTextStreamsForClosedCaptions(i.i),A(sn)}}))}function Op(i,r,o,s){r.aa=Pp(s.node,null,o),r.W=s,r.aa.xb=r.xb,r.aa.id||(r.aa.id="__shaka_period_"+s.start);var p=Pf(s.node,"EventStream");o=r.presentationTimeline.Pa();for(var m=(p=t(p)).next();!m.done;m=p.next())Qp(i,s.start,s.duration,m.value,o);if(o=Pf(s.node,"AdaptationSet").map((function(o){return function Rp(i,r,o){function d(i){switch(i){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}r.ja=Pp(o,r.aa,null);var s,p=!1,m=Pf(o,"Role"),v=m.map((function(i){return i.getAttribute("value")})).filter(dc),y=void 0,x=r.ja.contentType==yn;x&&(y="subtitle");for(var S=(m=t(m)).next();!S.done;S=m.next()){var j=(S=S.value).getAttribute("schemeIdUri");if(null==j||"urn:mpeg:dash:role:2011"==j)switch(S=S.getAttribute("value"),S){case"main":p=!0;break;case"caption":case"subtitle":y=S}}j=Pf(o,"EssentialProperty"),m=null,S=!1;for(var D=(j=t(j)).next();!D.done;D=j.next()){var P=(D=D.value).getAttribute("schemeIdUri");"http://dashif.org/guidelines/trickmode"==P?m=D.getAttribute("value"):"urn:mpeg:mpegB:cicp:TransferCharacteristics"==P?s=d(parseInt(D.getAttribute("value"),10)):S=!0}for(j=t(j=Pf(o,"SupplementalProperty")),D=j.next();!D.done;D=j.next())"urn:mpeg:mpegB:cicp:TransferCharacteristics"==(D=D.value).getAttribute("schemeIdUri")&&(s=d(parseInt(D.getAttribute("value"),10)));j=Pf(o,"Accessibility");var L=new Map;for(j=t(j),D=j.next();!D.done;D=j.next())if(P=D.value,D=P.getAttribute("schemeIdUri"),P=P.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==D)if(D=1,null!=P)for(var _=t(P=P.split(";")),B=_.next();!B.done;B=_.next()){var z=B.value,G=B=void 0;z.includes("=")?(B=(z=z.split("="))[0].startsWith("CC")?z[0]:"CC"+z[0],G=z[1]||"und"):(B="CC"+D,2==P.length?D+=2:D++,G=z),L.set(B,Q(G))}else L.set("CC1","und");else if("urn:scte:dash:cc:cea-708:2015"==D)if(D=1,null!=P)for(P=t(P.split(";")),B=P.next();!B.done;B=P.next())B=B.value,z=_=void 0,B.includes("=")?(B=B.split("="),_="svc"+B[0],z=B[1].split(",")[0].split(":").pop()):(_="svc"+D,D++,z=B),L.set(_,Q(z));else L.set("svc1","und");else"urn:mpeg:dash:role:2011"==D&&null!=P&&(v.push(P),"captions"==P&&(y="caption"));if(S)return null;var Y=io(S=Pf(o,"ContentProtection"),i.g.dash.ignoreDrmInfo,i.g.dash.keySystemsByURI),$=Q(o.getAttribute("lang")||"und"),re=o.getAttribute("label");if((S=Pf(o,"Label"))&&S.length&&((S=S[0]).textContent&&(re=S.textContent)),S=Pf(o,"Representation"),o=S.map((function(o){return(o=function Tp(i,r,o,s,p,m,v,y,x,S){if(r.H=Pp(S,r.ja,null),i.u=Math.min(i.u,r.H.xb),!function Vp(i){var r=i.uc?1:0;return r+=i.$a?1:0,0==(r+=i.vc?1:0)?i.contentType==yn||"application"==i.contentType:(1!=r&&(i.uc&&(i.$a=null),i.vc=null),!0)}(r.H))return null;var j=r.W.start;r.bandwidth=Xf(S,"bandwidth",bg)||0;var D=r.H.contentType,P=D==yn||"application"==D;D="image"==D;try{var q=function(r,o,s){return function Wp(i,r,o,s){var p,m,v,y,x;return K((function(S){return 1==S.g?(p=pr,m=Jj(r,o,s,i.g.retryParameters),v=i.h.networkingEngine,y=v.request(p,m),$e(i.o,y),u(S,y.promise,2)):(x=S.h,S.return(x.data))}))}(i,r,o,s)};if(r.H.uc)var L=Ko(r,q);else if(r.H.$a)L=Qo(r,i.l);else if(r.H.vc)L=Vo(r,q,i.l,!!i.i,i.g.dash.initialSegmentLimit,i.M);else{var _=r.H.wa,B=r.W.duration||0;L={zb:function(){return Promise.resolve(tj(j,B,_))}}}}catch(i){if((P||D)&&4002==i.code)return null;throw i}q=function lo(i,r,o,s){var p=io(i,o,s);if(r.ue)i=1==r.drmInfos.length&&!r.drmInfos[0].keySystem,o=0==p.drmInfos.length,(0==r.drmInfos.length||i&&!o)&&(r.drmInfos=p.drmInfos),r.ue=!1;else if(0<p.drmInfos.length&&(r.drmInfos=r.drmInfos.filter((function(i){return p.drmInfos.some((function(r){return r.keySystem==i.keySystem}))})),0==r.drmInfos.length))throw new N(2,4,4008);return p.qe||r.qe}(q=Pf(S,"ContentProtection"),o,i.g.dash.ignoreDrmInfo,i.g.dash.keySystemsByURI),q=new Set(q?[q]:[]);var z=!1;Pf(S,"SupplementalProperty").some((function(i){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==i.getAttribute("schemeIdUri")&&"JOC"==i.getAttribute("value")}))&&(z=!0);var G,Y,$=!1;if(P&&($=y.includes("forced_subtitle")||y.includes("forced-subtitle")),D&&((S=Pf(S,"EssentialProperty").find((function(i){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(i.getAttribute("schemeIdUri"))})))&&(G=S.getAttribute("value")),!G))return null;S=r.H.codecs,r.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(S.includes("hvc1.2.4.L153.B0")||S.includes("hev1.2.4.L153.B0"))&&(Y="PQ");var re=r.H.id?r.aa.id+","+r.H.id:"",ue={id:i.G++,originalId:r.H.id,createSegmentIndex:function(){var o,s;return K((function(p){if(1==p.g)return(o=re&&r.Wa&&i.l[re]?i.l[re]:ue).segmentIndex?p.A(0):(s=o,u(p,L.zb(),3));s.segmentIndex=p.h,A(p)}))},closeSegmentIndex:function(){ue.segmentIndex&&(ue.segmentIndex.release(),ue.segmentIndex=null)},segmentIndex:null,mimeType:r.H.mimeType,codecs:r.H.codecs,frameRate:r.H.frameRate,pixelAspectRatio:r.H.pixelAspectRatio,bandwidth:r.bandwidth,width:r.H.width,height:r.H.height,kind:s,encrypted:0<o.drmInfos.length,drmInfos:o.drmInfos,keyIds:q,language:p,label:m,type:r.ja.contentType,primary:v,trickModeVideo:null,emsgSchemeIdUris:r.H.emsgSchemeIdUris,roles:y,forced:$,channelsCount:r.H.Vc,audioSamplingRate:r.H.audioSamplingRate,spatialAudio:z,closedCaptions:x,hdr:Y,tilesLayout:G,matchedStreams:[]};return re&&r.Wa&&!i.l[re]&&(i.l[re]=ue),ue}(i,r,Y,y,$,re,p,v,L,o))&&(o.hdr=o.hdr||s),o})).filter((function(i){return!!i})),0==o.length){if(m="image"==r.ja.contentType,i.g.dash.ignoreEmptyAdaptationSet||x||m)return null;throw new N(2,4,4003)}if(!r.ja.contentType||"application"==r.ja.contentType)for(r.ja.contentType=Up(o[0].mimeType,o[0].codecs),x=t(o),j=x.next();!j.done;j=x.next())j.value.type=r.ja.contentType;for(x=t(o),j=x.next();!j.done;j=x.next())for(j=j.value,D=t(Y.drmInfos),P=D.next();!P.done;P=D.next())(P=P.value).keyIds=P.keyIds&&j.keyIds?new Set([].concat(ia(P.keyIds),ia(j.keyIds))):P.keyIds||j.keyIds;return x=S.map((function(i){return i.getAttribute("id")})).filter(dc),{id:r.ja.id||"__fake__"+i.G++,contentType:r.ja.contentType,language:$,dh:p,streams:o,drmInfos:Y.drmInfos,fe:m,bg:x}}(i,r,o)})).filter(dc),r.Wa){for(s=[],m=(p=t(o)).next();!m.done;m=p.next())for(var v=(m=t(m.value.bg)).next();!v.done;v=m.next())s.push(v.value);if(s.length!=new Set(s).size)throw new N(2,4,4018)}for(s=o.filter((function(i){return!i.fe})),p=(o=t(o=o.filter((function(i){return i.fe})))).next();!p.done;p=o.next()){m=(p=p.value).fe.split(" ");for(var y=(v=t(s)).next();!y.done;y=v.next()){var x=y.value;if(m.includes(x.id)){y={};for(var S=(x=t(x.streams)).next();!S.done;y={Dc:y.Dc},S=x.next())y.Dc=S.value,y.Dc.trickModeVideo=p.streams.find(function(i){return function(r){return Zc(i.Dc.codecs)==Zc(r.codecs)}}(y))}}}if(p=i.g.disableAudio?[]:Sp(s,"audio"),v=i.g.disableVideo?[]:Sp(s,"video"),m=i.g.disableText?[]:Sp(s,yn),o=i.g.disableThumbnails?[]:Sp(s,"image"),!v.length&&!p.length)throw new N(2,4,4004);for(s=[],y=(p=t(p)).next();!y.done;y=p.next())s.push.apply(s,ia(y.value.streams));for(p=[],y=(v=t(v)).next();!y.done;y=v.next())p.push.apply(p,ia(y.value.streams));for(v=[],y=(m=t(m)).next();!y.done;y=m.next())v.push.apply(v,ia(y.value.streams));for(m=[],y=(o=t(o)).next();!y.done;y=o.next())m.push.apply(m,ia(y.value.streams));return{id:r.aa.id,Fc:s,dd:p,textStreams:v,imageStreams:m}}function Sp(i,r){return i.filter((function(i){return i.contentType==r}))}function Jp(i,r){0>i.F||i.D.P(Math.max(3,i.F-r,Qa(i.I)))}function Pp(i,r,o){r=r||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Vc:null,audioSamplingRate:null,xb:0},o=o||r.wa;for(var s=Pf(i,"BaseURL"),p=s.map(Vf),m=i.getAttribute("contentType")||r.contentType,v=i.getAttribute("mimeType")||r.mimeType,y=i.getAttribute("codecs")||r.codecs,x=Xf(i,"frameRate",eg)||r.frameRate,S=i.getAttribute("sar")||r.pixelAspectRatio,j=Pf(i,"InbandEventStream"),D=r.emsgSchemeIdUris.slice(),P=(j=t(j)).next();!P.done;P=j.next())P=P.value.getAttribute("schemeIdUri"),D.includes(P)||D.push(P);j=function Xp(i){for(var r=(i=t(i)).next();!r.done;r=i.next()){var o=r.value;if((r=o.getAttribute("schemeIdUri"))&&(o=o.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return o.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(o,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(r=parseInt(o,16)))continue;for(i=0;r;)1&r&&++i,r>>=1;return i;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(r=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(o=parseInt(o,10))&&0<o&&o<r.length)return r[o]}}return null}(j=Pf(i,"AudioChannelConfiguration"))||r.Vc,P=Xf(i,"audioSamplingRate",cg)||r.audioSamplingRate,m||(m=Up(v,y));var L=Of(i,"SegmentBase"),_=Of(i,"SegmentTemplate"),B=L&&Xf(L,"availabilityTimeOffset",dg)||0,z=_&&Xf(_,"availabilityTimeOffset",dg)||0;return s=s&&s.length&&Xf(s[0],"availabilityTimeOffset",dg)||0,s=r.xb+s+B+z,{wa:ec(o,p),uc:L||r.uc,$a:Of(i,"SegmentList")||r.$a,vc:_||r.vc,width:Xf(i,"width",cg)||r.width,height:Xf(i,"height",cg)||r.height,contentType:m,mimeType:v,codecs:y,frameRate:x,pixelAspectRatio:S,emsgSchemeIdUris:D,id:i.getAttribute("id"),Vc:j,audioSamplingRate:P,xb:s}}function Yp(i,r,o,s){var p,m,v,y,x,S;return K((function(j){if(1==j.g)return p=ec(r,[o]),(m=ef(p,i.g.retryParameters)).method=s,v=i.h.networkingEngine.request(4,m),$e(i.o,v),u(j,v.promise,2);if(y=j.h,"HEAD"==s){if(!y.headers||!y.headers.date)return j.return(0);x=y.headers.date}else x=Bc(y.data);return S=Date.parse(x),isNaN(S)?j.return(0):j.return(S-Date.now())}))}function Qp(i,r,o,s,p){for(var m=s.getAttribute("schemeIdUri")||"",v=s.getAttribute("value")||"",y=Xf(s,"timescale",cg)||1,x=(s=t(Pf(s,"Event"))).next();!x.done;x=s.next()){var S=Xf(x=x.value,"presentationTime",cg)||0,j=Xf(x,"duration",cg)||0;j=(S=S/y+r)+j/y,null!=o&&(S=Math.min(S,r+o),j=Math.min(j,r+o)),j<p||(x={schemeIdUri:m,value:v,startTime:S,endTime:j,id:x.getAttribute("id")||"",eventElement:x},i.h.onTimelineRegionAdded(x))}}function Up(i,r){return cd(Xc(i,r))?yn:i.split("/")[0]}function Zp(i,r,o,s){this.h=i,this.type=r,this.g=o,this.segments=s||null}function $p(i,r,o,s){this.id=i,this.name=r,this.g=o,this.value=void 0===s?null:s}function Z(i,r,o){return(i=i.getAttribute(r))?i.value:o||null}function aq(i,r){var o=i.getAttribute(r);if(!o)throw new N(2,4,4023,r);return o.value}function bq(i,r,o){o=void 0===o?[]:o,this.g=r,this.i=i,this.h=o}function cq(i,r){this.name=i,this.value=r}function dq(i,r){return i.filter((function(i){return i.name==r}))}function eq(i,r){return i.filter((function(i){return aq(i,"TYPE")==r}))}function fq(i,r){var o=dq(i,r);return o.length?o[0]:null}function gq(i){var r=0;return r=void 0===r?0:r,(i=fq(i,"EXT-X-MEDIA-SEQUENCE"))?Number(i.value):r}function hq(i,r){return ec([i],[r])[0]}function iq(i){this.h=i,this.g=0}function jq(i){kq(i,/[ \t]+/gm)}function kq(i,r){r.lastIndex=i.g;var o=r.exec(i.h);return o=null==o?null:{position:o.index,length:o[0].length,results:o},i.g==i.h.length||null==o||o.position!=i.g?null:(i.g+=o.length,o.results)}function lq(i){return i.g==i.h.length?null:(i=kq(i,/[^ \t\n]*/gm))?i[0]:null}function mq(){this.g=0}function nq(i,r,o){var s=(r=(r=Bc(r)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(s[0]))throw new N(2,4,4015);r=0;for(var p=!0,m=t(s),v=m.next();!v.done;v=m.next())if(v=v.value,/^#(?!EXT)/m.test(v)||p)p=!1;else{if(v=oq(i,v),--i.g,ph.includes(v.name)){r=1;break}"EXT-X-STREAM-INF"==v.name&&(p=!0)}for(m=[],p=!0,v=0;v<s.length;v++){var y=s[v],x=s[v+1];if(/^#(?!EXT)/m.test(y)||p)p=!1;else{if(y=oq(i,y),mh.includes(y.name)){if(1!=r)throw new N(2,4,4017);var S=s.splice(v,s.length-v);s=o,p=[],v=[],x=[],y=null;for(var j=(S=t(S)).next();!j.done;j=S.next())j=j.value,/^(#EXT)/.test(j)?(j=oq(i,j),ph.includes(j.name)?m.push(j):"EXT-X-MAP"==j.name?y=j:"EXT-X-PART"==j.name?x.push(j):"EXT-X-PRELOAD-HINT"==j.name?"PART"==Z(j,"TYPE")?x.push(j):"MAP"==Z(j,"TYPE")&&(j.name="EXT-X-MAP",y=j):v.push(j)):/^#(?!EXT)/m.test(j)||(j=hq(s,j.trim()),y&&v.push(y),p.push(new bq(j,v,x)),v=[],x=[]);return x.length&&(y&&v.push(y),p.push(new bq("",v,x))),new Zp(o,r,m,p)}m.push(y),"EXT-X-STREAM-INF"==y.name&&(y.g.push(new cq("URI",x)),p=!0)}}return new Zp(o,r,m)}function oq(i,r){var o=i.g++,s=r.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!s)throw new N(2,4,4016,r);var p,m=s[1],v=s[2];if(s=[],v){var y;(y=kq(v=new iq(v),/^([^,=]+)(?:,|$)/g))&&(p=y[1]);for(var x=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;y=kq(v,x);)s.push(new cq(y[1],y[2]||y[3])),jq(v)}return new $p(o,m,s,p)}(s=Gp.prototype).configure=function(i){this.g=i},s.start=function(i,r){var o,s=this;return K((function(p){if(1==p.g)return s.C=r.isLowLatencyMode(),s.m=[i],s.h=r,u(p,Ip(s),2);if(o=p.h,s.h&&Jp(s,o),!s.h)throw new N(2,7,7001);return p.return(s.i)}))},s.stop=function(){for(var i=t(Object.values(this.l)),r=i.next();!r.done;r=i.next())(r=r.value).segmentIndex&&r.segmentIndex.release();return this.j&&this.j.release(),this.g=this.h=null,this.m=[],this.i=null,this.l={},this.j=null,null!=this.D&&(this.D.stop(),this.D=null),this.o.destroy()},s.update=function(){var i,r=this;return K((function(o){return 1==o.g?(C(o,2),u(o,Ip(r),4)):2!=o.g?va(o,0):(i=F(o),r.h&&i?(r.h.onError(i),void A(o)):o.return())}))},s.onExpirationUpdated=function(){},M("shaka.dash.DashParser",Gp),ma.mpd=function(){return new Gp},ga["application/dash+xml"]=function(){return new Gp},ga["video/vnd.mpeg.dash.mpd"]=function(){return new Gp},$p.prototype.toString=function(){var i="#"+this.name,r=this.g?this.g.map((function a(i){return i.name+"="+(isNaN(Number(i.value))?'"'+i.value+'"':i.value)})):[];return this.value&&r.unshift(this.value),0<r.length&&(i+=":"+r.join(",")),i},$p.prototype.getAttribute=function(i){var r=this.g.filter((function(r){return r.name==i}));return r.length?r[0]:null};var ph="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),mh="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function rq(){}function sq(i){try{var r=tq(i);return Qe({uri:i,Fe:i,data:r.data,headers:{"content-type":r.contentType}})}catch(i){return Oe(i)}}function tq(r){var o=r.split(":");if(2>o.length||"data"!=o[0])throw new N(2,1,1004,r);if(2>(o=o.slice(1).join(":").split(",")).length)throw new N(2,1,1004,r);var s=o[0];r=i.decodeURIComponent(o.slice(1).join(",")),o=s.split(";"),s=o[0];var p=!1;return 1<o.length&&"base64"==o[o.length-1]&&(p=!0,o.pop()),{data:p?Nc(r):Ic(r),contentType:s}}function uq(){var i=this;this.h=this.i=null,this.La=1,this.o=new Map,this.u=new Map,this.va=new Set,this.g=new Map,this.j=null,this.M="",this.ca=new mq,this.ia=0,this.T=!1,this.O=null,this.C=new O((function(){!function vq(i){var r,o;K((function(s){return 1==s.g?i.i?(C(s,2),u(s,i.update(),4)):s.return():2!=s.g?(i.l!=Eh&&(r=i.ia,i.C.P(r)),va(s,0)):(o=F(s),i.i?(o.severity=1,i.i.onError(o),i.C.P(.1),void A(s)):s.return())}))}(i)})),this.l=Eh,this.I=null,this.ea=0,this.F=1/0,this.Y=this.ha=0,this.D=new Ze,this.G=[],this.L=new Map,this.s=new Map,this.da=new Map,this.m=!1}function zq(i,r){var o,s,p,m,v,y,x,S,j,D,P;return K((function(L){if(1==L.g)return o=r.We,s=new Nb(o),i.m&&r.af&&Qb(s,new Sb("_HLS_skip=YES")),u(L,xq(i,s.toString()),2);if(p=L.h,1!=(m=nq(i.ca,p.data,p.uri)).type)throw new N(2,4,4017);v=dq(m.g,"EXT-X-DEFINE"),y=Dq(i,v),x=r.stream,S=Eq(i,m,x.type,r.mc,y),i.G.push(S),x.segmentIndex.Fb(S,i.j.Pa()),S.length&&(j=gq(m.g),D=r.mc.get(j),x.segmentIndex.eb(D)),P=S[S.length-1],fq(m.g,"EXT-X-ENDLIST")&&(r.ye=!0,r.lc=P.endTime),A(L)}))}function Gq(i,r){i.stream.segmentIndex.offset(r),i.lc+=r;for(var o=t(i.mc),s=o.next();!s.done;s=o.next()){var p=t(s.value);s=p.next().value,p=p.next().value,i.mc.set(s,p+r)}}function Dq(i,r){for(var o=new Map,s=t(r),p=s.next();!p.done;p=s.next()){var m=p.value;p=Z(m,"NAME");var v=Z(m,"VALUE");m=Z(m,"IMPORT"),p&&v&&o.set(p,v),m&&(p=i.o.get(m))&&o.set(m,p)}return o}function Qq(i,r){var o=[];i.h.disableVideo||o.push(i.h.hls.defaultVideoCodec),i.h.disableAudio||o.push(i.h.hls.defaultAudioCodec);var s=Z(r,"CODECS",o.join(",")).split(/\s*,\s*/);o=new Set;for(var p=[],m=(s=t(s)).next();!m.done;m=s.next()){var v=$c(m=m.value)[0];o.has(v)||(p.push(m),o.add(v))}return p}function Wq(i){return Q(i=Z(i,"LANGUAGE")||"und")}function Rq(i,r){var o,s,p,m,v,y,x,S,j,D,P,L,_;return K((function(B){if(1==B.g){o=aq(r,"GROUP-ID"),s="";var z=aq(r,"TYPE").toLowerCase();return"subtitles"==z&&(z=yn),(p=z)!=yn&&o&&i.s.has(o)&&(s=i.s.get(o)),m=Xq(aq(r,"URI"),i.o),i.g.has(m)?B.return(i.g.get(m)):(v=Wq(r),y=Z(r,"NAME"),x=Z(r,"DEFAULT"),S="YES"==x,z="audio"==p&&(z=Z(r,"CHANNELS"))?parseInt(z.split("/")[0],10):null,j=z,z="audio"==p&&(!!(z=Z(r,"CHANNELS"))&&z.includes("/JOC")),D=z,P=Z(r,"CHARACTERISTICS"),L=Z(r,"FORCED"),u(B,Yq(i,m,s,p,v,S,y,j,null,P,"YES"==L,D),2))}return _=B.h,i.u.has(o)?i.u.get(o).push(_):i.u.set(o,[_]),i.g.has(m)?B.return(i.g.get(m)):(i.g.set(m,_),B.return(_))}))}function Yq(i,r,o,s,p,m,v,y,x,S,j,D){var P,L,_;return K((function(B){return 1==B.g?(P=hq(i.M,r),u(B,xq(i,P),2)):(L=B.h,P=L.uri,_=nq(i.ca,L.data,P),B.return(Jq(i,_,r,P,o,s,p,m,v,y,x,S,j,D)))}))}function Jq(i,r,o,s,p,m,v,y,x,S,j,D,P,L,_){var B,z,G,Y,$,re,ue,fe,Ie,_e,Ve,He,pt,_t,Bt,en,nn,sn,ln,cn,dn,fn,hn,gn,mn,vn,kn,jn,_n,qn,Xn,pi,Ai;return K((function(_i){if(1==_i.g){if(1!=r.type)throw new N(2,4,4017);return B=dq(r.g,"EXT-X-DEFINE"),z=Dq(i,B),function Zq(i,r){var o=fq(r.g,"EXT-X-PLAYLIST-TYPE"),s=fq(r.g,"EXT-X-ENDLIST");if(s=o&&"VOD"==o.value||s,o=o&&"EVENT"==o.value&&!s,o=!s&&!o,s)Cq(i,Eh);else{if(Cq(i,o?Nh:Mh),!(s=fq(r.g,"EXT-X-TARGETDURATION")))throw new N(2,4,4024,"EXT-X-TARGETDURATION");s=Number(s.value),o=fq(r.g,"EXT-X-PART-INF"),i.m&&o?(i.ha=Number(aq(o,"PART-TARGET")),i.F=Math.min(i.ha,i.F),o=fq(r.g,"EXT-X-SERVER-CONTROL"),i.Y=o?Number(aq(o,"PART-HOLD-BACK")):0):i.F=Math.min(s,i.F),i.ea=Math.max(s,i.ea)}}(i,r),_?_i.A(2):u(_i,function $q(i,r,o,s,p){var m,v,y,x,S,j,D,P,L,_,B,z;return K((function(G){if(1==G.g){if(m=wn,v=pr,y=Math.trunc((s.segments.length-1)/2),x=Xq(s.segments[y].i,p),S=new Nb(x),j=S.ua.split(".").pop(),D=bh[r],(P=D[j])||(P=yh[j]))return G.return(P);if(r==m.X){if("vtt"==o||"wvtt"==o)return G.return("text/vtt");if(o&&""!==o)return G.return("application/mp4")}return r!=m.Ub||o&&"jpeg"!=o?((L=ef([x],i.h.retryParameters)).method="HEAD",u(G,cr(i,L,v),2)):G.return("image/jpeg")}return _=G.h,(B=_.headers["content-type"])?G.return(B.split(";")[0]):r==m.X?G.return("text/vtt"):(z=D.mp4,G.return(z))}))}(i,m,p,r,z),3)}if(2!=_i.g&&(_=_i.h),G=[],r.segments)for(Y=t(r.segments),$=Y.next();!$.done;$=Y.next())re=$.value,ue=dq(re.g,"EXT-X-KEY"),G.push.apply(G,ia(ue));for(Ie=fe=!1,_e=[],Ve=new Set,He=t(G),pt=He.next();!pt.done;pt=He.next())if(_t=pt.value,"NONE"!=(Bt=aq(_t,"METHOD")))if(fe=!0,"AES-128"==Bt)Ie=!0;else if(en=aq(_t,"KEYFORMAT"),sn=(nn=wh[en])?nn(_t,_):null){if(sn.keyIds)for(ln=t(sn.keyIds),cn=ln.next();!cn.done;cn=ln.next())dn=cn.value,Ve.add(dn);_e.push(sn)}if(fe&&!_e.length&&!Ie)throw new N(2,4,4026);if($s.includes(_)&&(p=""),fn=new Map,hn=Eq(i,r,m,fn,z),gn=hn[hn.length-1].endTime,mn=new rj(hn),vn=m==yn?"subtitle":void 0,kn=[],D)for(jn=t(D.split(",")),_n=jn.next();!_n.done;_n=jn.next())qn=_n.value,kn.push(qn);return pi=!!(Xn=fq(r.g,"EXT-X-SERVER-CONTROL"))&&null!=Xn.getAttribute("CAN-SKIP-UNTIL"),Ai={id:i.La++,originalId:x,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:mn,mimeType:_,codecs:p,kind:vn,encrypted:fe,drmInfos:_e,keyIds:Ve,language:v,label:x,type:m,primary:y,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:kn,forced:P,channelsCount:S,audioSamplingRate:null,spatialAudio:L,closedCaptions:j,hdr:void 0,tilesLayout:void 0},_i.return({stream:Ai,cd:o,We:s,lc:gn,mc:fn,af:pi,ye:!1})}))}function br(r,o,s){if(!i.crypto||!i.crypto.subtle)throw Va("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new N(2,4,4042);var p=0,m=Z(o,"IV","");if(m){var v=Oc(m.substr(2));if(16!=v.byteLength)throw new N(2,4,4043)}else p=gq(s.g);var y=ef([o=hq(s.h,aq(o,"URI"))],r.h.retryParameters),x={method:"AES-128",iv:v,firstMediaSequenceNumber:p,fetchKey:function(){var o,s;return K((function(p){if(1==p.g)return u(p,cr(r,y,6),2);if(3!=p.g){if(!(o=p.h).data||16!=o.data.byteLength)throw new N(2,4,4044);return s=x,u(p,i.crypto.subtle.importKey("raw",o.data,"AES-CBC",!0,["decrypt"]),3)}s.cryptoKey=p.h,x.fetchKey=void 0,A(p)}))}};return x}function fr(i,r,o,s){return(o=fq(o,"EXT-X-MAP"))?(r=[s=Xq(hq(r,aq(o,"URI")),s),Z(o,"BYTERANGE","")].join("-"),i.da.has(r)||(o=function gr(i,r){var o=0,s=null,p=Z(r,"BYTERANGE");return p&&(o=p.split("@"),s=Number(o[0]),o=Number(o[1]),s=o+s-1),new mi((function(){return[i]}),o,s)}(s,o),i.da.set(r,o)),i.da.get(r)):null}function hr(i,r,o,s,p,m,v,y,x){var S=s.g,j=Xq(s.i,m),D=fq(S,"EXTINF"),P=m=0,L=null;s.h.length&&!i.m&&Va("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.");var _=null;if(!i.h.hls.ignoreManifestProgramDateTime){var B=fq(S,"EXT-X-PROGRAM-DATE-TIME");B&&B.value&&(_=Yf(B.value))}if(B=Do,fq(S,"EXT-X-GAP")&&(B=2),!D){if(0==s.h.length)throw new N(2,4,4024,"EXTINF");if(!i.m)return null}var z=[];if(i.m)for(var G={},Y=0;Y<s.h.length;G={md:G.md},Y++){var $=s.h[Y],re=0==Y?o:z[z.length-1],ue=0==Y?p:re.endTime,fe=Number(Z($,"DURATION"))||i.ha;if(fe){fe=ue+fe;var Ie=0,_e=null;"EXT-X-PRELOAD-HINT"==$.name?Ie=(Ie=Z($,"BYTERANGE-START"))?Number(Ie):0:(Ie=(_e=t(ir(re,Ie=Z($,"BYTERANGE")))).next().value,_e=_e.next().value),(re=Z($,"URI"))&&(G.md=hq(v,re),re=Do,"YES"==Z($,"GAP")&&(re=2),z.push(new oi(ue,fe,function(i){return function(){return[i.md]}}(G),Ie,_e,r,0,0,1/0,[],"",null,null,re)))}}return m=D?p+Number(D.value.split(",")[0]):z[z.length-1].endTime,(i=fq(S,"EXT-X-BYTERANGE"))?(P=(L=t(ir(o,i.value))).next().value,L=L.next().value):z.length&&(P=z[0].Ca,L=z[z.length-1].la),o="",i=null,"image"==y&&(o="1x1",y=fq(S,"EXT-X-TILES"))&&(o=aq(y,"LAYOUT"),(y=Z(y,"DURATION"))&&(i=Number(y))),new oi(p,m,(function(){return j.length?[j]:[]}),P,L,r,0,0,1/0,z,o,i,_,B,x)}function ir(i,r){var o=0,s=null;return r&&(o=r.split("@"),s=Number(o[0]),s=(o=o[1]?Number(o[1]):i.la+1)+s-1),[o,s]}function Aq(i){if(i.j){for(var r=t(i.G),o=r.next();!o.done;o=r.next())i.j.Gb(o.value);i.G=[]}}function Eq(i,r,o,s,p){var m=r.segments,v=void 0,y=gq(r.g),x=fq(r.g,"EXT-X-SKIP"),S=y+(x=x?Number(Z(x,"SKIPPED-SEGMENTS")):0),j=0;i.l!=Eh&&s.has(S)&&(j=s.get(S));for(var D=[],P=null,L=0;L<m.length;L++){var _=m[L],B=0==L?j:P.endTime;S=y+x+L;for(var z=t(_.g),G=z.next();!G.done;G=z.next())"EXT-X-KEY"==(G=G.value).name&&"AES-128"==aq(G,"METHOD")&&(v=br(i,G,r));s.set(S,B),z=fr(i,r.h,_.g,p),!i.m&&i.i.isAutoLowLatencyMode()&&(i.i.enableLowLatencyMode(),i.m=i.i.isLowLatencyMode()),(P=_=hr(i,z,P,_,B,p,r.h,o,v))&&(i.h.hls.ignoreManifestProgramDateTime&&null!=i.O&&S<i.O||D.push(_))}if(i=D.some((function(i){return null!=i.g})))for(r={},o=0;o<D.length;r={Pb:r.Pb,Ob:r.Ob,yc:r.yc,Ta:r.Ta,Nb:r.Nb},o++)if(r.Ta=D[o],null==r.Ta.g)for(r.Ob=0,r.Pb=o,s=function(i){return function(){var r=D[i.Pb];if(r){if(null!=r.g)return r.g+i.Ob;i.Ob-=r.endTime-r.startTime,i.Pb+=1}return null}}(r),r.Nb=0,r.yc=o,p=function(i){return function(){var r=D[i.yc];if(r){if(r!=i.Ta&&(i.Nb+=r.endTime-r.startTime),null!=r.g)return r.g+i.Nb;--i.yc}return null}}(r);null==r.Ta.g;)r.Ta.g=p(),null==r.Ta.g&&(r.Ta.g=s());if(i)for(r=(i=t(D)).next();!r.done;r=i.next())for(r=(o=r.value).g,s=(o=t(o.h)).next();!s.done;s=o.next())(s=s.value).g=r,r+=s.endTime-s.startTime;return D}function Xq(i,r){var o=String(i).replace(/%7B/g,"{").replace(/%7D/g,"}"),s=o.match(/{\$\w*}/g);if(s)for(var p=(s=t(s)).next();!p.done;p=s.next()){var m=(p=p.value).slice(2,p.length-1),v=r.get(m);if(!v)throw new N(2,4,4039,m);o=o.replace(p,v)}return o}function xq(i,r){var o=ef([r],i.h.retryParameters);return i.i.modifyManifestRequest(o,{format:"h"}),cr(i,o,0)}function Cq(i,r){i.l=r,i.j&&i.j.wc(i.l==Eh),i.l!=Eh||i.C.stop()}function cr(i,r,o){if(!i.D)throw new N(2,7,7001);return r=i.i.networkingEngine.request(o,r),$e(i.D,r),r.promise}M("shaka.net.DataUriPlugin",rq),rq.parse=sq,bf("data",sq),(s=uq.prototype).configure=function(i){this.h=i},s.start=function(i,r){var o,s,p=this;return K((function(m){return 1==m.g?(p.i=r,p.m=r.isLowLatencyMode(),u(m,xq(p,i),2)):3!=m.g?(o=m.h,p.M=o.uri,u(m,function yq(i,r,o){var s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe,Ie,_e,Ve,He,pt,_t,Bt,en,nn,sn,ln,cn,dn,fn,hn,gn,mn,vn,kn,jn;return K((function(_n){switch(_n.g){case 1:if(s=nq(i.ca,r,i.M),p=dq(s.g,"EXT-X-DEFINE"),function Iq(i,r){for(var o=t(r),s=o.next();!s.done;s=o.next()){var p=s.value;s=Z(p,"NAME"),p=Z(p,"VALUE"),s&&p&&(i.o.has(s)||i.o.set(s,p))}}(i,p),m=[],v=[],y=[],1==s.type)return ue=i.h.hls.mediaPlaylistFullMimeType,fe=ue.split(";")[0],Ie=fe.split("/")[0],_e=ad(ue),Ve=new Map,u(_n,Jq(i,s,o,o,_e,Ie,"",!0,"Media Playlist",null,Ve,null,!1,!1,fe),8);for(x=dq(s.g,"EXT-X-MEDIA"),S=dq(s.g,"EXT-X-STREAM-INF"),j=dq(s.g,"EXT-X-IMAGE-STREAM-INF"),function Kq(i,r){for(var o=t(r),s=o.next();!s.done;s=o.next()){var p=s.value,m=Z(p,"AUDIO");s=Z(p,"VIDEO");var v=Z(p,"SUBTITLES");if(p=Qq(i,p),v){var y=hc(yn,p);i.s.set(v,y),eb(p,y)}m&&(v=gc("audio",p),i.s.set(m,v)),s&&(m=gc("video",p),i.s.set(s,m))}}(i,S),D=dq(s.g,"EXT-X-SESSION-DATA"),P=t(D),L=P.next();!L.done;L=P.next())_=L.value,B=Z(_,"DATA-ID"),z=Z(_,"URI"),G=Z(_,"LANGUAGE"),Y=Z(_,"VALUE"),$=(new Map).set("id",B),z&&$.set("uri",hq(i.M,z)),G&&$.set("language",G),Y&&$.set("value",Y),re=new R("sessiondata",$),i.i&&i.i.onEvent(re);return u(_n,function Lq(i,r){var o;return K((function(s){return r=r.filter((function(i){var r=Z(i,"URI")||"";return"SUBTITLES"!=Z(i,"TYPE")&&""!=r})),o=r.map((function(r){return Rq(i,r)})),u(s,Promise.all(o),0)}))}(i,x),4);case 4:return function Mq(i,r){for(var o=eq(r,"CLOSED-CAPTIONS"),s=(o=t(o)).next();!s.done;s=o.next()){var p=s.value;s=Wq(p);var m=aq(p,"GROUP-ID");p=aq(p,"INSTREAM-ID"),i.L.get(m)||i.L.set(m,new Map),i.L.get(m).set(p,s)}}(i,x),u(_n,function Nq(i,r){var o,s,p;return K((function(m){return 1==m.g?(o=r.map((function(r){var o,s,p,m,v,y,x,S;return K((function(j){if(1==j.g)return o=Z(r,"FRAME-RATE"),s=Number(Z(r,"AVERAGE-BANDWIDTH"))||Number(aq(r,"BANDWIDTH")),p=Z(r,"RESOLUTION"),m=t(p?p.split("x"):[null,null]),v=m.next().value,y=m.next().value,x=Z(r,"VIDEO-RANGE"),u(j,function Tq(i,r){var o,s,p,m,v,y,x,S,j,D,P,L,_,B;return K((function(z){return 1==z.g?(o=wn,s=Qq(i,r),p=Z(r,"AUDIO"),m=Z(r,"VIDEO"),y=(v=p||m)&&i.u.has(v)?i.u.get(v):[],x={audio:p?y:[],video:m?y:[]},j=!1,D=aq(r,"URI"),P=x.audio.find((function(i){return i&&i.cd==D})),L=hc(o.ra,s),(_=hc(o.cb,s))&&!L?S=o.cb:!y.length&&_&&L?(S=o.ra,s=[[L,_].join()]):x.audio.length&&P?(S=o.cb,j=!0):S=x.video.length?o.cb:o.ra,j?z.A(2):u(z,function Uq(i,r,o,s){var p,m,v,y;return K((function(x){if(1==x.g){if(p=Xq(aq(r,"URI"),i.o),i.g.has(p))return x.return(i.g.get(p));var S=Z(r,"CLOSED-CAPTIONS");return m="video"==s&&S&&"NONE"!=S?i.L.get(S):null,v=gc(s,o),u(x,Yq(i,p,v,s,"und",!1,null,null,m,null,!1,!1),2)}return y=x.h,i.g.has(p)?x.return(i.g.get(p)):(i.g.set(p,y),x.return(y))}))}(i,r,s,S),3)):(2!=z.g&&(B=z.h,x[B.stream.type]=[B]),function Vq(i){for(var r=(i=t(i.audio.concat(i.video))).next();!r.done;r=i.next())if(r=r.value){var o=r.stream.codecs.split(",");o=o.filter((function(i){return"mp4a.40.34"!=i})),r.stream.codecs=o.join(",")}}(x),z.return(x))}))}(i,r),2);S=j.h;for(var D=j.return,P=S.audio,L=S.video,_=t(L),B=_.next();!B.done;B=_.next())(B=B.value.stream)&&(B.width=Number(v)||void 0,B.height=Number(y)||void 0,B.frameRate=Number(o)||void 0,B.hdr=x||void 0);for(_=i.h.disableAudio,P.length&&!_||(P=[null]),_=i.h.disableVideo,L.length&&!_||(L=[null]),_=[],B=(P=t(P)).next();!B.done;B=P.next()){B=B.value;for(var z=t(L),G=z.next();!G.done;G=z.next()){var Y=G.value;G=B?B.stream:null;var $=Y?Y.stream:null,re=B?B.stream.drmInfos:null,ue=Y?Y.stream.drmInfos:null;Y=(Y?Y.cd:"")+" - "+(B?B.cd:""),G&&$&&re.length&&ue.length&&!(0<Sg(re,ue).length)||i.va.has(Y)||(G={id:i.La++,language:G?G.language:"und",primary:!!G&&G.primary||!!$&&$.primary,audio:G,video:$,bandwidth:s,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},_.push(G),i.va.add(Y))}}return D.call(j,_)}))})),u(m,Promise.all(o),2)):(s=m.h,p=(p=s.reduce(bc,[])).filter((function(i){return null!=i})),m.return(p))}))}(i,S),5);case 5:return m=_n.h,u(_n,function Oq(i,r){var o,s,p,m,v,y,x,S,j,D,P;return K((function(L){if(1==L.g)return o=eq(r,"SUBTITLES"),s=o.map((function(r){var o,s;return K((function(p){if(1==p.g)return i.h.disableText?p.return(null):(C(p,2),u(p,Rq(i,r),4));if(2!=p.g)return o=p.h,p.return(o.stream);if(s=F(p),i.h.hls.ignoreTextStreamFailures)return p.return(null);throw s}))})),u(L,Promise.all(s),2);for(p=L.h,m=t(o),v=m.next();!v.done;v=m.next())if(y=v.value,x=aq(y,"GROUP-ID"),(S=i.s.get(x))&&(j=i.u.get(x)))for(D=t(j),P=D.next();!P.done;P=D.next())P.value.stream.codecs=S;return L.return(p.filter((function(i){return i})))}))}(i,x),6);case 6:return v=_n.h,u(_n,function Pq(i,r){var o,s;return K((function(p){return 1==p.g?(o=r.map((function(r){var o,s;return K((function(p){if(1==p.g)return i.h.disableThumbnails?p.return(null):(C(p,2),u(p,function Sq(i,r){var o,s,p,m,v,y,x,S,j,D;return K((function(P){return 1==P.g?(o=Xq(aq(r,"URI"),i.o),s=Z(r,"CODECS","jpeg")||"",i.g.has(o)?P.return(i.g.get(o)):(p=Wq(r),m=Z(r,"NAME"),v=Z(r,"CHARACTERISTICS"),u(P,Yq(i,o,s,"image",p,!1,m,null,null,v,!1,!1),2))):(y=P.h,i.g.has(o)?P.return(i.g.get(o)):((x=Z(r,"RESOLUTION"))&&(S=y.stream.segmentIndex.get(0),(j=S.tilesLayout)&&(y.stream.width=Number(x.split("x")[0])*Number(j.split("x")[0]),y.stream.height=Number(x.split("x")[1])*Number(j.split("x")[1]))),(D=Z(r,"BANDWIDTH"))&&(y.stream.bandwidth=Number(D)),i.g.set(o,y),P.return(y)))}))}(i,r),4));if(2!=p.g)return o=p.h,p.return(o.stream);if(s=F(p),i.h.hls.ignoreImageStreamFailures)return p.return(null);throw s}))})),u(p,Promise.all(o),2)):(s=p.h,p.return(s.filter((function(i){return i}))))}))}(i,j),7);case 7:y=_n.h,_n.A(3);break;case 8:He=_n.h,i.g.set(o,He),m.push({id:0,language:"und",disabledUntilTime:0,primary:!0,audio:"audio"==Ie?He.stream:null,video:"video"==Ie?He.stream:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!i.i)throw new N(2,7,7001);for(i.h.hls.ignoreManifestProgramDateTime?function Fq(i){if(!i.T){for(var r=-1,o=new Map,s=t(i.g.values()),p=s.next();!p.done;p=s.next()){var m=(p=p.value).stream.segmentIndex;if(m&&(m=m.J[0]||null))for(var v=t(p.mc),y=v.next();!y.done;y=v.next()){var x=(y=t(y.value)).next().value;if(y.next().value==m.startTime){o.set(p,x),r=Math.max(r,x);break}}}if(!(0>r)){for(i.O=r,p=(r=t(i.g.values())).next();!p.done;p=r.next())(p=(s=p.value).stream.segmentIndex)&&(m=i.O-o.get(s),p.J.splice(0,m),(p=p.J[0]||null)&&Gq(s,-p.startTime));i.T=!0}}}(i):function Hq(i){if(!i.T){for(var r=1/0,o=t(i.g.values()),s=o.next();!s.done;s=o.next())(s=s.value.stream.segmentIndex)&&(null!=(s=s.J[0]||null)&&null!=s.g&&(r=Math.min(r,s.g)));if(1/0!=r){for(s=(o=t(i.g.values())).next();!s.done;s=o.next()){var p=(s=s.value).stream.segmentIndex;null!=p&&(null==(p=p.J[0]||null).g?Ua("Missing EXT-X-PROGRAM-DATE-TIME for stream",s.cd,"Expect AV sync issues!"):Gq(s,p.g-r-p.startTime))}i.T=!0}}}(i),pt=1/0,_t=t(i.g.values()),Bt=_t.next();!Bt.done;Bt=_t.next())"text"!=(en=Bt.value).stream.type&&(pt=Math.min(pt,en.lc));if(i.l!=Eh?(i.j=new T(0,i.h.defaultPresentationDelay?i.h.defaultPresentationDelay:i.Y?i.Y:3*i.ea),i.j.wc(!1)):(i.j=new T(null,0),i.j.wc(!0)),i.l!=Eh)i.ia=i.F,nn=Dh,i.l==nn.Ue&&(sn=i.j.$c,isNaN(i.h.availabilityWindowOverride)||(sn=i.h.availabilityWindowOverride),i.j.ce(sn));else for(i.j.Ia(pt),ln=t(i.g.values()),Bt=ln.next();!Bt.done;Bt=ln.next())Bt.value.stream.segmentIndex.Xa(0,pt);for(i.G=[],cn=[],dn=t(m),fn=dn.next();!fn.done;fn=dn.next())for(hn=fn.value,gn=t([hn.video,hn.audio]),mn=gn.next();!mn.done;mn=gn.next())(vn=mn.value)&&cn.push(vn);return u(_n,Promise.all(cn.map((function(i){return K((function(r){return u(r,i.createSegmentIndex(),0)}))}))),9);case 9:for(kn=t(cn),mn=kn.next();!mn.done;mn=kn.next())jn=mn.value,i.G.push(jn.segmentIndex.J);Aq(i),i.j.Gd(),i.I={presentationTimeline:i.j,variants:m,textStreams:v,imageStreams:y,offlineSessionIds:[],minBufferTime:0,sequenceMode:!0},i.i.makeTextStreamsForClosedCaptions(i.I),A(_n)}}))}(p,o.data,i),3)):(0<(s=p.ia)&&p.C.P(s),m.return(p.I))}))},s.stop=function(){this.C&&(this.C.stop(),this.C=null);var i=[];return this.D&&(i.push(this.D.destroy()),this.D=null),this.h=this.i=null,this.va.clear(),this.I=null,this.g.clear(),this.u.clear(),this.s.clear(),this.o.clear(),Promise.all(i)},s.update=function(){var i,r,o,s,p,m=this;return K((function(v){if(1==v.g)return m.l==Eh?v.return():(i=[],(r=Array.from(m.g.values())).length?u(v,zq(m,r[0]),2):v.A(2));if(4!=v.g){for(o=1;o<r.length;o++)i.push(zq(m,r[o]));return u(v,Promise.all(i),4)}Aq(m),s=r.some((function(i){return 0==i.ye})),s||(Cq(m,Dh.Ve),p=r.map((function(i){return i.lc})),m.j.Ia(Math.min.apply(Math,ia(p))),m.i.updateDuration()),A(v)}))},s.onExpirationUpdated=function(){},M("shaka.hls.HlsParser",uq);var yh={aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},bh={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},wh={"com.apple.streamingkeydelivery":function(r,o){if("video/mp2t"==o)throw new N(2,4,4040);if(i.shakaMediaKeysPolyfill)throw new N(2,4,4041);return fc("com.apple.fps",[{initDataType:"sinf",initData:new Uint8Array(0)}])},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(i){var r=aq(i,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(r)?(r=fc("com.widevine.alpha",[{initDataType:"cenc",initData:r=Fb((r=tq(r=aq(i,"URI"))).data)}]),(i=Z(i,"KEYID"))&&(r.keyIds=new Set([i.toLowerCase().substr(2)])),r):null},"com.microsoft.playready":function(i){var r=aq(i,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(r)?fc("com.microsoft.playready",[{initDataType:"cenc",initData:i=Nf(i=Fb((i=tq(i=aq(i,"URI"))).data),r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]):null}},Eh="VOD",Mh="EVENT",Nh="LIVE",Dh={Ve:Eh,Bg:Mh,Ue:Nh};function lr(i,r,o,s,p,m){if(200<=o&&299>=o&&202!=o)return{uri:p||s,Fe:s,data:r,status:o,headers:i,fromCache:!!i["x-shaka-from-cache"]};p=null;try{p=Ec(r)}catch(i){}throw new N(401==o||403==o?2:1,1,1001,s,o,p,i,m)}function mr(){}function nr(i,r,o,s,p){var m=new zh;vf(r.headers).forEach((function(i,r){m.append(r,i)}));var v=new Bh,y={ne:!1,Re:!1};if(i=function qr(i,r,o,s,p,m,v){var y,x,S,j,D,P,L,_,B,z,G,Y;return K((function($){switch($.g){case 1:return y=_h,x=qh,P=D=0,L=Date.now(),C($,2),u($,y(i,o),4);case 4:return S=$.h,m(tr(S.headers)),_=S.clone().body.getReader(),z=(B=S.headers.get("Content-Length"))?parseInt(B,10):0,new x({start:function(i){function E(){var r,o;return K((function(s){switch(s.g){case 1:return C(s,2),u(s,_.read(),4);case 4:r=s.h,va(s,3);break;case 2:return F(s),s.return();case 3:if(r.done){s.A(5);break}if(D+=r.value.byteLength,!v){s.A(5);break}return u(s,v(r.value),5);case 5:(100<(o=Date.now())-L||r.done)&&(p(o-L,D-P,z-D),P=D,L=o),r.done?i.close():(i.enqueue(r.value),E()),A(s)}}))}E()}}),u($,S.arrayBuffer(),5);case 5:j=$.h,va($,3);break;case 2:if(G=F($),s.ne)throw new N(1,1,7001,i,r);if(s.Re)throw new N(1,1,1003,i,r);throw new N(1,1,1002,i,G,r);case 3:return Y=tr(S.headers),$.return(lr(Y,j,S.status,i,S.url,r))}}))}(i,o,{body:r.body||void 0,headers:m,method:r.method,signal:v.signal,credentials:r.allowCrossSiteCredentials?"include":void 0},y,s,p,r.streamDataCallback),i=new Ne(i,(function(){return y.ne=!0,v.abort(),Promise.resolve()})),r=r.retryParameters.timeout){var x=new O((function(){y.Re=!0,v.abort()}));x.P(r/1e3),i.finally((function(){x.stop()}))}return i}function tr(i){var r={};return i.forEach((function(i,o){r[o.trim()]=i})),r}function ur(){if(!i.ReadableStream)return!1;try{new ReadableStream({})}catch(i){return!1}return!(!i.fetch||!i.AbortController)}sc("Tizen 3")||sc("Tizen 2")||uc()||(ma.m3u8=function(){return new uq},ga["application/x-mpegurl"]=function(){return new uq},ga["application/vnd.apple.mpegurl"]=function(){return new uq}),M("shaka.net.HttpFetchPlugin",mr),mr.isSupported=ur,mr.parse=nr;var _h=i.fetch,Bh=i.AbortController,qh=i.ReadableStream,zh=i.Headers;function vr(){}function wr(i,r,o,s,p){var m=new Gh,v=Date.now(),y=0;return new Ne(new Promise((function(x,S){m.open(r.method,i,!0),m.responseType="arraybuffer",m.timeout=r.retryParameters.timeout,m.withCredentials=r.allowCrossSiteCredentials,m.onabort=function(){S(new N(1,1,7001,i,o))};var j=!1;for(var D in m.onreadystatechange=function(){if(2==m.readyState&&!j){var i=yr(m);p(i),j=!0}},m.onload=function(){var r=yr(m),s=m.response;try{var p=lr(r,s,m.status,i,m.responseURL,o);x(p)}catch(i){S(i)}},m.onerror=function(r){S(new N(1,1,1002,i,r,o))},m.ontimeout=function(){S(new N(1,1,1003,i,o))},m.onprogress=function(i){var r=Date.now();(100<r-v||i.lengthComputable&&i.loaded==i.total)&&(s(r-v,i.loaded-y,i.total-i.loaded),y=i.loaded,v=r)},r.headers)m.setRequestHeader(D.toLowerCase(),r.headers[D]);m.send(r.body)})),(function(){return m.abort(),Promise.resolve()}))}function yr(i){var r=i.getAllResponseHeaders().trim().split("\r\n");i={};for(var o=(r=t(r)).next();!o.done;o=r.next())i[(o=o.value.split(": "))[0].toLowerCase()]=o.slice(1).join(": ");return i}ur()&&(bf("http",nr,2,!0),bf("https",nr,2,!0),bf("blob",nr,2,!0)),M("shaka.net.HttpXHRPlugin",vr),vr.parse=wr;var Gh=i.XMLHttpRequest;function zr(i,r,o,s){this.g=i,this.i=r,this.groupId=o,this.h=s}function Ar(i){return i.ya().map((function(i){return"{"+encodeURI(i)+"}"})).join("")+":"+i.Ca+":"+i.la}function Br(i,r){return Jj(i.g.ya(),i.g.Ca,i.g.la,r.streaming.retryParameters)}function Cr(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function Dr(i,r){i.i+=r;var o=i.l;return i.l++,i.g.set(o,r),o}function Er(i){var r=this;this.o=i,this.j=new Map,this.i=new mf((function(){return Fr(r).catch((function(){}))})),this.h=[],this.m=function(){},this.l=function(){},this.g=new Cr}function Fr(i){var r=i.h.map((function(i){return i()}));return i.h=[],Promise.all(r)}function Hr(i,r,o,s,p,m){nf(i.i);var v=(i.j.get(r)||Promise.resolve()).then((function(){var r,v,y,x,S,j,D;return K((function(P){if(1==P.g)return u(P,function Ir(i,r){var o,s,p,m;return K((function(v){return 1==v.g?(o=pr,s=i.o.request(o,r),p=function(){return s.abort()},i.h.push(p),u(v,s.promise,2)):(m=v.h,eb(i.h,p),v.return(m.data))}))}(i,o),2);if(r=P.h,i.i.g)throw new N(2,9,7001);if(p)for(x in v=Fb(r),(y=new Mf(v)).data)S=Number(x),j=y.data[S],D=y.g[S],i.l(j,D);i.g.close(s,r.byteLength);var L=i.g;return i.m(0==L.i?0:L.j/L.i,i.g.h),P.return(m(r))}))}));i.j.set(r,v)}function Kr(i,r){var o=this;this.i=i,this.h=i.objectStore(r),this.g=new lc,i.onabort=function(i){i.preventDefault(),o.g.reject()},i.onerror=function(i){i.preventDefault(),o.g.reject()},i.oncomplete=function(){o.g.resolve()}}function Lr(i,r){return new Promise((function(o,s){var p=i.h.openCursor();p.onerror=s,p.onsuccess=function(){var i;return K((function(s){if(1==s.g)return null==p.result?(o(),s.return()):(i=p.result,u(s,r(i.key,i.value,i),2));i.continue(),A(s)}))}}))}function Mr(i){this.h=i,this.g=[]}function Nr(i,r){return Or(i,r,"readwrite")}function Or(i,r,o){var s=new Kr(o=i.h.transaction([r],o),r);return i.g.push(s),s.promise().then((function(){eb(i.g,s)}),(function(){eb(i.g,s)})),s}function Pr(i,r,o){this.h=new Mr(i),this.i=r,this.g=o}function Qr(i){return Promise.reject(new N(2,9,9011,"Cannot add new value to "+i))}function Rr(i,r,o,s){r=(i=Nr(i.h,r)).store();for(var p={},m=(o=t(o)).next();!m.done;p={Bc:p.Bc},m=o.next())p.Bc=m.value,r.delete(p.Bc).onsuccess=function(i){return function(){return s(i.Bc)}}(p);return i.promise()}function Sr(i,r,o){var s,p,m,v,y,x,S;return K((function(j){if(1==j.g){for(s=Or(i.h,r,"readonly"),p=s.store(),m={},v=[],y={},x=t(o),S=x.next();!S.done;y={Tb:y.Tb,Rb:y.Rb},S=x.next())y.Rb=S.value,y.Tb=p.get(y.Rb),y.Tb.onsuccess=function(i){return function(){null==i.Tb.result&&v.push(i.Rb),m[i.Rb]=i.Tb.result}}(y);return u(j,s.promise(),2)}if(v.length)throw new N(2,9,9012,"Could not find values for "+v);return j.return(o.map((function(i){return m[i]})))}))}function Ur(i){this.g=new Mr(i)}function Vr(){this.g=new Map}function Xr(i){var r=null;if(i.g.forEach((function(i,o){i.getCells().forEach((function(i,s){i.hasFixedKeySpace()||r||(r={path:{Aa:o,ka:s},ka:i})}))})),r)return r;throw new N(2,9,9013,"Could not find a cell that supports add-operations")}function Zr(i,r,o){if(!(i=i.g.get(r)))throw new N(2,9,9013,"Could not find mechanism with name "+r);if(!(r=i.getCells().get(o)))throw new N(2,9,9013,"Could not find cell with name "+o);return r}function cs(i,r){Yh.set(i,r)}bf("http",wr,1,!0),bf("https",wr,1,!0),bf("blob",wr,1,!0),Cr.prototype.close=function(i,r){if(this.g.has(i)){var o=this.g.get(i);this.g.delete(i),this.j+=o,this.h+=r}},Er.prototype.destroy=function(){return this.i.destroy()},Kr.prototype.abort=function(){var i=this;return K((function(r){if(1==r.g){try{i.i.abort()}catch(i){}return C(r,2),u(r,i.g,4)}if(2!=r.g)return va(r,0);F(r),A(r)}))},Kr.prototype.store=function(){return this.h},Kr.prototype.promise=function(){return this.g},Mr.prototype.destroy=function(){return Promise.all(this.g.map((function(i){return i.abort()})))},(s=Pr.prototype).destroy=function(){return this.h.destroy()},s.hasFixedKeySpace=function(){return!0},s.addSegments=function(){return Qr(this.i)},s.removeSegments=function(i,r){return Rr(this,this.i,i,r)},s.getSegments=function(i){var r,o=this;return K((function(s){return 1==s.g?u(s,Sr(o,o.i,i),2):(r=s.h,s.return(r.map((function(i){return o.oe(i)}))))}))},s.addManifests=function(){return Qr(this.g)},s.updateManifest=function(){return Promise.reject(new N(2,9,9016,"Cannot modify values in "+this.g))},s.updateManifestExpiration=function(i,r){var o=Nr(this.h,this.g),s=o.store();return s.get(i).onsuccess=function(o){(o=o.target.result)&&(o.expiration=r,s.put(o,i))},o.promise()},s.removeManifests=function(i,r){return Rr(this,this.g,i,r)},s.getManifests=function(i){var r,o=this;return K((function(s){return 1==s.g?u(s,Sr(o,o.g,i),2):(r=s.h,s.return(Promise.all(r.map((function(i){return o.bc(i)})))))}))},s.getAllManifests=function(){var i,r,o=this;return K((function(s){return 1==s.g?(i=Or(o.h,o.g,"readonly"),r=new Map,u(s,Lr(i,(function(i,s){var p;return K((function(m){if(1==m.g)return u(m,o.bc(s),2);p=m.h,r.set(i,p),A(m)}))})),2)):3!=s.g?u(s,i.promise(),3):s.return(r)}))},s.oe=function(i){return i},s.bc=function(i){return Promise.resolve(i)},s.add=function(i,r){var o,s,p,m,v,y,x,S=this;return K((function(j){if(1==j.g){for(o=Nr(S.h,i),s=o.store(),p=[],m={},v=t(r),y=v.next();!y.done;m={Cc:m.Cc},y=v.next())x=y.value,m.Cc=s.add(x),m.Cc.onsuccess=function(i){return function(){p.push(i.Cc.result)}}(m);return u(j,o.promise(),2)}return j.return(p)}))},Ur.prototype.destroy=function(){return this.g.destroy()},Ur.prototype.getAll=function(){var i,r,o=this;return K((function(s){return 1==s.g?(i=Or(o.g,"session-ids","readonly"),r=[],u(s,Lr(i,(function(i,o){r.push(o)})),2)):3!=s.g?u(s,i.promise(),3):s.return(r)}))},Ur.prototype.add=function(i){for(var r=Nr(this.g,"session-ids"),o=r.store(),s=(i=t(i)).next();!s.done;s=i.next())o.add(s.value);return r.promise()},Ur.prototype.remove=function(i){var r,o=this;return K((function(s){return 1==s.g?u(s,Lr(r=Nr(o.g,"session-ids"),(function(r,o,s){i.includes(o.sessionId)&&s.delete()})),2):u(s,r.promise(),0)}))},Vr.prototype.destroy=function(){for(var i=[],r=t(this.g.values()),o=r.next();!o.done;o=r.next())i.push(o.value.destroy());return this.g.clear(),Promise.all(i)},Vr.prototype.init=function(){var i=this;Yh.forEach((function(r,o){var s=r();s&&i.g.set(o,s)}));for(var r=[],o=t(this.g.values()),s=o.next();!s.done;s=o.next())r.push(s.value.init());return Promise.all(r)},M("shaka.offline.StorageMuxer",Vr),Vr.unregister=function(i){Yh.delete(i)},Vr.register=cs,Vr.prototype.destroy=Vr.prototype.destroy;var Yh=new Map;function ds(){Pr.apply(this,arguments)}function es(i,r){!function fs(i){var r=i.streams.filter((function(i){return"audio"==i.contentType}));if(i=i.streams.filter((function(i){return"video"==i.contentType})),!r.every((function(i){return i.variantIds}))||!i.every((function(i){return i.variantIds}))){for(var o=t(r),s=o.next();!s.done;s=o.next())s.value.variantIds=[];for(s=(o=t(i)).next();!s.done;s=o.next())s.value.variantIds=[];if(o=0,i.length&&!r.length){var p=o++,m=t(i);for(s=m.next();!s.done;s=m.next())s.value.variantIds.push(p)}if(!i.length&&r.length)for(p=o++,s=(m=t(r)).next();!s.done;s=m.next())s.value.variantIds.push(p);if(i.length&&r.length)for(s=(r=t(r)).next();!s.done;s=r.next())for(s=s.value,m=(p=t(i)).next();!m.done;m=p.next()){m=m.value;var v=o++;s.variantIds.push(v),m.variantIds.push(v)}}}(i);for(var o=t(i.streams),s=o.next();!s.done;s=o.next());return i.streams.map((function(o){return function gs(i,r,o){var s=i.initSegmentUri?hs(i.initSegmentUri):null,p=r+i.presentationTimeOffset,m=r+o;return{id:i.id,originalId:null,primary:i.primary,type:i.contentType,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:i.kind,language:i.language,label:i.label,width:i.width,height:i.height,initSegmentKey:s,encrypted:i.encrypted,keyIds:new Set([i.keyId]),segments:i.segments.map((function(i){var o=hs(i.uri);return{startTime:r+i.startTime,endTime:r+i.endTime,dataKey:o,initSegmentKey:s,appendWindowStart:r,appendWindowEnd:m,timestampOffset:p,tilesLayout:""}})),variantIds:i.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}(o,i.startTime,r)}))}function hs(i){var r;if((r=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(i))||(r=/^offline:segment\/([0-9]+)$/.exec(i)))return Number(r[1]);throw new N(2,9,9004,"Could not parse uri "+i)}function is(){Pr.apply(this,arguments)}function js(i,r,o){return{id:i.id,originalId:i.originalId,primary:i.primary,type:i.contentType,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,pixelAspectRatio:i.pixelAspectRatio,hdr:void 0,kind:i.kind,language:i.language,label:i.label,width:i.width,height:i.height,encrypted:i.encrypted,keyIds:new Set([i.keyId]),segments:i.segments.map((function(s){return{startTime:r+s.startTime,endTime:r+s.endTime,initSegmentKey:i.initSegmentKey,appendWindowStart:r,appendWindowEnd:o,timestampOffset:r-i.presentationTimeOffset,dataKey:s.dataKey,tilesLayout:""}})),variantIds:i.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function ks(){Pr.apply(this,arguments)}function ls(){this.m=this.j=this.i=this.h=this.g=this.l=null}function ns(i,r,o,s){this.g=i,this.i=r,this.h=o,this.l=s,this.j=["offline:",i,"/",r,"/",o,"/",s].join("")}function os(i){if(null==(i=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(i)))return null;var r=i[1];if("manifest"!=r&&"segment"!=r)return null;var o=i[2];if(!o)return null;var s=i[3];return s&&null!=r?new ns(r,o,s,Number(i[4])):null}function ps(i,r){this.h=i,this.g=r}function qs(i,r){var o=new T(null,0);o.Ia(r.duration);var s=r.streams.filter((function(i){return"audio"==i.type})),p=r.streams.filter((function(i){return"video"==i.type}));s=function rs(i,r,o,s){for(var p=new Set,m=t(r),v=m.next();!v.done;v=m.next()){var y=t(v.value.variantIds);for(v=y.next();!v.done;v=y.next())p.add(v.value)}for(m=t(o),v=m.next();!v.done;v=m.next())for(y=t(v.value.variantIds),v=y.next();!v.done;v=y.next())p.add(v.value);for(m=new Map,p=t(p),v=p.next();!v.done;v=p.next())v=v.value,m.set(v,{id:v,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(r=t(r),p=r.next();!p.done;p=r.next())for(p=p.value,v=ss(i,p,s),y=t(p.variantIds),p=y.next();!p.done;p=y.next())(p=m.get(p.value)).language=v.language,p.primary=p.primary||v.primary,p.audio=v;for(o=t(o),r=o.next();!r.done;r=o.next())for(p=r.value,r=ss(i,p,s),v=t(p.variantIds),p=v.next();!p.done;p=v.next())(p=m.get(p.value)).primary=p.primary||r.primary,p.video=r;return m}(i,s,p,o),p=r.streams.filter((function(i){return i.type==yn})).map((function(r){return ss(i,r,o)}));var m=r.streams.filter((function(i){return"image"==i.type})).map((function(r){return ss(i,r,o)})),v=r.drmInfo?[r.drmInfo]:[];if(r.drmInfo)for(var y=t(s.values()),x=y.next();!x.done;x=y.next())(x=x.value).audio&&x.audio.encrypted&&(x.audio.drmInfos=v),x.video&&x.video.encrypted&&(x.video.drmInfos=v);return{presentationTimeline:o,minBufferTime:2,offlineSessionIds:r.sessionIds,variants:Array.from(s.values()),textStreams:p,imageStreams:m,sequenceMode:r.sequenceMode||!1}}function ss(i,r,o){var s=r.segments.map((function(r){return function ts(i,r){var o=new ns("segment",i.h,i.g,r.dataKey);return new oi(r.startTime,r.endTime,(function(){return[o.toString()]}),0,null,null!=r.initSegmentKey?function us(i,r){var o=new ns("segment",i.h,i.g,r);return new mi((function(){return[o.toString()]}),0,null)}(i,r.initSegmentKey):null,r.timestampOffset,r.appendWindowStart,r.appendWindowEnd,[],r.tilesLayout||"")}(i,r)}));return o.Gb(s),{id:r.id,originalId:r.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new rj(s),mimeType:r.mimeType,codecs:r.codecs,width:r.width||void 0,height:r.height||void 0,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,kind:r.kind,encrypted:r.encrypted,drmInfos:[],keyIds:r.keyIds,language:r.language,label:r.label,type:r.type,primary:r.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout}}function vs(){this.g=null}function ws(){}function xs(i){var r=os(i);return r&&"manifest"==r.g?i=Qe(i={uri:i,Fe:i,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):i=r&&"segment"==r.g?function ys(i,r){var o=new Vr;return Qe(void 0).Z((function(){return o.init()})).Z((function(){return Zr(o,r.Aa(),r.ka())})).Z((function(i){return i.getSegments([r.key()])})).Z((function(i){return{uri:r,data:i[0].data,headers:{}}})).finally((function(){return o.destroy()}))}(r.key(),r):Oe(new N(2,1,9004,i)),i}function zs(i,r,o){var s,p,m,v,y,x;return K((function(S){switch(S.g){case 1:s=[];for(var j=[],D=t(o),P=D.next();!P.done;P=D.next()){P=P.value;for(var L=!1,_=t(j),B=_.next();!B.done;B=_.next())if(As((B=B.value).info,P)){B.sessionIds.push(P.sessionId),L=!0;break}L||j.push({info:P,sessionIds:[P.sessionId]})}p=t(j),m=p.next();case 2:if(m.done){S.A(4);break}return v=m.value,y=function Bs(i,r,o){var s,p;return K((function(m){switch(m.g){case 1:return s=new ig({kb:r,onError:function(){},Xc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),C(m,2),s.configure(i),u(m,function qg(i,r,o,s,p,m){var v=new Map;return(p={audioCapabilities:p,videoCapabilities:m,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:r}).drmInfos=[{keySystem:r,licenseServerUri:o,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:s,serverCertificateUri:"",initData:null,keyIds:null}],v.set(r,p),rg(i,v,[])}(s,o.info.keySystem,o.info.licenseUri,o.info.serverCertificate,o.info.audioCapabilities,o.info.videoCapabilities),4);case 4:va(m,3);break;case 2:return F(m),u(m,s.destroy(),5);case 5:case 9:return m.return([]);case 3:return C(m,6),u(m,Bg(s),8);case 8:va(m,7);break;case 6:return F(m),u(m,s.destroy(),9);case 7:return p=[],u(m,Promise.all(o.sessionIds.map((function(i){return K((function(r){return 1==r.g?(C(r,2),u(r,function Cg(i,r){var o,s,p;return K((function(m){return 1==m.g?u(m,Dg(i,r),2):3!=m.g?(o=m.h)?(s=[],(p=i.i.get(o))&&(p.Ja=new lc,s.push(p.Ja)),s.push(o.remove()),u(m,Promise.all(s),3)):m.return():(i.i.delete(o),void A(m))}))}(s,i),4)):2!=r.g?(p.push(i),va(r,0)):(F(r),void A(r))}))}))),10);case 10:return u(m,s.destroy(),11);case 11:return m.return(p)}}))}(i,r,v),u(S,y,5);case 5:x=S.h,s=s.concat(x),m=p.next(),S.A(2);break;case 4:return S.return(s)}}))}function As(i,r){function c(i,r){return i.robustness==r.robustness&&i.contentType==r.contentType}return i.keySystem==r.keySystem&&i.licenseUri==r.licenseUri&&fb(i.audioCapabilities,r.audioCapabilities,c)&&fb(i.videoCapabilities,r.videoCapabilities,c)}function Es(i,r){var o=qs(new ps(i.Aa(),i.ka()),r),s=r.appMetadata||{};return o=Ds(o),{offlineUri:i.toString(),originalManifestUri:r.originalManifestUri,duration:r.duration,size:r.size,expiration:r.expiration,tracks:o,appMetadata:s,isIncomplete:r.isIncomplete||!1}}function Ds(i){for(var r=[],o=function ke(i){return i.filter((function(i){return je(i)}))}(i.variants),s=(o=t(o)).next();!s.done;s=o.next())r.push(be(s.value));for(o=(i=t(i.textStreams)).next();!o.done;o=i.next())r.push(ce(o.value));return r}function Fs(){this.g={}}function Gs(i,r){var o=r.audio,s=r.video;if(o&&!s&&(i.g[o.id]=o.bandwidth||r.bandwidth),!o&&s&&(i.g[s.id]=s.bandwidth||r.bandwidth),o&&s){var p=o.bandwidth||393216,m=s.bandwidth||r.bandwidth-p;0>=m&&(m=r.bandwidth),i.g[o.id]=p,i.g[s.id]=m}}function Hs(i,r){i.g[r.id]=r.bandwidth||2048}function Is(i,r){var o=i.g[r];return null==o&&(o=0),o}function Js(i){var r=this;if(i&&i.constructor!=U)throw new N(2,9,9008);this.g=this.h=null,i?(this.h=i.h,this.g=i.fc()):(this.h=fl(),this.g=new af),this.i=[],this.j=[];var o=!i;this.l=new mf((function(){var i,s,p,m,v;return K((function(y){switch(y.g){case 1:return u(y,Promise.all(r.j.map((function(i){return Fr(i)}))),2);case 2:for(i=function(){},s=[],p=t(r.i),m=p.next();!m.done;m=p.next())v=m.value,s.push(v.then(i,i));return u(y,Promise.all(s),3);case 3:if(!o){y.A(4);break}return u(y,r.g.destroy(),4);case 4:r.h=null,r.g=null,A(y)}}))}))}function Ks(){if(oc())e:{for(var i=t(Yh.values()),r=i.next();!r.done;r=i.next())if(r=(r=r.value)()){r.destroy(),i=!0;break e}i=!1}else i=!1;return i}function Us(i){var r,o,s;return K((function(p){switch(p.g){case 1:return u(p,(r=new Vr).init(),2);case 2:return u(p,Xr(r),3);case 3:return o=p.h,s=new ns("manifest",o.path.Aa,o.path.ka,i),u(p,r.destroy(),4);case 4:return u(p,(new Js).remove(s.toString()),0)}}))}function Ys(i,r,o,s,p,m){var v,y,x,S,j,D,P,L,_,B,z;return K((function(G){switch(G.g){case 1:for(v=!1,C(G,2),y=!0,x=t(o.streams),S=x.next();!S.done;S=x.next())for(j=S.value,D=t(j.segments),P=D.next();!P.done;P=D.next())L=P.value,null!=(_=L.pendingSegmentRefId?s[L.pendingSegmentRefId]:null)&&(L.dataKey=_,L.pendingSegmentRefId=void 0),null!=(_=L.pendingInitSegmentRefId?s[L.pendingInitSegmentRefId]:null)&&(L.initSegmentKey=_,L.pendingInitSegmentRefId=void 0),L.pendingSegmentRefId&&(y=!1),L.pendingInitSegmentRefId&&(y=!1);return o.size+=p,y&&(o.isIncomplete=!1),u(G,i.updateManifest(r,o),4);case 4:v=!0,m(),va(G,0);break;case 2:return B=F(G),u(G,Us(r),5);case 5:if(v){G.A(6);break}return z=Object.values(s),u(G,i.removeSegments(z,(function(){})),6);case 6:throw B}}))}function Ws(i){return i.variants.some((function(i){var r=i.audio&&i.audio.encrypted;return i.video&&i.video.encrypted||r}))}function Xs(i){return i.variants.some((function(i){return(i.video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]).some((function(i){return i.initData&&i.initData.length}))}))}function ft(i,r){for(var o=[],s=t(i.streams),p=s.next();!p.done;p=s.next())p=p.value,r&&"video"==p.type?o.push({contentType:Xc(p.mimeType,p.codecs),robustness:i.drmInfo.videoRobustness}):r||"audio"!=p.type||o.push({contentType:Xc(p.mimeType,p.codecs),robustness:i.drmInfo.audioRobustness});return o}function dt(i,r,o){return K((function(s){return u(s,function gt(i,r,o,s){var p,m,v;return K((function(y){return 1==y.g?s.drmInfo?(p=function as(i){var r=Array.from(i.g.keys());if(!r.length)throw new N(2,9,9e3,"No supported storage mechanisms found");return i.g.get(r[0]).getEmeSessionCell()}(o),m=s.sessionIds.map((function(i){return{sessionId:i,keySystem:s.drmInfo.keySystem,licenseUri:s.drmInfo.licenseServerUri,serverCertificate:s.drmInfo.serverCertificate,audioCapabilities:ft(s,!1),videoCapabilities:ft(s,!0)}})),u(y,zs(r,i,m),2)):y.return():3!=y.g?(v=y.h,u(y,p.remove(v),3)):u(y,p.add(m.filter((function(i){return!v.includes(i.sessionId)}))),0)}))}(i.g,i.h.drm,o,r),0)}))}function et(i,r,o){function d(){}var s=function ht(i){for(var r=new Set,o=(i=t(i.streams)).next();!o.done;o=i.next())for(var s=(o=t(o.value.segments)).next();!s.done;s=o.next())null!=(s=s.value).initSegmentKey&&r.add(s.initSegmentKey),r.add(s.dataKey);return Array.from(r)}(o);return Es(r,o),Promise.all([i.removeSegments(s,d),i.removeManifests([r.key()],d)])}function lt(i,r,o,s,p,m){var v={id:s.id,originalId:s.originalId,primary:s.primary,type:s.type,mimeType:s.mimeType,codecs:s.codecs,frameRate:s.frameRate,pixelAspectRatio:s.pixelAspectRatio,hdr:s.hdr,kind:s.kind,language:s.language,label:s.label,width:s.width||null,height:s.height||null,encrypted:s.encrypted,keyIds:s.keyIds,segments:[],variantIds:[],roles:s.roles,forced:s.forced,channelsCount:s.channelsCount,audioSamplingRate:s.audioSamplingRate,spatialAudio:s.spatialAudio,closedCaptions:s.closedCaptions,tilesLayout:s.tilesLayout},y=p.offline.numberOfParallelDownloads,x=0;return function mt(i,r,o){if(null!=(r=i.segmentIndex.find(r)))for(var s=i.segmentIndex.get(r);s;)o(s),s=i.segmentIndex.get(++r)}(s,o.presentationTimeline.Pa(),(function(o){var p=Ar(o),S=void 0;if(!m.has(p)){var j=o.endTime-o.startTime;j=Is(r,s.id)*j,j=Dr(i.g,j),m.set(p,new zr(o,j,x,!1))}o.i&&(S=Ar(o.i),m.has(S)||(j=.5*Is(r,s.id),j=Dr(i.g,j),m.set(S,new zr(o.i,j,x,!0)))),v.segments.push({pendingInitSegmentRefId:S,initSegmentKey:S?0:null,startTime:o.startTime,endTime:o.endTime,appendWindowStart:o.appendWindowStart,appendWindowEnd:o.appendWindowEnd,timestampOffset:o.timestampOffset,tilesLayout:o.tilesLayout,pendingSegmentRefId:p,dataKey:0}),x=(x+1)%y})),v}function Ps(i){if(i.l.g)throw new N(2,9,7001)}function Ns(){if(!Ks())throw new N(2,9,9e3)}function bt(i,r){return K((function(o){return 1==o.g?(i.i.push(r),ua(o),u(o,r,4)):2!=o.g?o.return(o.h):(wa(o),eb(i.i,r),xa(o,0))}))}function kt(i){for(var r=new Set,o=t(i.textStreams),s=o.next();!s.done;s=o.next())r.add(s.value);for(s=(o=t(i.imageStreams)).next();!s.done;s=o.next())r.add(s.value);for(o=(i=t(i.variants)).next();!o.done;o=i.next())(o=o.value).audio&&r.add(o.audio),o.video&&r.add(o.video);return r}pa(ds,Pr),ds.prototype.updateManifestExpiration=function(i,r){var o,s,p,m=this;return K((function(v){return o=Nr(m.h,m.g),s=o.store(),p=new lc,s.get(i).onsuccess=function(o){(o=o.target.result)?(o.expiration=r,s.put(o),p.resolve()):p.reject(new N(2,9,9012,"Could not find values for "+i))},u(v,Promise.all([o.promise(),p]),0)}))},ds.prototype.bc=function(i){var r,o,s,p,m,v;return K((function(y){if(1==y.g){for(r=[],o=0;o<i.periods.length;++o)s=o==i.periods.length-1?i.duration:i.periods[o+1].startTime,p=s-i.periods[o].startTime,m=es(i.periods[o],p),r.push(m);return u(y,lp(r),2)}return v=y.h,y.return({creationTime:0,originalManifestUri:i.originalManifestUri,duration:i.duration,size:i.size,expiration:null==i.expiration?1/0:i.expiration,streams:v,sessionIds:i.sessionIds,drmInfo:i.drmInfo,appMetadata:i.appMetadata,sequenceMode:!1})}))},ds.prototype.oe=function(i){return{data:i.data}},pa(is,Pr),is.prototype.bc=function(i){var r,o,s,p,m,v;return K((function(y){if(1==y.g){for(r=[],o=0;o<i.periods.length;++o){s=o==i.periods.length-1?i.duration:i.periods[o+1].startTime,p=s-i.periods[o].startTime;for(var x=i.periods[o],S=[],j=t(x.streams),D=j.next();!D.done;D=j.next())0!=(D=D.value).variantIds.length&&S.push(js(D,x.startTime,x.startTime+p));m=S,r.push(m)}return u(y,lp(r),2)}return v=y.h,y.return({appMetadata:i.appMetadata,creationTime:0,drmInfo:i.drmInfo,duration:i.duration,expiration:null==i.expiration?1/0:i.expiration,originalManifestUri:i.originalManifestUri,sessionIds:i.sessionIds,size:i.size,streams:v,sequenceMode:!1})}))},pa(ks,Pr),(s=ks.prototype).hasFixedKeySpace=function(){return!1},s.addSegments=function(i){return this.add(this.i,i)},s.addManifests=function(i){return this.add(this.g,i)},s.updateManifest=function(i,r){return function Tr(i,r,o){var s=(i=Nr(i.h,i.g)).store();return s.get(r).onsuccess=function(){s.put(o,r)},i.promise()}(this,i,r)},s.bc=function(i){return null==i.expiration&&(i.expiration=1/0),Promise.resolve(i)},(s=ls.prototype).init=function(){var r=this,o=new lc,s=!1,p=new O((function(){s=!0,o.reject(new N(2,9,9017))}));p.P(2);var m=i.indexedDB.open("shaka_offline_db",5);return m.onsuccess=function(){if(!s){var i=m.result;r.l=i;var v=i.objectStoreNames;v=v.contains("manifest")&&v.contains("segment")?new ds(i,"segment","manifest"):null,r.g=v,v=(v=i.objectStoreNames).contains("manifest-v2")&&v.contains("segment-v2")?new is(i,"segment-v2","manifest-v2"):null,r.h=v,v=(v=i.objectStoreNames).contains("manifest-v3")&&v.contains("segment-v3")?new is(i,"segment-v3","manifest-v3"):null,r.i=v,v=(v=i.objectStoreNames).contains("manifest-v5")&&v.contains("segment-v5")?new ks(i,"segment-v5","manifest-v5"):null,r.j=v,i=i.objectStoreNames.contains("session-ids")?new Ur(i):null,r.m=i,p.stop(),o.resolve()}},m.onupgradeneeded=function(){for(var i=m.result,r=t(["segment-v5","manifest-v5","session-ids"]),o=r.next();!o.done;o=r.next())o=o.value,i.objectStoreNames.contains(o)||i.createObjectStore(o,{autoIncrement:!0})},m.onerror=function(i){s||(o.reject(new N(2,9,9001,m.error)),p.stop(),i.preventDefault())},o},s.destroy=function(){var i=this;return K((function(r){switch(r.g){case 1:if(!i.g){r.A(2);break}return u(r,i.g.destroy(),2);case 2:if(!i.h){r.A(4);break}return u(r,i.h.destroy(),4);case 4:if(!i.i){r.A(6);break}return u(r,i.i.destroy(),6);case 6:if(!i.j){r.A(8);break}return u(r,i.j.destroy(),8);case 8:if(!i.m){r.A(10);break}return u(r,i.m.destroy(),10);case 10:i.l&&i.l.close(),A(r)}}))},s.getCells=function(){var i=new Map;return this.g&&i.set("v1",this.g),this.h&&i.set("v2",this.h),this.i&&i.set("v3",this.i),this.j&&i.set("v5",this.j),i},s.getEmeSessionCell=function(){return this.m},s.erase=function(){var r=this;return K((function(o){switch(o.g){case 1:if(!r.g){o.A(2);break}return u(o,r.g.destroy(),2);case 2:if(!r.h){o.A(4);break}return u(o,r.h.destroy(),4);case 4:if(!r.i){o.A(6);break}return u(o,r.i.destroy(),6);case 6:if(!r.j){o.A(8);break}return u(o,r.j.destroy(),8);case 8:return r.l&&r.l.close(),u(o,function ms(){var r=new lc,o=i.indexedDB.deleteDatabase("shaka_offline_db");return o.onblocked=function(){},o.onsuccess=function(){r.resolve()},o.onerror=function(i){r.reject(new N(2,9,9001,o.error)),i.preventDefault()},r}(),10);case 10:return r.l=null,r.g=null,r.h=null,r.i=null,r.j=null,u(o,r.init(),0)}}))},cs("idb",(function(){return sc("CrKey")||rc()||!i.indexedDB?null:new ls})),ns.prototype.Aa=function(){return this.i},ns.prototype.ka=function(){return this.h},ns.prototype.key=function(){return this.l},ns.prototype.toString=function(){return this.j},(s=vs.prototype).configure=function(){},s.start=function(i,r){var o,s,p,m,v,y,x=this;return K((function(S){switch(S.g){case 1:if(o=os(i),x.g=o,null==o||"manifest"!=o.g)throw new N(2,1,9004,i);return s=new Vr,ua(S),u(S,s.init(),4);case 4:return u(S,Zr(s,o.Aa(),o.ka()),5);case 5:return u(S,S.h.getManifests([o.key()]),6);case 6:return p=S.h,m=p[0],v=new ps(o.Aa(),o.ka()),y=qs(v,m),r.makeTextStreamsForClosedCaptions(y),S.return(y);case 2:return wa(S),u(S,s.destroy(),7);case 7:xa(S,0)}}))},s.stop=function(){return Promise.resolve()},s.update=function(){},s.onExpirationUpdated=function(i,r){var o,s,p,m,v,y,x,S=this;return K((function(j){switch(j.g){case 1:return o=S.g,s=new Vr,C(j,2,3),u(j,s.init(),5);case 5:return u(j,Zr(s,o.Aa(),o.ka()),6);case 6:return u(j,(p=j.h).getManifests([o.key()]),7);case 7:if(m=j.h,v=m[0],y=v.sessionIds.includes(i),x=null==v.expiration||v.expiration>r,!y||!x){j.A(3);break}return u(j,p.updateManifestExpiration(o.key(),r),3);case 3:return wa(j),u(j,s.destroy(),10);case 10:xa(j,0);break;case 2:F(j),j.A(3)}}))},ga["application/x-offline-manifest"]=function(){return new vs},M("shaka.offline.OfflineScheme",ws),ws.plugin=xs,bf("offline",xs),(s=Js.prototype).destroy=function(){return this.l.destroy()},s.configure=function(i,r){return 2==arguments.length&&"string"==typeof i&&(i=cl(i,r)),hl(this.h,i)},s.getConfiguration=function(){var i=fl();return hl(i,this.h,fl()),i},s.fc=function(){return this.g},s.store=function(i,r,o){var s=this,p=this.getConfiguration(),m=new Er(this.g);return this.j.push(m),r=function Ls(i,r,o,s,p,m){var v,y,x,S,j,D,P,L,_,B,z,G,Y;return K((function($){switch($.g){case 1:return Ns(),y=v=null,x=new Vr,D=j=S=null,C($,2,3),u($,s(),5);case 5:return v=$.h,u($,function Os(i,r,o,s){var p,m,v,y,x;return K((function(S){if(1==S.g)return p=null,m=i.g,v={networkingEngine:m,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(i){p=i},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){},updateDuration:function(){}},o.configure(s.manifest),Ps(i),u(S,o.start(r,v),2);if(3!=S.g)return y=S.h,Ps(i),x=kt(y),u(S,Promise.all(tf(x,(function(i){return i.createSegmentIndex()}))),3);if(Ps(i),p)throw p;return S.return(y)}))}(i,r,v,p),6);case 6:if(P=$.h,Ps(i),!(!P.presentationTimeline.V()&&!P.presentationTimeline.jb()))throw new N(2,9,9005,r);return u($,function Qs(i,r,o,s){var p;return K((function(m){switch(m.g){case 1:return(p=new ig({kb:i.g,onError:o,Xc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(s.drm),u(m,function ng(i,r,o){return i.ha=!0,i.C=[],i.M=o,og(i,r)}(p,r.variants,s.offline.usePersistentLicense),2);case 2:return u(m,Bg(p),3);case 3:return u(m,Ag(p),4);case 4:return m.return(p)}}))}(i,P,(function(i){D=D||i}),p),7);case 7:if(y=$.h,Ps(i),D)throw D;return u($,function Rs(i,r){var o,s,p,m,v,y,x,S,j,D,P,L,_,B,z,G,Y,$,re,ue,fe,Ie,_e,Ve,He,pt,_t,Bt;return K((function(en){switch(en.g){case 1:return o={width:1/0,height:1/0},function Ld(i,r,o){i.variants=i.variants.filter((function(i){return Md(i,r,o)}))}(i,r.restrictions,o),u(en,Pd(i,r.offline.usePersistentLicense),2);case 2:for(s=[],p=r.preferredAudioChannelCount,m=r.preferredDecodingAttributes,v=r.preferredVideoCodecs,y=r.preferredAudioCodecs,zd(i,v,y,p,m),x=t(i.variants),S=x.next();!S.done;S=x.next())j=S.value,s.push(be(j));for(D=t(i.textStreams),P=D.next();!P.done;P=D.next())L=P.value,s.push(ce(L));for(_=t(i.imageStreams),B=_.next();!B.done;B=_.next())z=B.value,s.push(de(z));return u(en,r.offline.trackSelectionCallback(s),3);case 3:for(G=en.h,Y=i.presentationTimeline.getDuration(),$=0,re=t(G),ue=re.next();!ue.done;ue=re.next())fe=ue.value,Ie=fe.bandwidth*Y/8,$+=Ie;return C(en,4),u(en,r.offline.downloadSizeCallback($),6);case 6:if(!en.h)throw new N(2,9,9014);va(en,5);break;case 4:if((_e=F(en))instanceof N)throw _e;throw new N(2,9,9015);case 5:for(Ve=new Set,He=new Set,pt=new Set,_t=t(G),ue=_t.next();!ue.done;ue=_t.next())"variant"==(Bt=ue.value).type&&Ve.add(Bt.id),"text"==Bt.type&&He.add(Bt.id),"image"==Bt.type&&pt.add(Bt.id);i.variants=i.variants.filter((function(i){return Ve.has(i.id)})),i.textStreams=i.textStreams.filter((function(i){return He.has(i.id)})),i.imageStreams=i.imageStreams.filter((function(i){return pt.has(i.id)})),function Zs(i){i.variants.map((function(i){return i.video}));var r=new Set(i.variants.map((function(i){return i.audio})));i=i.textStreams;for(var o=t(r),s=o.next();!s.done;s=o.next())for(var p=(s=t(r)).next();!p.done;p=s.next());for(r=t(i),o=r.next();!o.done;o=r.next())for(o=t(i),s=o.next();!s.done;s=o.next());}(i),A(en)}}))}(P,p),8);case 8:return u($,x.init(),9);case 9:return Ps(i),u($,Xr(x),10);case 10:return S=$.h,Ps(i),L=function Ss(i,r,o,s,p,m){var v=function Cs(i,r,o){return{offlineUri:null,originalManifestUri:i,duration:r.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:r=Ds(r),appMetadata:o,isIncomplete:!1}}(o,r,s),y=p.offline.progressCallback;!function Gr(i,r,o){i.m=r,i.l=o}(m,(function(i,r){v.size=r,y(v,i)}),(function(r,o){x&&p.offline.usePersistentLicense&&S==o&&yg(i,"cenc",r)}));var x=Ws(r)&&!Xs(r),S=null;x&&(S=Zh.get(i.g.keySystem));for(var j=new Fs,D=t(r.textStreams),P=D.next();!P.done;P=D.next())j.g[P.value.id]=52;for(D=t(r.imageStreams),P=D.next();!P.done;P=D.next())Hs(j,P.value);for(P=t(r.variants),D=P.next();!D.done;D=P.next())Gs(j,D.value);return j=function at(i,r,o,s){for(var p=new Map,m=kt(o),v=new Map,y=(m=t(m)).next();!y.done;y=m.next()){var x=lt(i,r,o,y=y.value,s,p);v.set(y.id,x)}for(i=t(o.variants),r=i.next();!r.done;r=i.next())(r=r.value).audio&&v.get(r.audio.id).variantIds.push(r.id),r.video&&v.get(r.video.id).variantIds.push(r.id);return{streams:Array.from(v.values()),ee:Array.from(p.values())}}(m,j,r,p),m=j.streams,j=j.ee,P=i.g,D=p.offline.usePersistentLicense,P&&D&&(P.initData=[]),{Nf:{creationTime:Date.now(),originalManifestUri:o,duration:r.presentationTimeline.getDuration(),size:0,expiration:i.ec(),streams:m,sessionIds:D?Hg(i):[],drmInfo:P,appMetadata:s,isIncomplete:!0,sequenceMode:r.sequenceMode},ee:j}}(y,P,r,o,p,m),_=L.Nf,B=L.ee,u($,S.ka.addManifests([_]),11);case 11:if(z=$.h,Ps(i),j=z[0],Ps(i),D)throw D;return u($,function Ts(i,r,o,s,p,m,v,y,x){var S,j,D,P,L,_,B,z,G,Y;return K((function($){switch($.g){case 1:if(S={},j=0,D=function(r,D){var P,L,_,B,z,G,Y;return K((function($){if(1==$.g){for(P={},L=t(r),_=L.next();!_.done;P={bb:P.bb},_=L.next())P.bb=_.value,B=Br(P.bb,m),z=P.bb.i,G=P.bb.h,Y=function(r){return function(o){var s,p,m;return K((function(y){if(1==y.g)return u(y,v.addSegments([{data:o}]),2);s=y.h,Ps(i),p=r.bb.g,m=Ar(p),S[m]=s[0],j+=o.byteLength,A(y)}))}}(P),Hr(p,P.bb.groupId,B,z,G,Y);return u($,function Jr(i){return K((function(r){return 1==r.g?u(r,Promise.all(i.j.values()),2):r.return(i.g.h)}))}(p),2)}return D?(Ps(i),function Vs(i,r,o,s){if(r.expiration=o.ec(),o=Hg(o),r.sessionIds=s.offline.usePersistentLicense?o:[],Ws(i)&&s.offline.usePersistentLicense&&!o.length)throw new N(2,9,9007)}(y,s,x,m),u($,v.updateManifest(o,s),0)):$.A(0)}))},P=!1,C($,2),!Ws(y)||!P||Xs(y)){$.A(4);break}return u($,D(r.filter((function(i){return i.h})),!0),5);case 5:return Ps(i),r=r.filter((function(i){return!i.h})),L=S,_=j,S={},j=0,u($,Ys(v,o,s,L,_,(function(){return Ps(i)})),6);case 6:Ps(i);case 4:if(P){$.A(7);break}return u($,D(r,!1),8);case 8:return Ps(i),B=S,z=j,S={},j=0,u($,Ys(v,o,s,B,z,(function(){return Ps(i)})),9);case 9:Ps(i);case 7:va($,0);break;case 2:return G=F($),Y=Object.values(S),u($,v.removeSegments(Y,(function(){})),10);case 10:throw G}}))}(i,B,j,_,m,p,S.ka,P,y),12);case 12:return Ps(i),G=new ns("manifest",S.path.Aa,S.path.ka,j),$.return(Es(G,_));case 3:return wa($),u($,x.destroy(),13);case 13:if(!v){$.A(14);break}return u($,v.stop(),14);case 14:if(!y){$.A(16);break}return u($,y.destroy(),16);case 16:xa($,0);break;case 2:if(Y=F($),null==j){$.A(18);break}return u($,Us(j),18);case 18:throw D||Y}}))}(this,i,r||{},(function(){var r;return K((function(m){return 1==m.g?u(m,Vg(i,s.g,p.manifest.retryParameters,o||null),2):(r=m.h,m.return(r()))}))}),p,m),(r=new Ne(r,(function(){return Fr(m)}))).finally((function(){eb(s.j,m)})),function Ms(i,r){var o=r.promise;return i.i.push(o),r.finally((function(){eb(i.i,o)}))}(this,r)},s.remove=function(i){return bt(this,function ct(i,r){var o,s,p,m,v,y;return K((function(x){switch(x.g){case 1:if(Ns(),null==(o=os(r))||"manifest"!=o.g)throw new N(2,9,9004,r);return s=o,p=new Vr,ua(x),u(x,p.init(),4);case 4:return u(x,Zr(p,s.Aa(),s.ka()),5);case 5:return u(x,(m=x.h).getManifests([s.key()]),6);case 6:return v=x.h,y=v[0],u(x,Promise.all([dt(i,y,p),et(m,s,y)]),2);case 2:return wa(x),u(x,p.destroy(),8);case 8:xa(x,0)}}))}(this,i))},s.ag=function(){return bt(this,function it(i){var r,o,s,p,m,v,y,x,S,j;return K((function(D){switch(D.g){case 1:return Ns(),r=i.g,o=i.h.drm,s=new Vr,p=!1,ua(D),u(D,s.init(),4);case 4:m=[],function $r(i,r){i.g.forEach((function(i){r(i.getEmeSessionCell())}))}(s,(function(i){return m.push(i)})),v=t(m),y=v.next();case 5:if(y.done){D.A(2);break}return u(D,(x=y.value).getAll(),8);case 8:return S=D.h,u(D,zs(o,r,S),9);case 9:return j=D.h,u(D,x.remove(j),10);case 10:j.length!=S.length&&(p=!0),y=v.next(),D.A(5);break;case 2:return wa(D),u(D,s.destroy(),11);case 11:xa(D,3);break;case 3:return D.return(!p)}}))}(this))},s.list=function(){return bt(this,function jt(){var i,r,o;return K((function(s){switch(s.g){case 1:return Ns(),i=[],r=new Vr,ua(s),u(s,r.init(),4);case 4:return o=Promise.resolve(),function Yr(i,r){i.g.forEach((function(i,o){i.getCells().forEach((function(i,s){r({Aa:o,ka:s},i)}))}))}(r,(function(r,s){o=o.then((function(){return K((function(o){if(1==o.g)return u(o,s.getAllManifests(),2);o.h.forEach((function(o,s){var p=Es(new ns("manifest",r.Aa,r.ka,s),o);i.push(p)})),A(o)}))}))})),u(s,o,2);case 2:return wa(s),u(s,r.destroy(),6);case 6:xa(s,3);break;case 3:return s.return(i)}}))}())},M("shaka.offline.Storage",Js),Js.deleteAll=function(){var i;return K((function(r){return 1==r.g?(i=new Vr,ua(r),u(r,function bs(i){var r,o;return K((function(s){return 1==s.g?(r=Array.from(i.g.values()),(o=0<r.length)||Yh.forEach((function(i){(i=i())&&r.push(i)})),u(s,Promise.all(r.map((function(i){return i.erase()}))),2)):o?s.A(0):u(s,Promise.all(r.map((function(i){return i.destroy()}))),0)}))}(i),2)):5!=r.g?(wa(r),u(r,i.destroy(),5)):xa(r,0)}))},Js.prototype.list=Js.prototype.list,Js.prototype.removeEmeSessions=Js.prototype.ag,Js.prototype.remove=Js.prototype.remove,Js.prototype.store=Js.prototype.store,Js.prototype.getNetworkingEngine=Js.prototype.fc,Js.prototype.getConfiguration=Js.prototype.getConfiguration,Js.prototype.configure=Js.prototype.configure,Js.prototype.destroy=Js.prototype.destroy,Js.support=Ks;var Zh=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function nt(){}function ot(i,r){for(var o={priority:r||0,Ze:i},s=0;s<Cp.length;s++)if(Cp[s].priority<o.priority)return void Cp.splice(s,0,o);Cp.push(o)}Fc.offline=Ks,M("shaka.polyfill",nt),nt.register=ot,nt.installAll=function(){for(var i=t(Cp),r=i.next();!r.done;r=i.next()){r=r.value;try{r.Ze()}catch(i){Va("Error installing polyfill!",i)}}};var Cp=[];function qt(){}function rt(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var i=t(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),r=i.next();!r.done;r=i.next())st(r.value)}function st(i){var r="aria-"+i.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,i,{get:function(){return this.getAttribute(r)},set:function(i){null==i||null==i?this.removeAttribute(r):this.setAttribute(r,i)}})}function tt(){}function ut(){vt()}function wt(){}function xt(){if(i.Document){var r=Element.prototype;r.requestFullscreen=r.requestFullscreen||r.mozRequestFullScreen||r.msRequestFullscreen||r.webkitRequestFullscreen,(r=Document.prototype).exitFullscreen=r.exitFullscreen||r.mozCancelFullScreen||r.msExitFullscreen||r.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",yt),document.addEventListener("webkitfullscreenerror",yt),document.addEventListener("mozfullscreenchange",yt),document.addEventListener("mozfullscreenerror",yt),document.addEventListener("MSFullscreenChange",yt),document.addEventListener("MSFullscreenError",yt)}}function yt(i){var r=i.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),o=document.createEvent("Event");o.initEvent(r,i.bubbles,i.cancelable),i.target.dispatchEvent(o)}function zt(){}function At(){var i=!0;(vc()||sc("PlayStation 5")||wc()||sc("Web0S")||tc()||sc("CrKey")||sc("PC=EOS"))&&(i=!1),i&&navigator.mediaCapabilities||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Dp=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Ct)}function Ct(i){var r,o,s,p,m,v,y,x,S,j,D,P;return K((function(L){switch(L.g){case 1:if(r={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:i},!i)return L.return(r);if("media-source"==i.type){if(!oc()||i.video&&(o=i.video.contentType,!MediaSource.isTypeSupported(o))||i.audio&&(s=i.audio.contentType,!MediaSource.isTypeSupported(s)))return L.return(r)}else{if("file"!=i.type)return L.return(r);if(i.video&&(p=i.video.contentType,!pc(p))||i.audio&&(m=i.audio.contentType,!pc(m)))return L.return(r)}return i.keySystemConfiguration?(v=i.keySystemConfiguration,y=[],x=[],v.audio&&(S={robustness:v.audio.robustness||"",contentType:i.audio.contentType},y.push(S)),v.video&&(j={robustness:v.video.robustness||"",contentType:i.video.contentType},x.push(j)),D={initDataTypes:[v.initDataType],distinctiveIdentifier:v.distinctiveIdentifier,persistentState:v.persistentState,sessionTypes:v.sessionTypes},y.length&&(D.audioCapabilities=y),x.length&&(D.videoCapabilities=x),C(L,3),u(L,navigator.requestMediaKeySystemAccess(v.keySystem,[D]),5)):(r.supported=!0,L.return(Promise.resolve(r)));case 5:P=L.h,va(L,4);break;case 3:F(L);case 4:P&&(r.supported=!0,r.keySystemAccess=P);case 2:return L.return(r)}}))}nt.Aria=qt,qt.install=rt,ot(rt),nt.EncryptionScheme=tt,tt.install=ut,ot(ut,-2),nt.Fullscreen=wt,wt.install=xt,ot(xt),nt.MediaCapabilities=zt,zt.install=At;var Dp=null;function Dt(){}function Et(){var r=xc();i.MediaSource&&(i.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function Ft(){var i=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(r){var o=r.split(/ *; */);return o.shift(),o.some((function(i){return i.startsWith("codecs=")}))?cast.__platform__.canDisplayType(r):i(r)}}():r?12>=r?(Gt(),function Ht(){var i=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(r,o){return i.call(this,r,o-.001)}}()):Gt():(sc("Tizen 2")||sc("Tizen 3")||sc("Tizen 4"))&&function It(){var i=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(r){return"opus"!=$c(r)[0]&&i(r)}}()),i.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function Jt(){var i=MediaSource.isTypeSupported;sc("Web0S")||(MediaSource.isTypeSupported=function(r){var o=r.split(/ *; */),s=o.findIndex((function(i){return i.startsWith("codecs=")}));if(0>s)return i(r);var p=o[s].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),m=p.findIndex((function(i){return i.startsWith("vp09")}));return 0<=m&&(p[m]="vp9",o[s]='codecs="'+p.join(",")+'"',r=o.join("; ")),i(r)})}()}function Gt(){var i=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var r=i.apply(this,Ia.apply(0,arguments));return r.abort=function(){},r}}function Kt(){}function Lt(){screen.orientation||null!=i.orientation&&function Mt(){function a(){switch(i.orientation){case-90:r.type="landscape-secondary",r.angle=270;break;case 0:r.type="portrait-primary",r.angle=0;break;case 90:r.type="landscape-primary",r.angle=90;break;case 180:r.type="portrait-secondary",r.angle=180}}var r=new Nt;screen.orientation=r,a(),i.addEventListener("orientationchange",(function(){a();var i=new R("change");r.dispatchEvent(i)}))}()}function Nt(){We.call(this),this.type="",this.angle=0}function Ot(){}function Pt(i,r){try{var o=new Qt(i,r);return Promise.resolve(o)}catch(i){return Promise.reject(i)}}function Rt(i){var r=this.mediaKeys;return r&&r!=i&&St(r,null),delete this.mediaKeys,(this.mediaKeys=i)?St(i,this):Promise.resolve()}function Tt(i){if(Ib(i=Fb(i.initData)).getUint32(0,!0)+4!=i.byteLength)throw new RangeError("Malformed FairPlay init data");i=Ic(i=Cc(i.subarray(4),!0));var r=new Event("encrypted");r.initDataType="skd",r.initData=Gb(i),this.dispatchEvent(r)}function Qt(i,r){if(this.keySystem=i,i.startsWith("com.apple.fps"))for(var o=t(r),s=o.next();!s.done;s=o.next()){var p=s.value;if("required"==p.persistentState)s=null;else{s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:p.initDataTypes,sessionTypes:["temporary"],label:p.label};var m=!1,v=!1;if(p.audioCapabilities)for(var y=t(p.audioCapabilities),x=y.next();!x.done;x=y.next())(x=x.value).contentType&&(m=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,x.contentType.split(";")[0])&&(s.audioCapabilities.push(x),v=!0));if(p.videoCapabilities)for(x=(p=t(p.videoCapabilities)).next();!x.done;x=p.next())(y=x.value).contentType&&(m=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,y.contentType.split(";")[0])&&(s.videoCapabilities.push(y),v=!0));m||(v=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),s=v?s:null}if(s)return void(this.g=s)}throw(o=Error("Unsupported keySystem")).name="NotSupportedError",o.code=DOMException.NOT_SUPPORTED_ERR,o}function Ut(i){this.h=new WebKitMediaKeys(i),this.g=new of}function St(i,r){if(i.g.mb(),!r)return Promise.resolve();i.g.B(r,"webkitneedkey",Tt);try{return bj(r,HTMLMediaElement.HAVE_METADATA,i.g,(function(){r.webkitSetMediaKeys(i.h)})),Promise.resolve()}catch(i){return Promise.reject(i)}}function Vt(i){We.call(this),this.i=null,this.l=i,this.g=this.h=null,this.j=new of,this.sessionId="",this.expiration=NaN,this.closed=new lc,this.keyStatuses=new Wt}function Xt(i,r){var o=i.keyStatuses;o.size=null==r?0:1,o.g=r,o=new R("keystatuseschange"),i.dispatchEvent(o)}function Wt(){this.size=0,this.g=void 0}function Yt(){}function Zt(){!i.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=$t,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=au,i.MediaKeys=bu,i.MediaKeySystemAccess=cu,i.shakaMediaKeysPolyfill=!0)}function $t(){return Promise.reject(Error("The key system specified is not supported."))}function au(i){return null==i?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function bu(){throw new TypeError("Illegal constructor.")}function cu(){throw this.keySystem="",new TypeError("Illegal constructor.")}function du(){}function eu(){if(!(!i.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)_p="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=gu,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=hu,i.MediaKeys=iu,i.MediaKeySystemAccess=ju,i.shakaMediaKeysPolyfill=!0}}function ku(i){return _p?_p+i.charAt(0).toUpperCase()+i.slice(1):i}function gu(i,r){try{var o=new ju(i,r);return Promise.resolve(o)}catch(i){return Promise.reject(i)}}function hu(i){var r=this.mediaKeys;return r&&r!=i&&lu(r,null),delete this.mediaKeys,(this.mediaKeys=i)&&lu(i,this),Promise.resolve()}function ju(i,r){this.g=this.keySystem=i;var o=!1;"org.w3.clearkey"==i&&(this.g="webkit-org.w3.clearkey",o=!1);var s=!1,p=document.getElementsByTagName("video");p=p.length?p[0]:document.createElement("video");for(var m=t(r),v=m.next();!v.done;v=m.next()){var y={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(v=v.value).initDataTypes,sessionTypes:["temporary"],label:v.label},x=!1;if(v.audioCapabilities)for(var S=t(v.audioCapabilities),j=S.next();!j.done;j=S.next())(j=j.value).contentType&&(x=!0,p.canPlayType(j.contentType.split(";")[0],this.g)&&(y.audioCapabilities.push(j),s=!0));if(v.videoCapabilities)for(j=(S=t(v.videoCapabilities)).next();!j.done;j=S.next())(j=j.value).contentType&&(x=!0,p.canPlayType(j.contentType,this.g)&&(y.videoCapabilities.push(j),s=!0));if(x||(s=p.canPlayType("video/mp4",this.g)||p.canPlayType("video/webm",this.g)),"required"==v.persistentState&&(o?(y.persistentState="required",y.sessionTypes=["persistent-license"]):s=!1),s)return void(this.h=y)}throw o="Unsupported keySystem","org.w3.clearkey"!=i&&"com.widevine.alpha"!=i||(o="None of the requested configurations were supported."),(o=Error(o)).name="NotSupportedError",o.code=DOMException.NOT_SUPPORTED_ERR,o}function iu(i){this.l=i,this.h=null,this.g=new of,this.i=[],this.j=new Map}function lu(i,r){i.h=r,i.g.mb();var o=_p;r&&(i.g.B(r,o+"needkey",(function(r){var o=new CustomEvent("encrypted");o.initDataType="cenc",o.initData=Gb(r.initData),i.h.dispatchEvent(o)})),i.g.B(r,o+"keymessage",(function(r){var o=mu(i,r.sessionId);o&&(r=new R("message",r=(new Map).set("messageType",null==o.keyStatuses.Cb()?"licenserequest":"licenserenewal").set("message",r.message)),o.h&&(o.h.resolve(),o.h=null),o.dispatchEvent(r))})),i.g.B(r,o+"keyadded",(function(r){(r=mu(i,r.sessionId))&&(nu(r,"usable"),r.g&&r.g.resolve(),r.g=null)})),i.g.B(r,o+"keyerror",(function(r){var o=mu(i,r.sessionId);o&&o.handleError(r)})))}function mu(i,r){var o=i.j.get(r);return o||((o=i.i.shift())?(o.sessionId=r,i.j.set(r,o),o):null)}function ou(i,r,o){We.call(this),this.j=i,this.m=!1,this.g=this.h=null,this.i=r,this.l=o,this.sessionId="",this.expiration=NaN,this.closed=new lc,this.keyStatuses=new pu}function qu(i,r,o){if(i.m)return Promise.reject(Error("The session is already initialized."));i.m=!0;try{if("persistent-license"==i.l)if(o)var s=Fb(Ic("LOAD_SESSION|"+o));else{var p=Ic("PERSISTENT|");s=Qc(p,r)}else s=Fb(r)}catch(i){return Promise.reject(i)}i.h=new lc;var m=ku("generateKeyRequest");try{i.j[m](i.i,s)}catch(r){if("InvalidStateError"!=r.name)return i.h=null,Promise.reject(r);new O((function(){try{i.j[m](i.i,s)}catch(r){i.h.reject(r),i.h=null}})).P(.01)}return i.h}function ru(i,r,o){if(i.g)i.g.then((function(){return ru(i,r,o)})).catch((function(){return ru(i,r,o)}));else{if(i.g=r,"webkit-org.w3.clearkey"==i.i){var s=Bc(o),p=JSON.parse(s);"oct"!=p.keys[0].kty&&(i.g.reject(Error("Response is not a valid JSON Web Key Set.")),i.g=null),s=Nc(p.keys[0].k),p=Nc(p.keys[0].kid)}else s=Fb(o),p=null;var m=ku("addKey");try{i.j[m](i.i,s,p,i.sessionId)}catch(r){i.g.reject(r),i.g=null}}}function nu(i,r){var o=i.keyStatuses;o.size=null==r?0:1,o.g=r,o=new R("keystatuseschange"),i.dispatchEvent(o)}function pu(){this.size=0,this.g=void 0}zt.originalMcap=Dp,ot(At,-1),nt.MediaSource=Dt,Dt.install=Et,ot(Et),nt.Orientation=Kt,Kt.install=Lt,pa(Nt,We),Nt.prototype.lock=function(i){function b(i){return screen.lockOrientation?screen.lockOrientation(i):screen.mozLockOrientation?screen.mozLockOrientation(i):!!screen.msLockOrientation&&screen.msLockOrientation(i)}var r=!1;switch(i){case"natural":r=b("default");break;case"any":r=!0,this.unlock();break;default:r=b(i)}return r?Promise.resolve():((i=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",i.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(i))},Nt.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},ot(Lt),nt.PatchedMediaKeysApple=Ot,Ot.install=function(){i.HTMLVideoElement&&i.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Rt,i.MediaKeys=Ut,i.MediaKeySystemAccess=Qt,navigator.requestMediaKeySystemAccess=Pt,i.shakaMediaKeysPolyfill=!0)},Qt.prototype.createMediaKeys=function(){var i=new Ut(this.keySystem);return Promise.resolve(i)},Qt.prototype.getConfiguration=function(){return this.g},Ut.prototype.createSession=function(i){if("temporary"!=(i=i||"temporary"))throw new TypeError("Session type "+i+" is unsupported on this platform.");return new Vt(this.h,i)},Ut.prototype.setServerCertificate=function(){return Promise.resolve(!1)},pa(Vt,We),(s=Vt.prototype).generateRequest=function(i,r){var o=this;this.h=new lc;try{var s=this.l.createSession("video/mp4",Fb(r));this.i=s,this.sessionId=s.sessionId||"",this.j.B(this.i,"webkitkeymessage",(function(i){o.h&&(o.h.resolve(),o.h=null),i=new R("message",i=(new Map).set("messageType",null==o.keyStatuses.Cb()?"license-request":"license-renewal").set("message",Gb(i.message))),o.dispatchEvent(i)})),this.j.B(s,"webkitkeyadded",(function(){o.g&&(Xt(o,"usable"),o.g.resolve(),o.g=null)})),this.j.B(s,"webkitkeyerror",(function(){var i=Error("EME PatchedMediaKeysApple key error");if(i.errorCode=o.i.error,null!=o.h)o.h.reject(i),o.h=null;else if(null!=o.g)o.g.reject(i),o.g=null;else switch(o.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Xt(o,"output-not-allowed");break;default:Xt(o,"internal-error")}})),Xt(this,"status-pending")}catch(i){this.h.reject(i)}return this.h},s.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},s.update=function(i){this.g=new lc;try{this.i.update(Fb(i))}catch(i){this.g.reject(i)}return this.g},s.close=function(){try{this.i.close(),this.closed.resolve(),this.j.mb()}catch(i){this.closed.reject(i)}return this.closed},s.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(s=Wt.prototype).Cb=function(){return this.g},s.forEach=function(i){this.g&&i(this.g,da.value())},s.get=function(i){if(this.has(i))return this.g},s.has=function(i){var r=da.value();return!(!this.g||!Db(i,r))},s.entries=function(){},s.keys=function(){},s.values=function(){},nt.PatchedMediaKeysNop=Yt,Yt.install=Zt,bu.prototype.createSession=function(){},bu.prototype.setServerCertificate=function(){},cu.prototype.getConfiguration=function(){},cu.prototype.createMediaKeys=function(){},ot(Zt,-10),nt.PatchedMediaKeysWebkit=du,du.install=eu,ju.prototype.createMediaKeys=function(){var i=new iu(this.g);return Promise.resolve(i)},ju.prototype.getConfiguration=function(){return this.h},iu.prototype.createSession=function(i){if("temporary"!=(i=i||"temporary")&&"persistent-license"!=i)throw new TypeError("Session type "+i+" is unsupported on this platform.");var r=this.h||document.createElement("video");return r.src||(r.src="about:blank"),i=new ou(r,this.l,i),this.i.push(i),i},iu.prototype.setServerCertificate=function(){return Promise.resolve(!1)},pa(ou,We),(s=ou.prototype).handleError=function(i){var r=Error("EME v0.1b key error"),o=i.errorCode;o.systemCode=i.systemCode,r.errorCode=o,!i.sessionId&&this.h?(45==i.systemCode&&(r.message="Unsupported session type."),this.h.reject(r),this.h=null):i.sessionId&&this.g?(this.g.reject(r),this.g=null):(r=i.systemCode,i.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?nu(this,"output-restricted"):nu(this,1==r?"expired":"internal-error"))},s.generateRequest=function(i,r){return qu(this,r,null)},s.load=function(i){return"persistent-license"==this.l?qu(this,null,i):Promise.reject(Error("Not a persistent session."))},s.update=function(i){var r=new lc;return ru(this,r,i),r},s.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var i=ku("cancelKeyRequest");try{this.j[i](this.i,this.sessionId)}catch(i){}}return this.closed.resolve(),this.closed},s.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(s=pu.prototype).Cb=function(){return this.g},s.forEach=function(i){this.g&&i(this.g,da.value())},s.get=function(i){if(this.has(i))return this.g},s.has=function(i){var r=da.value();return!(!this.g||!Db(i,r))},s.entries=function(){},s.keys=function(){},s.values=function(){};var _p="";function su(){}function tu(){if(i.HTMLVideoElement){var r=HTMLVideoElement.prototype;r.requestPictureInPicture&&document.exitPictureInPicture||!r.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,r.requestPictureInPicture=uu,Object.defineProperty(r,"disablePictureInPicture",{get:vu,set:wu,enumerable:!0,configurable:!0}),document.exitPictureInPicture=xu,document.addEventListener("webkitpresentationmodechanged",yu,!0))}}function yu(i){if("picture-in-picture"==(i=i.target).webkitPresentationMode){document.pictureInPictureElement=i;var r=new Event("enterpictureinpicture");i.dispatchEvent(r)}else document.pictureInPictureElement==i&&(document.pictureInPictureElement=null),r=new Event("leavepictureinpicture"),i.dispatchEvent(r)}function uu(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function xu(){var i=document.pictureInPictureElement;return i?(i.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function vu(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function wu(i){i?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function zu(){}function Au(){i.crypto&&("randomUUID"in i.crypto||(i.crypto.randomUUID=Bu))}function Bu(){var i=URL.createObjectURL(new Blob),r=i.toString();return URL.revokeObjectURL(i),r.substr(r.lastIndexOf("/")+1)}function Cu(){}function Du(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=Eu)}function Eu(){return new Promise((function(i,r){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(r,o){i({usage:r,quota:o})}),r)}))}function Fu(){}function Gu(){var i=Symbol.prototype;"description"in i||Object.defineProperty(i,"description",{get:Hu})}function Hu(){var i=/\((.*)\)/.exec(this.toString());return i?i[1]:void 0}function Iu(){}function Ju(){if(i.HTMLMediaElement){var r=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var i=r.apply(this);return i&&i.catch((function(){})),i}}}function Ku(){}function Lu(){if(i.HTMLVideoElement){var r=HTMLVideoElement.prototype;!r.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in r||uc())&&(r.getVideoPlaybackQuality=Mu)}}function Mu(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Nu(){}function Ou(){if(!i.VTTCue&&i.TextTrackCue){var r=null,o=TextTrackCue.length;if(3==o)r=Pu;else if(6==o)r=Qu;else{try{var s=!!Pu(1,2,"")}catch(i){s=!1}s&&(r=Pu)}r&&(i.VTTCue=function(i,o,s){return r(i,o,s)})}}function Pu(r,o,s){return new i.TextTrackCue(r,o,s)}function Qu(r,o,s){return new i.TextTrackCue(r+"-"+o+"-"+s,r,o,s)}function Ru(){}ot(eu),nt.PiPWebkit=su,su.install=tu,ot(tu),nt.RandomUUID=zu,zu.install=Au,ot(Au),nt.StorageEstimate=Cu,Cu.install=Du,ot(Du),nt.Symbol=Fu,Fu.install=Gu,ot(Gu),nt.VideoPlayPromise=Iu,Iu.install=Ju,ot(Ju),nt.VideoPlaybackQuality=Ku,Ku.install=Lu,ot(Lu),nt.VTTCue=Nu,Nu.install=Ou,ot(Ou),Ru.prototype.parseInit=function(){},Ru.prototype.setSequenceMode=function(){},Ru.prototype.parseMedia=function(i,r){for(var o=null,s=[],p=Bc(i).split(/\r?\n/),m=(p=t(p)).next();!m.done;m=p.next())if((m=m.value)&&!/^\s+$/.test(m)&&(m=Fp.exec(m))){var v=gg.exec(m[1]);m=new hb(v=60*parseInt(v[1],10)+parseFloat(v[2].replace(",",".")),r.segmentEnd?r.segmentEnd:v+2,m[2]),o&&(o.endTime=v,s.push(o)),o=m}return o&&s.push(o),s},M("shaka.text.LrcTextParser",Ru),Ru.prototype.parseMedia=Ru.prototype.parseMedia,Ru.prototype.setSequenceMode=Ru.prototype.setSequenceMode,Ru.prototype.parseInit=Ru.prototype.parseInit;var Fp=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,gg=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function Uu(){}function av(i,r,o,s,p,m,v,y,x,S,j){var D=i.parentNode;if(i.nodeType==Node.COMMENT_NODE)return null;if(i.nodeType==Node.TEXT_NODE){if(!j)return null;var P=document.createElement("span");P.textContent=i.textContent}else P=i;for(var L=null,_=t(tv),B=_.next();!B.done&&!(L=cv(P,"backgroundImage",s,"#",B.value)[0]);B=_.next());if(_=j,("p"==i.nodeName||L)&&(j=!0),y="default"==(P.getAttribute("xml:space")||(y?"default":"preserve")),i=[],!(B=Array.from(P.childNodes).every((function(i){return i.nodeType==Node.TEXT_NODE}))))for(var z=t(P.childNodes),$=z.next();!$.done;$=z.next())($=av($.value,r,o,s,p,m,v,y,x,P,j))&&i.push($);s=null!=S,z=/\S/.test(P.textContent);var fe=P.hasAttribute("begin")||P.hasAttribute("end")||P.hasAttribute("dur");if(!(fe||z||"br"==P.tagName||0!=i.length||s&&!y))return null;for(z=($=dv(P,o)).start,$=$.end;D&&D.nodeType==Node.ELEMENT_NODE&&"tt"!=D.tagName;)z=($=ev(D,o,z,$)).start,$=$.end,D=D.parentNode;if(null==z&&(z=0),z+=r,$=null==$?1/0:$+r,!fe&&0<i.length)for(z=1/0,$=0,o=(r=t(i)).next();!o.done;o=r.next())o=o.value,z=Math.min(z,o.startTime),$=Math.max($,o.endTime);if("br"==P.tagName)return(p=new hb(z,$,"")).lineBreak=!0,p;if(r="",B&&(r=P.textContent,y&&(r=(r=r.trim()).replace(/\s+/g," "))),(r=new hb(z,$,r)).nestedCues=i,j||(r.isContainer=!0),x&&(r.cellResolution=x),x=cv(P,"region",m,"")[0],P.hasAttribute("region")&&x&&x.getAttribute("xml:id")){var Ie=x.getAttribute("xml:id");r.region=v.filter((function(i){return i.id==Ie}))[0]}return v=x,S&&s&&!P.getAttribute("region")&&!P.getAttribute("style")&&(v=cv(S,"region",m,"")[0]),function fv(i,r,o,s,p,m,v){"rtl"==gv(r,o,p,"direction",m=m||v)&&(i.direction="rtl"),"tb"==(v=gv(r,o,p,"writingMode",m))||"tblr"==v?i.writingMode="vertical-lr":"tbrl"==v?i.writingMode="vertical-rl":"rltb"==v||"rl"==v?i.direction="rtl":v&&(i.direction=ue),(v=gv(r,o,p,"textAlign",!0))?(i.positionAlign=Om[v],i.lineAlign=Pm[v],i.textAlign=Y[v.toUpperCase()]):i.textAlign=G,(v=gv(r,o,p,"displayAlign",!0))&&(i.displayAlign=re[v.toUpperCase()]);(v=gv(r,o,p,"color",m))&&(i.color=v);(v=gv(r,o,p,"backgroundColor",m))&&(i.backgroundColor=v);(v=gv(r,o,p,"border",m))&&(i.border=v);(v=gv(r,o,p,"fontFamily",m))&&(i.fontFamily=v);(v=gv(r,o,p,"fontWeight",m))&&"bold"==v&&(i.fontWeight=700),v=gv(r,o,p,"wrapOption",m),i.wrapLine=!v||"noWrap"!=v,(v=gv(r,o,p,"lineHeight",m))&&v.match(Rg)&&(i.lineHeight=v),(v=gv(r,o,p,"fontSize",m))&&(v.match(Rg)||v.match(Ng))&&(i.fontSize=v),(v=gv(r,o,p,"fontStyle",m))&&(i.fontStyle=en[v.toUpperCase()]);if(s){v=s.getAttribute("imageType")||s.getAttribute("imagetype");var y=s.getAttribute("encoding");s=s.textContent.trim(),"PNG"==v&&"Base64"==y&&s&&(i.backgroundImage="data:image/png;base64,"+s)}(s=gv(r,o,p,"textOutline",m))&&((s=s.split(" "))[0].match(Rg)?i.textStrokeColor=i.color:(i.textStrokeColor=s[0],s.shift()),s[0]&&s[0].match(Rg)?i.textStrokeWidth=s[0]:i.textStrokeColor="");(s=gv(r,o,p,"letterSpacing",m))&&s.match(Rg)&&(i.letterSpacing=s),(s=gv(r,o,p,"linePadding",m))&&s.match(Rg)&&(i.linePadding=s),(m=gv(r,o,p,"opacity",m))&&(i.opacity=parseFloat(m));(o=$u(o,p,"textDecoration"))&&lv(i,o),(r=mv(r,p,"textDecoration"))&&lv(i,r)}(r,P,v,L,p,_,0==i.length),r}function lv(i,r){for(var o=t(r.split(" ")),s=o.next();!s.done;s=o.next())switch(s.value){case"underline":i.textDecoration.includes("underline")||i.textDecoration.push("underline");break;case"noUnderline":i.textDecoration.includes("underline")&&eb(i.textDecoration,"underline");break;case"lineThrough":i.textDecoration.includes("lineThrough")||i.textDecoration.push("lineThrough");break;case"noLineThrough":i.textDecoration.includes("lineThrough")&&eb(i.textDecoration,"lineThrough");break;case"overline":i.textDecoration.includes("overline")||i.textDecoration.push("overline");break;case"noOverline":i.textDecoration.includes("overline")&&eb(i.textDecoration,"overline")}}function gv(i,r,o,s,p){return p=void 0===p||p,(i=mv(i,o,s))?i:p?$u(r,o,s):null}function $u(i,r,o){if(!i)return null;var s=Uf(i,Hm,o);return s||nv(i,r,o)}function mv(i,r,o){var s=Uf(i,Hm,o);return s||nv(i,r,o)}function nv(i,r,o){i=cv(i,"style",r,"");for(var s=null,p=0;p<i.length;p++){var m=Tf(i[p],"urn:ebu:tt:style",o);m||(m=Uf(i[p],Hm,o)),m||(m=mv(i[p],r,o)),m&&(s=m)}return s}function cv(i,r,o,s,p){var m=[];if(!i||1>o.length)return m;var v=i;for(i=null;v&&!(i=p?Tf(v,p,r):v.getAttribute(r))&&(v=v.parentNode)instanceof Element;);if(r=i)for(p=(r=t(r.split(" "))).next();!p.done;p=r.next())for(p=p.value,v=(i=t(o)).next();!v.done;v=i.next())if(s+(v=v.value).getAttribute("xml:id")==p){m.push(v);break}return m}function ev(i,r,o,s){return i=dv(i,r),null==o?o=i.start:null!=i.start&&(o+=i.start),null==s?s=i.end:null!=i.start&&(s+=i.start),{start:o,end:s}}function dv(i,r){var o=ov(i.getAttribute("begin"),r),s=ov(i.getAttribute("end"),r),p=ov(i.getAttribute("dur"),r);return null==s&&null!=p&&(s=o+p),{start:o,end:s}}function ov(i,r){var o=null;if(_g.test(i)){o=_g.exec(i);var s=Number(o[1]),p=Number(o[2]),m=Number(o[3]),v=Number(o[4]);o=(m+=(v+=(Number(o[5])||0)/r.h)/r.frameRate)+60*p+3600*s}else if(Wg.test(i))o=rv(Wg,i);else if(Yg.test(i))o=rv(Yg,i);else if(em.test(i))o=em.exec(i),o=Number(o[1])/r.frameRate;else if(pm.test(i))o=pm.exec(i),o=Number(o[1])/r.g;else if(Nm.test(i))o=rv(Nm,i);else if(i)throw new N(2,2,2001,"Could not parse cue time range in TTML");return o}function rv(i,r){var o=i.exec(r);return null==o||""==o[0]?null:(Number(o[4])||0)/1e3+(Number(o[3])||0)+60*(Number(o[2])||0)+3600*(Number(o[1])||0)}function Xu(i,r,o,s){this.frameRate=Number(i)||30,this.h=Number(r)||1,this.g=Number(s),0==this.g&&(this.g=i?this.frameRate*this.h:1),o&&(i=/^(\d+) (\d+)$/g.exec(o))&&(this.frameRate*=Number(i[1])/Number(i[2]))}Xn["application/x-subtitle-lrc"]=function(){return new Ru},Uu.prototype.parseInit=function(){},Uu.prototype.setSequenceMode=function(){},Uu.prototype.parseMedia=function(i,r){var o=Bc(i),s=[];if(""==o)return s;var p=fg(o,"tt");if(!p)throw new N(2,2,2005,"Failed to parse TTML.");if(!(o=p.getElementsByTagName("body")[0]))return[];var m=Uf(p,_m,"frameRate"),v=Uf(p,_m,"subFrameRate"),y=Uf(p,_m,"frameRateMultiplier"),x=Uf(p,_m,"tickRate"),S=Uf(p,_m,"cellResolution"),j=p.getAttribute("xml:space")||"default",D=Uf(p,Hm,"extent");if("default"!=j&&"preserve"!=j)throw new N(2,2,2005,"Invalid xml:space value: "+j);j="default"==j,m=new Xu(m,v,y,x),S=S&&(S=/^(\d+) (\d+)$/.exec(S))?{columns:parseInt(S[1],10),rows:parseInt(S[2],10)}:null,v=(v=p.getElementsByTagName("metadata")[0])?function Sf(i){return Array.from(i.childNodes).filter((function(i){return i instanceof Element}))}(v):[],y=Array.from(p.getElementsByTagName("style")),x=[];for(var P=t(p=Array.from(p.getElementsByTagName("region"))),L=P.next();!L.done;L=P.next()){var _=L.value;L=new jb;var B=_.getAttribute("xml:id");if(B){L.id=B;var z,G,Y=null;D&&(Y=Tg.exec(D)||Og.exec(D)),B=Y?Number(Y[1]):null,Y=Y?Number(Y[2]):null,(z=$u(_,y,"extent"))&&(null!=(z=(G=Tg.exec(z))||Og.exec(z))&&(L.width=Number(z[1]),L.height=Number(z[2]),G||(null!=B&&(L.width=100*L.width/B),null!=Y&&(L.height=100*L.height/Y)),L.widthUnits=G||null!=B?nn:0,L.heightUnits=G||null!=Y?nn:0)),(_=$u(_,y,"origin"))&&(null!=(z=(G=Tg.exec(_))||Og.exec(_))&&(L.viewportAnchorX=Number(z[1]),L.viewportAnchorY=Number(z[2]),G||(null!=Y&&(L.viewportAnchorY=100*L.viewportAnchorY/Y),null!=B&&(L.viewportAnchorX=100*L.viewportAnchorX/B)),L.viewportAnchorUnits=G||null!=B?nn:0))}else L=null;L&&x.push(L)}if(Pf(o,"p").length)throw new N(2,2,2001,"<p> can only be inside <div> in TTML");for(P=(D=t(Pf(o,"div"))).next();!P.done;P=D.next())if(Pf(P.value,"span").length)throw new N(2,2,2001,"<span> can only be inside <p> in TTML");return(o=av(o,r.periodStart,m,v,y,p,x,j,S,null,!1))&&(o.backgroundColor||(o.backgroundColor="transparent"),s.push(o)),s},M("shaka.text.TtmlTextParser",Uu),Uu.prototype.parseMedia=Uu.prototype.parseMedia,Uu.prototype.setSequenceMode=Uu.prototype.setSequenceMode,Uu.prototype.parseInit=Uu.prototype.parseInit;var Tg=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,Ng=/^(\d{1,2}(?:\.\d+)?|100)%$/,Rg=/^(\d+px|\d+em|\d*\.?\d+c)$/,Og=/^(\d+)px (\d+)px$/,_g=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Wg=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,Yg=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,em=/^(\d*(?:\.\d*)?)f$/,pm=/^(\d*(?:\.\d*)?)t$/,Nm=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),Pm={left:_e,center:"center",right:"end",start:_e,end:"end"},Om={left:"line-left",center:"center",right:"line-right"},_m=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Hm=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],tv=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function wv(){this.g=new Uu}function xv(){this.g=!1}function zv(i){for(var r=t(Object.entries(He)),o=r.next();!o.done;o=r.next()){var s=t(o.value);o=s.next().value,s=s.next().value;var p=new hb(0,0,"");p.color=s,i.set(o,p)}for(o=(r=t(Object.entries(pt))).next();!o.done;o=r.next())o=(s=t(o.value)).next().value,s=s.next().value,(p=new hb(0,0,"")).backgroundColor=s,i.set(o,p)}function Av(i,r,o){0===o.size&&zv(o),i=function Cv(i){for(var r=[],o=-1,s="",p=0;p<i.length;p++)if("/"===i[p]){var m=i.indexOf(">",p);if(m<=p)return i;m=i.substring(p+1,m);var v=r.pop();if(!m||!v)return i;if(v===m)s+="/"+m+">";else{if(!v.startsWith("c.")||"c"!==m)return i;s+="/"+v+">"}p+=m.length+1}else"<"===i[p]?o=p+1:">"===i[p]&&0<o&&(r.push(i.substr(o,p-o)),o=-1),s+=i[p];return s}(i);for(var s=[],p=-1,m=0;m<i.length;m++)"<"===i[m]?p=m+1:">"===i[m]&&0<p&&((p=i.substr(p,m-p)).match(iv)&&s.push(p),p=-1);for(m=(s=t(s)).next();!m.done;m=s.next())m=m.value,i=i.replace("<"+m+">",'<div time="'+m+'">'),i+="</div>";if(m=fg("<span>"+i+"</span>","span")){if(s=[],1==(m=m.childNodes).length&&((p=m[0]).nodeType==Node.TEXT_NODE||p.nodeType==Node.CDATA_SECTION_NODE))return void(r.payload=i);for(m=(i=t(m)).next();!m.done;m=i.next())Ev(m.value,r,s,o);r.nestedCues=s}else r.payload=i}function Fv(i,r){return i&&0<i.length?i:r}function Ev(i,r,o,s){var p=r.clone();if(i.nodeType===Node.ELEMENT_NODE&&i.nodeName)for(var m=t(i.nodeName.split(/[ .]+/)),v=m.next();!v.done;v=m.next()){if(v=v.value,s.has(v)){var y=s.get(v);y&&(p.backgroundColor=Fv(y.backgroundColor,p.backgroundColor),p.color=Fv(y.color,p.color),p.fontFamily=Fv(y.fontFamily,p.fontFamily),p.fontSize=Fv(y.fontSize,p.fontSize),p.fontWeight=y.fontWeight,p.fontStyle=y.fontStyle,p.opacity=y.opacity,p.wrapLine=y.wrapLine)}switch(v){case"b":p.fontWeight=700;break;case"i":p.fontStyle="italic";break;case"u":p.textDecoration.push("underline");break;case"div":(v=i.getAttribute("time"))&&(v=yv(new iq(v)))&&(p.startTime=v)}}if(Wf(i))for(m=!0,s=t(i.textContent.split("\n")),i=s.next();!i.done;i=s.next())i=i.value,m||((m=r.clone()).lineBreak=!0,o.push(m)),0<i.length&&((m=p.clone()).payload=i,o.push(m)),m=!1;else for(i=(r=t(i.childNodes)).next();!i.done;i=r.next())Ev(i.value,p,o,s)}function Bv(i,r,o){var s;(s=/^align:(start|middle|center|end|left|right)$/.exec(r))?(r=s[1],i.textAlign="middle"==r?G:Y[r.toUpperCase()]):(s=/^vertical:(lr|rl)$/.exec(r))?i.writingMode="lr"==s[1]?"vertical-lr":"vertical-rl":(s=/^size:([\d.]+)%$/.exec(r))?i.size=Number(s[1]):(s=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(r))?(i.position=Number(s[1]),s[2]&&(r=s[2],i.positionAlign="line-left"==r||"start"==r?"line-left":"line-right"==r||"end"==r?"line-right":"center")):(s=/^region:(.*)$/.exec(r))?(r=function Gv(i,r){var o=i.filter((function(i){return i.id==r}));return o.length?o[0]:null}(o,s[1]))&&(i.region=r):(o=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(r))?(i.lineInterpretation=1,i.line=Number(o[1]),o[2]&&(i.lineAlign=Ve[o[2].toUpperCase()])):(o=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(r))&&(i.lineInterpretation=Ie,i.line=Number(o[1]),o[2]&&(i.lineAlign=Ve[o[2].toUpperCase()]))}function yv(i){if(null==(i=kq(i,iv)))return null;var r=Number(i[2]),o=Number(i[3]);return 59<r||59<o?null:Number(i[4])/1e3+o+60*r+3600*(Number(i[1])||0)}Xn["application/ttml+xml"]=function(){return new Uu},wv.prototype.parseInit=function(i){var r=!1;if((new Bf).box("moov",Ff).box("trak",Ff).box("mdia",Ff).box("minf",Ff).box("stbl",Ff).U("stsd",Hf).box("stpp",(function(i){r=!0,i.parser.stop()})).parse(i),!r)throw new N(2,2,2007)},wv.prototype.setSequenceMode=function(){},wv.prototype.parseMedia=function(i,r){var o=this,s=!1,p=[];if((new Bf).box("mdat",If((function(i){s=!0,p=p.concat(o.g.parseMedia(i,r))}))).parse(i,!1),!s)throw new N(2,2,2007);return p},M("shaka.text.Mp4TtmlParser",wv),wv.prototype.parseMedia=wv.prototype.parseMedia,wv.prototype.setSequenceMode=wv.prototype.setSequenceMode,wv.prototype.parseInit=wv.prototype.parseInit,Xn['application/mp4; codecs="stpp"']=function(){return new wv},Xn['application/mp4; codecs="stpp.ttml"']=function(){return new wv},Xn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new wv},Xn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new wv},xv.prototype.parseInit=function(){},xv.prototype.setSequenceMode=function(i){this.g=i},xv.prototype.parseMedia=function(i,r){var o=Bc(i),s=(o=o.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(s[0]))throw new N(2,2,2e3);if(o=r.vttOffset,s[0].includes("X-TIMESTAMP-MAP")&&this.g){var p=s[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),m=s[0].match(/MPEGTS:(\d+)/m);if(p&&m){if(null==(o=yv(new iq(p[1]))))throw new N(2,2,2e3);for(m=Number(m[1]),p=r.segmentStart-r.periodStart;95443.7176888889<=p;)p-=95443.7176888889,m+=8589934592;o=r.periodStart+m/9e4-o}}m=[];for(var v=(p=t(s[0].split("\n"))).next();!v.done;v=p.next())if(v=v.value,/^Region:/.test(v)){v=new iq(v);var y=new jb;lq(v),jq(v);for(var x=lq(v);x;){var S=y,j=x;(x=/^id=(.*)$/.exec(j))?S.id=x[1]:(x=/^width=(\d{1,2}|100)%$/.exec(j))?S.width=Number(x[1]):(x=/^lines=(\d+)$/.exec(j))?(S.height=Number(x[1]),S.heightUnits=2):(x=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(j))?(S.regionAnchorX=Number(x[1]),S.regionAnchorY=Number(x[2])):(x=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(j))?(S.viewportAnchorX=Number(x[1]),S.viewportAnchorY=Number(x[2])):/^scroll=up$/.exec(j)&&(S.scroll="up"),jq(v),x=lq(v)}m.push(y)}for(zv(p=new Map),v=[],y=(s=t(s.slice(1))).next();!y.done;y=s.next()){if((1!=(y=y.value.split("\n")).length||y[0])&&!/^NOTE($|[ \t])/.test(y[0])&&"STYLE"==y[0]&&y[1].includes("::cue")){S="global",(x=y[1].match(/\((.*)\)/))&&(S=x.pop()),x=y.slice(2,-1),y[1].includes("}")&&(j=/\{(.*?)\}/.exec(y[1]))&&(x=j[1].split(";")),j=new hb(0,0,"");for(var D=!1,P=0;P<x.length;P++){var L=/^\s*([^:]+):\s*(.*)/.exec(x[P]);if(L){var _=L[2].trim().replace(";","");switch(L[1].trim()){case"background-color":D=!0,j.backgroundColor=_;break;case"color":D=!0,j.color=_;break;case"font-family":D=!0,j.fontFamily=_;break;case"font-size":D=!0,j.fontSize=_;break;case"font-weight":700<=parseInt(_,10)&&(D=!0,j.fontWeight=700);break;case"font-style":switch(_){case"normal":D=!0,j.fontStyle=Bt;break;case"italic":D=!0,j.fontStyle="italic";break;case"oblique":D=!0,j.fontStyle="oblique"}break;case"opacity":D=!0,j.opacity=parseFloat(_);break;case"text-shadow":D=!0,j.textShadow=_;break;case"white-space":D=!0,j.wrapLine="noWrap"!=_}}}D&&p.set(S,j)}if(P=o,1==y.length&&!y[0]||/^NOTE($|[ \t])/.test(y[0])||"STYLE"==y[0])y=null;else{if(S=null,y[0].includes("--\x3e")||(S=y[0],y.splice(0,1)),j=yv(x=new iq(y[0])),L=kq(x,/[ \t]+--\x3e[ \t]+/g),D=yv(x),null==j||null==L||null==D)throw new N(2,2,2001,"Could not parse cue time range in WebVTT");for(j+=P,D+=P,P=y.slice(1).join("\n").trim(),p.has("global")?((y=p.get("global").clone()).startTime=j,y.endTime=D,y.payload=""):y=new hb(j,D,""),Av(P,y,p),jq(x),j=lq(x);j;)Bv(y,j,m),jq(x),j=lq(x);null!=S&&(y.id=S)}y&&v.push(y)}return v},M("shaka.text.VttTextParser",xv),xv.prototype.parseMedia=xv.prototype.parseMedia,xv.prototype.setSequenceMode=xv.prototype.setSequenceMode,xv.prototype.parseInit=xv.prototype.parseInit;var iv=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function Hv(){this.g=null}function Iv(i,r,o){var s,p,m;return(new Bf).box("payl",If((function(i){s=Bc(i)}))).box("iden",If((function(i){p=Bc(i)}))).box("sttg",If((function(i){m=Bc(i)}))).parse(i),s?function Jv(i,r,o,s,p){if(s=new hb(s,p,""),Av(i,s,new Map),r&&(s.id=r),o)for(i=new iq(o),r=lq(i);r;)Bv(s,r,[]),jq(i),r=lq(i);return s}(s,p,m,r,o):null}function Kv(){}function Lv(i){if(null==(i=kq(i,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var r=Number(i[2]),o=Number(i[3]);return 59<r||59<o?null:Number(i[4])/1e3+o+60*r+3600*(Number(i[1])||0)}function Mv(){this.g=new xv}function Nv(i){var r="WEBVTT\n\n";if(""==i)return r;for(var o=(i=t((i=(i=i.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!o.done;o=i.next())(o=o.value.split(/\n/))[0].match(/\d+/)&&o.shift(),o[0]=o[0].replace(/,/g,"."),r+=o.join("\n")+"\n\n";return r}function Ov(){}function Tv(i,r){var o=r.Fontname;if(o&&(i.fontFamily=o),(o=r.Fontsize)&&(i.fontSize=o+"px"),(o=r.PrimaryColour)&&(o=Uv(o))&&(i.color=o),(o=r.BackColour)&&(o=Uv(o))&&(i.backgroundColor=o),r.Bold&&(i.fontWeight=700),r.Italic&&(i.fontStyle="italic"),r.Underline&&i.textDecoration.push("underline"),(o=r.Spacing)&&(i.letterSpacing=o+"px"),o=r.Alignment)switch(parseInt(o,10)){case 1:i.displayAlign=$,i.textAlign="start";break;case 2:i.displayAlign=$,i.textAlign=G;break;case 3:i.displayAlign=$,i.textAlign="end";break;case 5:i.displayAlign="before",i.textAlign="start";break;case 6:i.displayAlign="before",i.textAlign=G;break;case 7:i.displayAlign="before",i.textAlign="end";break;case 9:i.displayAlign="center",i.textAlign="start";break;case 10:i.displayAlign="center",i.textAlign=G;break;case 11:i.displayAlign="center",i.textAlign="end"}(o=r.AlphaLevel)&&(i.opacity=parseFloat(o))}function Uv(i){return 0<=(i=parseInt(i.replace("&H",""),16))?"rgba("+(255&i)+","+(i>>8&255)+","+(i>>16&255)+","+(i>>24&255^255)/255+")":null}function Sv(i){return 3600*((i=bv.exec(i))[1]?parseInt(i[1].replace(":",""),10):0)+60*parseInt(i[2],10)+parseFloat(i[3])}Xn["text/vtt"]=function(){return new xv},Xn['text/vtt; codecs="vtt"']=function(){return new xv},Xn['text/vtt; codecs="wvtt"']=function(){return new xv},Hv.prototype.parseInit=function(i){var r=this,o=!1;if((new Bf).box("moov",Ff).box("trak",Ff).box("mdia",Ff).U("mdhd",(function(i){i=hi(i.reader,i.version),r.g=i.timescale})).box("minf",Ff).box("stbl",Ff).U("stsd",Hf).box("wvtt",(function(){o=!0})).parse(i),!this.g)throw new N(2,2,2008);if(!o)throw new N(2,2,2008)},Hv.prototype.setSequenceMode=function(){},Hv.prototype.parseMedia=function(i,r){if(!this.g)throw new N(2,2,2008);var o,s=0,p=[],m=[],v=!1,y=!1,x=!1,S=null;if((new Bf).box("moof",Ff).box("traf",Ff).U("tfdt",(function(i){v=!0,s=gi(i.reader,i.version).le})).U("tfhd",(function(i){S=fi(i.reader,i.flags).re})).U("trun",(function(i){y=!0,p=ii(i.reader,i.version,i.flags).Ke})).box("mdat",If((function(i){x=!0,o=i}))).parse(i,!1),!x&&!v&&!y)throw new N(2,2,2008);for(var j=s,D=new yf(o,0),P=t(p),L=P.next();!L.done;L=P.next()){var _=(L=L.value).Vd||S,B=L.ad?s+L.ad:j;j=B+(_||0);var z=0;do{var G=D.N();z+=G;var Y=null;"vttc"==Lf(D.N())?8<G&&(Y=D.Za(G-8)):D.skip(G-8),_&&Y&&(G=Iv(Y,r.periodStart+B/this.g,r.periodStart+j/this.g),m.push(G))}while(L.sampleSize&&z<L.sampleSize)}return m.filter(dc)},M("shaka.text.Mp4VttParser",Hv),Hv.prototype.parseMedia=Hv.prototype.parseMedia,Hv.prototype.setSequenceMode=Hv.prototype.setSequenceMode,Hv.prototype.parseInit=Hv.prototype.parseInit,Xn['application/mp4; codecs="wvtt"']=function(){return new Hv},Kv.prototype.parseInit=function(){},Kv.prototype.setSequenceMode=function(){},Kv.prototype.parseMedia=function(i){var r=Bc(i).replace(/\r+/g,"");if(i=[],""==(r=r.trim()))return i;for(var o=(r=t(r.split("\n\n"))).next();!o.done;o=r.next()){var s=new iq((o=o.value.split("\n"))[0]),p=Lv(s),m=kq(s,/,/g);if(s=Lv(s),null==p||null==m||null==s)throw new N(2,2,2001,"Could not parse cue time range in SubViewer");i.push(new hb(p,s,o.slice(1).join("\n").trim()))}return i},M("shaka.text.SbvTextParser",Kv),Kv.prototype.parseMedia=Kv.prototype.parseMedia,Kv.prototype.setSequenceMode=Kv.prototype.setSequenceMode,Kv.prototype.parseInit=Kv.prototype.parseInit,Xn["text/x-subviewer"]=function(){return new Kv},Mv.prototype.parseInit=function(){},Mv.prototype.setSequenceMode=function(){},Mv.prototype.parseMedia=function(i,r){var o=Bc(i);return o=Fb(Ic(o=Nv(o))),this.g.parseMedia(o,r)},M("shaka.text.SrtTextParser",Mv),Mv.srt2webvtt=Nv,Mv.prototype.parseMedia=Mv.prototype.parseMedia,Mv.prototype.setSequenceMode=Mv.prototype.setSequenceMode,Mv.prototype.parseInit=Mv.prototype.parseInit,Xn["text/srt"]=function(){return new Mv},Ov.prototype.parseInit=function(){},Ov.prototype.setSequenceMode=function(){},Ov.prototype.parseMedia=function(i){for(var r="",o="",s=(i=t(i=Bc(i).split(/\r?\n\s*\r?\n/))).next();!s.done;s=i.next()){var p=hv.exec(s.value);p&&(s=p[1],p=p[2],"V4 Styles"==s||"V4+ Styles"==s?r=p:"Events"==s&&(o=p))}i=[],s=null;for(var m=(r=t(r.split(/\r?\n/))).next();!m.done;m=r.next())if(p=m.value,!/^\s*;/.test(p)&&(m=pv.exec(p)))if(p=m[1].trim(),m=m[2].trim(),"Format"==p)s=m.split(vv);else if("Style"==p){p=m.split(vv),m={};for(var v=0;v<s.length&&v<p.length;v++)m[s[v]]=p[v];i.push(m)}for(s=[],r=null,p={},m=(o=t(o.split(/\r?\n/))).next();!m.done;p={sd:p.sd},m=o.next())if(m=m.value,!/^\s*;/.test(m)&&(v=pv.exec(m)))if(m=v[1].trim(),v=v[2].trim(),"Format"==m)r=v.split(vv);else if("Dialogue"==m){v=v.split(vv),m={};for(var y=0;y<r.length&&y<v.length;y++)m[r[y]]=v[y];v=new hb(y=Sv(m.Start),Sv(m.End),v.slice(r.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),p.sd=m.Style,(m=i.find(function(i){return function(r){return r.Name==i.sd}}(p)))&&Tv(v,m),s.push(v)}return s},M("shaka.text.SsaTextParser",Ov),Ov.prototype.parseMedia=Ov.prototype.parseMedia,Ov.prototype.setSequenceMode=Ov.prototype.setSequenceMode,Ov.prototype.parseInit=Ov.prototype.parseInit;var sv,uv,hv=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,pv=/^\s*([^:]+):\s*(.*)/,vv=/\s*,\s*/,bv=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function Wv(){}function Xv(i,r,o){function d(i){Ib(p).setUint32(m,i.byteLength,!0),m+=4,p.set(Fb(i),m),m+=i.byteLength}if(!o||!o.byteLength)throw new N(2,6,6015);var s;s="string"==typeof r?Jc(r,!0):r,i=Jc(i=Ec(i),!0);var p=new Uint8Array(12+i.byteLength+s.byteLength+o.byteLength),m=0;return d(i),d(s),d(o),p}function Yv(){}function $v(){sv?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(sv=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=aw):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function aw(i,r){var o,s=this;return K((function(p){return 1==p.g?(console.assert(s==navigator,'bad "this" for requestMediaKeySystemAccess'),u(p,sv.call(s,i,r),2)):bw(o=p.h)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=sv,p.return(o)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=cw,p.return(cw.call(s,i,r)))}))}function cw(i,r){var o,s,p,m,v,y,x,S,j,D,P=this;return K((function(L){if(1==L.g){for(console.assert(P==navigator,'bad "this" for requestMediaKeySystemAccess'),o=dw(i),s=[],p=t(r),m=p.next();!m.done;m=p.next())v=m.value,y=ew(v.videoCapabilities,o),x=ew(v.audioCapabilities,o),v.videoCapabilities&&v.videoCapabilities.length&&!y.length||v.audioCapabilities&&v.audioCapabilities.length&&!x.length||((S=Object.assign({},v)).videoCapabilities=y,S.audioCapabilities=x,s.push(S));if(!s.length)throw(j=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",j.code=DOMException.NOT_SUPPORTED_ERR,j;return u(L,sv.call(P,i,s),2)}return D=L.h,L.return(new fw(D,o))}))}function ew(i,r){return i?i.filter((function(i){return!i.encryptionScheme||i.encryptionScheme==r})):i}function gw(){}function iw(){uv?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(uv=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=jw):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function jw(i){var r,o,s,p=this;return K((function(m){switch(m.g){case 1:return console.assert(p==navigator.mediaCapabilities,'bad "this" for decodingInfo'),u(m,uv.call(p,i),2);case 2:if(r=m.h,!i.keySystemConfiguration)return m.return(r);if((o=r.keySystemAccess)&&bw(o))return console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=uv,m.return(r);if(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=kw,o){m.A(3);break}return s=r,u(m,lw(i),4);case 4:return s.keySystemAccess=m.h,m.return(r);case 3:return m.return(kw.call(p,i))}}))}function kw(i){var r,o,s,p,m,v,y,x,S=this;return K((function(j){switch(j.g){case 1:return console.assert(S==navigator.mediaCapabilities,'bad "this" for decodingInfo'),r=null,i.keySystemConfiguration&&(o=i.keySystemConfiguration,s=o.keySystem,p=o.audio&&o.audio.encryptionScheme,m=o.video&&o.video.encryptionScheme,r=dw(s),v={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:i},p&&p!=r||m&&m!=r)?j.return(v):u(j,uv.call(S,i),2);case 2:if((y=j.h).keySystemAccess){y.keySystemAccess=new fw(y.keySystemAccess,r),j.A(3);break}if(!i.keySystemConfiguration){j.A(3);break}return x=y,u(j,lw(i),5);case 5:x.keySystemAccess=j.h;case 3:return j.return(y)}}))}function lw(i){var r,o;return K((function(s){if(1==s.g){var p=i.keySystemConfiguration,m=[],v=[];return p.audio&&m.push({robustness:p.audio.robustness||"",contentType:i.audio.contentType}),p.video&&v.push({robustness:p.video.robustness||"",contentType:i.video.contentType}),p={initDataTypes:p.initDataType?[p.initDataType]:[],distinctiveIdentifier:p.distinctiveIdentifier,persistentState:p.persistentState,sessionTypes:p.sessionTypes},m.length&&(p.audioCapabilities=m),v.length&&(p.videoCapabilities=v),r=p,u(s,navigator.requestMediaKeySystemAccess(i.keySystemConfiguration.keySystem,[r]),2)}return o=s.h,s.return(o)}))}function fw(i,r){this.h=i,this.g=r,this.keySystem=i.keySystem}function dw(i){return i.startsWith("com.widevine")||i.startsWith("com.microsoft")||i.startsWith("com.chromecast")||i.startsWith("com.adobe")||i.startsWith("org.w3")?"cenc":i.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",i,"Please contribute!"),null)}function bw(i){var r=(i=i.getConfiguration()).audioCapabilities&&i.audioCapabilities[0];return!(!(i=i.videoCapabilities&&i.videoCapabilities[0]||r)||void 0===i.encryptionScheme)}function mw(){}function vt(){$v(),iw()}Xn["text/x-ssa"]=function(){return new Ov},M("shaka.util.FairPlayUtils",Wv),Wv.commonFairPlayResponse=function(i,r){if(2===i){try{var o=Bc(r.data)}catch(i){return}var s=!1;"<ckc>"===(o=o.trim()).substr(0,5)&&"</ckc>"===o.substr(-6)&&(o=o.slice(5,-6),s=!0);try{var p=JSON.parse(o);p.ckc&&(o=p.ckc,s=!0),p.CkcMessage&&(o=p.CkcMessage,s=!0),p.License&&(o=p.License,s=!0)}catch(i){}s&&(r.data=Gb(Nc(o)))}},Wv.conaxFairPlayRequest=function(i,r){2===i&&(r.headers["Content-Type"]="application/octet-stream")},Wv.ezdrmFairPlayRequest=function(i,r){2===i&&(r.headers["Content-Type"]="application/octet-stream")},Wv.verimatrixFairPlayRequest=function(i,r){if(2===i){var o=Fb(r.body);o=Mc(o),r.headers["Content-Type"]="application/x-www-form-urlencoded",r.body=Ic("spc="+o)}},Wv.conaxInitDataTransform=function(r,o,s){if("skd"!==o)return r;o=s.serverCertificate,s=Ec(r).split("skd://").pop().split("?").shift(),s=i.atob(s);var p=new ArrayBuffer(2*s.length);p=new Uint16Array(p);for(var m=0,v=s.length;m<v;m++)p[m]=s.charCodeAt(m);return Xv(r,p,o)},Wv.ezdrmInitDataTransform=function(i,r,o){return"skd"!==r?i:(r=o.serverCertificate,Xv(i,o=Ec(i).split(";").pop(),r))},Wv.verimatrixInitDataTransform=function(i,r,o){return"skd"!==r?i:(r=o.serverCertificate,Xv(i,o=Ec(i).split("skd://").pop(),r))},Wv.initDataTransform=Xv,Wv.defaultGetContentId=function(i){return new Nb(i=Ec(i)).Ga},Wv.isFairPlaySupported=function(){var i;return K((function(r){return 1==r.g?(i={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},C(r,2),u(r,navigator.requestMediaKeySystemAccess("com.apple.fps",[i]),4)):2!=r.g?r.return(!0):(F(r),r.return(!1))}))},M("EmeEncryptionSchemePolyfill",Yv),Yv.install=$v,M("McEncryptionSchemePolyfill",gw),gw.install=iw,fw.prototype.getConfiguration=function(){var i=this.h.getConfiguration();if(i.videoCapabilities)for(var r=t(i.videoCapabilities),o=r.next();!o.done;o=r.next())o.value.encryptionScheme=this.g;if(i.audioCapabilities)for(o=(r=t(i.audioCapabilities)).next();!o.done;o=r.next())o.value.encryptionScheme=this.g;return i},fw.prototype.createMediaKeys=function(){return this.h.createMediaKeys()},M("EncryptionSchemePolyfills",mw),mw.install=vt,void 0!==o&&o.exports&&(o.exports=mw)}.call(s,o,o,void 0),s.shaka)r[p]=s.shaka[p]}()}).call(this,o("n3a2"))},"f3G/":function(i,r,o){!function(r,o,s){i.exports=s(),i.exports.default=s()}(0,0,(function(){var i=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","Â¢":"cent","Â£":"pound","Â¤":"currency","Â¥":"yen","Â©":"(c)","Âª":"a","Â®":"(r)","Âº":"o","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"AE","Ã":"C","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã":"D","Ã":"N","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã":"Y","Ã":"TH","Ã":"ss","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã¦":"ae","Ã§":"c","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã°":"d","Ã±":"n","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã½":"y","Ã¾":"th","Ã¿":"y","Ä":"A","Ä":"a","Ä":"A","Ä":"a","Ä":"A","Ä":"a","Ä":"C","Ä":"c","Ä":"C","Ä":"c","Ä":"D","Ä":"d","Ä":"DJ","Ä":"dj","Ä":"E","Ä":"e","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"E","Ä":"e","Ä":"G","Ä":"g","Ä¢":"G","Ä£":"g","Ä¨":"I","Ä©":"i","Äª":"i","Ä«":"i","Ä®":"I","Ä¯":"i","Ä°":"I","Ä±":"i","Ä¶":"k","Ä·":"k","Ä»":"L","Ä¼":"l","Ä½":"L","Ä¾":"l","Å":"L","Å":"l","Å":"N","Å":"n","Å":"N","Å":"n","Å":"N","Å":"n","Å":"O","Å":"o","Å":"O","Å":"o","Å":"OE","Å":"oe","Å":"R","Å":"r","Å":"R","Å":"r","Å":"S","Å":"s","Å":"S","Å":"s","Å ":"S","Å¡":"s","Å¢":"T","Å£":"t","Å¤":"T","Å¥":"t","Å¨":"U","Å©":"u","Åª":"u","Å«":"u","Å®":"U","Å¯":"u","Å°":"U","Å±":"u","Å²":"U","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Åº":"z","Å»":"Z","Å¼":"z","Å½":"Z","Å¾":"z","Æ":"E","Æ":"f","Æ ":"O","Æ¡":"o","Æ¯":"U","Æ°":"u","Ç":"LJ","Ç":"lj","Ç":"NJ","Ç":"nj","È":"S","È":"s","È":"T","È":"t","É":"e","Ë":"o","Î":"A","Î":"E","Î":"H","Î":"I","Î":"O","Î":"Y","Î":"W","Î":"i","Î":"A","Î":"B","Î":"G","Î":"D","Î":"E","Î":"Z","Î":"H","Î":"8","Î":"I","Î":"K","Î":"L","Î":"M","Î":"N","Î":"3","Î":"O","Î ":"P","Î¡":"R","Î£":"S","Î¤":"T","Î¥":"Y","Î¦":"F","Î§":"X","Î¨":"PS","Î©":"W","Îª":"I","Î«":"Y","Î¬":"a","Î­":"e","Î®":"h","Î¯":"i","Î°":"y","Î±":"a","Î²":"b","Î³":"g","Î´":"d","Îµ":"e","Î¶":"z","Î·":"h","Î¸":"8","Î¹":"i","Îº":"k","Î»":"l","Î¼":"m","Î½":"n","Î¾":"3","Î¿":"o","Ï":"p","Ï":"r","Ï":"s","Ï":"s","Ï":"t","Ï":"y","Ï":"f","Ï":"x","Ï":"ps","Ï":"w","Ï":"i","Ï":"y","Ï":"o","Ï":"y","Ï":"w","Ð":"Yo","Ð":"DJ","Ð":"Ye","Ð":"I","Ð":"Yi","Ð":"J","Ð":"LJ","Ð":"NJ","Ð":"C","Ð":"DZ","Ð":"A","Ð":"B","Ð":"V","Ð":"G","Ð":"D","Ð":"E","Ð":"Zh","Ð":"Z","Ð":"I","Ð":"J","Ð":"K","Ð":"L","Ð":"M","Ð":"N","Ð":"O","Ð":"P","Ð ":"R","Ð¡":"S","Ð¢":"T","Ð£":"U","Ð¤":"F","Ð¥":"H","Ð¦":"C","Ð§":"Ch","Ð¨":"Sh","Ð©":"Sh","Ðª":"U","Ð«":"Y","Ð¬":"","Ð­":"E","Ð®":"Yu","Ð¯":"Ya","Ð°":"a","Ð±":"b","Ð²":"v","Ð³":"g","Ð´":"d","Ðµ":"e","Ð¶":"zh","Ð·":"z","Ð¸":"i","Ð¹":"j","Ðº":"k","Ð»":"l","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"p","Ñ":"r","Ñ":"s","Ñ":"t","Ñ":"u","Ñ":"f","Ñ":"h","Ñ":"c","Ñ":"ch","Ñ":"sh","Ñ":"sh","Ñ":"u","Ñ":"y","Ñ":"","Ñ":"e","Ñ":"yu","Ñ":"ya","Ñ":"yo","Ñ":"dj","Ñ":"ye","Ñ":"i","Ñ":"yi","Ñ":"j","Ñ":"lj","Ñ":"nj","Ñ":"c","Ñ":"u","Ñ":"dz","Ò":"G","Ò":"g","Ò":"GH","Ò":"gh","Ò":"KH","Ò":"kh","Ò¢":"NG","Ò£":"ng","Ò®":"UE","Ò¯":"ue","Ò°":"U","Ò±":"u","Òº":"H","Ò»":"h","Ó":"AE","Ó":"ae","Ó¨":"OE","Ó©":"oe","Ô±":"A","Ô²":"B","Ô³":"G","Ô´":"D","Ôµ":"E","Ô¶":"Z","Ô·":"E\'","Ô¸":"Y\'","Ô¹":"T\'","Ôº":"JH","Ô»":"I","Ô¼":"L","Ô½":"X","Ô¾":"C\'","Ô¿":"K","Õ":"H","Õ":"D\'","Õ":"GH","Õ":"TW","Õ":"M","Õ":"Y","Õ":"N","Õ":"SH","Õ":"CH","Õ":"P","Õ":"J","Õ":"R\'","Õ":"S","Õ":"V","Õ":"T","Õ":"R","Õ":"C","Õ":"P\'","Õ":"Q\'","Õ":"O\'\'","Õ":"F","Ö":"EV","Ø¡":"a","Ø¢":"aa","Ø£":"a","Ø¤":"u","Ø¥":"i","Ø¦":"e","Ø§":"a","Ø¨":"b","Ø©":"h","Øª":"t","Ø«":"th","Ø¬":"j","Ø­":"h","Ø®":"kh","Ø¯":"d","Ø°":"th","Ø±":"r","Ø²":"z","Ø³":"s","Ø´":"sh","Øµ":"s","Ø¶":"dh","Ø·":"t","Ø¸":"z","Ø¹":"a","Øº":"gh","Ù":"f","Ù":"q","Ù":"k","Ù":"l","Ù":"m","Ù":"n","Ù":"h","Ù":"w","Ù":"a","Ù":"y","Ù":"an","Ù":"on","Ù":"en","Ù":"a","Ù":"u","Ù":"e","Ù":"","Ù ":"0","Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Ù¾":"p","Ú":"ch","Ú":"zh","Ú©":"k","Ú¯":"g","Û":"y","Û°":"0","Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9","à¸¿":"baht","á":"a","á":"b","á":"g","á":"d","á":"e","á":"v","á":"z","á":"t","á":"i","á":"k","á":"l","á":"m","á":"n","á":"o","á":"p","á":"zh","á ":"r","á¡":"s","á¢":"t","á£":"u","á¤":"f","á¥":"k","á¦":"gh","á§":"q","á¨":"sh","á©":"ch","áª":"ts","á«":"dz","á¬":"ts","á­":"ch","á®":"kh","á¯":"j","á°":"h","á¹¢":"S","á¹£":"s","áº":"W","áº":"w","áº":"W","áº":"w","áº":"W","áº":"w","áº":"SS","áº ":"A","áº¡":"a","áº¢":"A","áº£":"a","áº¤":"A","áº¥":"a","áº¦":"A","áº§":"a","áº¨":"A","áº©":"a","áºª":"A","áº«":"a","áº¬":"A","áº­":"a","áº®":"A","áº¯":"a","áº°":"A","áº±":"a","áº²":"A","áº³":"a","áº´":"A","áºµ":"a","áº¶":"A","áº·":"a","áº¸":"E","áº¹":"e","áºº":"E","áº»":"e","áº¼":"E","áº½":"e","áº¾":"E","áº¿":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"E","á»":"e","á»":"I","á»":"i","á»":"I","á»":"i","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á»":"O","á»":"o","á» ":"O","á»¡":"o","á»¢":"O","á»£":"o","á»¤":"U","á»¥":"u","á»¦":"U","á»§":"u","á»¨":"U","á»©":"u","á»ª":"U","á»«":"u","á»¬":"U","á»­":"u","á»®":"U","á»¯":"u","á»°":"U","á»±":"u","á»²":"Y","á»³":"y","á»´":"Y","á»µ":"y","á»¶":"Y","á»·":"y","á»¸":"Y","á»¹":"y","â":"-","â":"\'","â":"\'","â":"\\"","â":"\\"","â":"\\"","â ":"+","â¢":"*","â¦":"...","â ":"ecu","â¢":"cruzeiro","â£":"french franc","â¤":"lira","â¥":"mill","â¦":"naira","â§":"peseta","â¨":"rupee","â©":"won","âª":"new shequel","â«":"dong","â¬":"euro","â­":"kip","â®":"tugrik","â¯":"drachma","â°":"penny","â±":"peso","â²":"guarani","â³":"austral","â´":"hryvnia","âµ":"cedi","â¸":"kazakhstani tenge","â¹":"indian rupee","âº":"turkish lira","â½":"russian ruble","â¿":"bitcoin","â ":"sm","â¢":"tm","â":"d","â":"delta","â":"sum","â":"infinity","â¥":"love","å":"yuan","å":"yen","ï·¼":"rial","ï»µ":"laa","ï»·":"laa","ï»¹":"lai","ï»»":"la"}'),r=JSON.parse('{"bg":{"Ð":"Y","Ð¦":"Ts","Ð©":"Sht","Ðª":"A","Ð¬":"Y","Ð¹":"y","Ñ":"ts","Ñ":"sht","Ñ":"a","Ñ":"y"},"de":{"Ã":"AE","Ã¤":"ae","Ã":"OE","Ã¶":"oe","Ã":"UE","Ã¼":"ue","Ã":"ss","%":"prozent","&":"und","|":"oder","â":"summe","â":"unendlich","â¥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","Â¢":"centavos","Â£":"libras","Â¤":"moneda","â£":"francos","â":"suma","â":"infinito","â¥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","Â¢":"centime","Â£":"livre","Â¤":"devise","â£":"franc","â":"somme","â":"infini","â¥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","Â¢":"centavo","â":"soma","Â£":"libra","â":"infinito","â¥":"amor"},"uk":{"Ð":"Y","Ð¸":"y","Ð":"Y","Ð¹":"y","Ð¦":"Ts","Ñ":"ts","Ð¥":"Kh","Ñ":"kh","Ð©":"Shch","Ñ":"shch","Ð":"H","Ð³":"h"},"vi":{"Ä":"D","Ä":"d"},"da":{"Ã":"OE","Ã¸":"oe","Ã":"AA","Ã¥":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"stÃ¸rre end"},"nb":{"&":"og","Ã":"AA","Ã":"AE","Ã":"OE","Ã¥":"aa","Ã¦":"ae","Ã¸":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Ã":"AA","Ã":"AE","Ã":"OE","Ã¥":"aa","Ã¤":"ae","Ã¶":"oe"}}');function replace(o,s){if("string"!=typeof o)throw new Error("slugify: string argument expected");var p=r[(s="string"==typeof s?{replacement:s}:s||{}).locale]||{},m=void 0===s.replacement?"-":s.replacement,v=void 0===s.trim||s.trim,y=o.normalize().split("").reduce((function(r,o){var v=p[o]||i[o]||o;return v===m&&(v=" "),r+v.replace(s.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")}),"");return s.strict&&(y=y.replace(/[^A-Za-z0-9\s]/g,"")),v&&(y=y.trim()),y=y.replace(/\s+/g,m),s.lower&&(y=y.toLowerCase()),y}return replace.extend=function(r){Object.assign(i,r)},replace}))},"ltD/":function(i,r,o){"use strict";var s,p,m,v;if("object"==typeof performance&&"function"==typeof performance.now){var y=performance;r.unstable_now=function(){return y.now()}}else{var x=Date,S=x.now();r.unstable_now=function(){return x.now()-S}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var j=null,D=null,w=function(){if(null!==j)try{var i=r.unstable_now();j(!0,i),j=null}catch(i){throw setTimeout(w,0),i}};s=function(i){null!==j?setTimeout(s,0,i):(j=i,setTimeout(w,0))},p=function(i,r){D=setTimeout(i,r)},m=function(){clearTimeout(D)},r.unstable_shouldYield=function(){return!1},v=r.unstable_forceFrameRate=function(){}}else{var P=window.setTimeout,L=window.clearTimeout;if("undefined"!=typeof console){var _=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof _&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var B=!1,z=null,G=-1,Y=5,$=0;r.unstable_shouldYield=function(){return r.unstable_now()>=$},v=function(){},r.unstable_forceFrameRate=function(i){0>i||125<i?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<i?Math.floor(1e3/i):5};var re=new MessageChannel,ue=re.port2;re.port1.onmessage=function(){if(null!==z){var i=r.unstable_now();$=i+Y;try{z(!0,i)?ue.postMessage(null):(B=!1,z=null)}catch(i){throw ue.postMessage(null),i}}else B=!1},s=function(i){z=i,B||(B=!0,ue.postMessage(null))},p=function(i,o){G=P((function(){i(r.unstable_now())}),o)},m=function(){L(G),G=-1}}function H(i,r){var o=i.length;i.push(r);e:for(;;){var s=o-1>>>1,p=i[s];if(!(void 0!==p&&0<I(p,r)))break e;i[s]=r,i[o]=p,o=s}}function J(i){return void 0===(i=i[0])?null:i}function K(i){var r=i[0];if(void 0!==r){var o=i.pop();if(o!==r){i[0]=o;e:for(var s=0,p=i.length;s<p;){var m=2*(s+1)-1,v=i[m],y=m+1,x=i[y];if(void 0!==v&&0>I(v,o))void 0!==x&&0>I(x,v)?(i[s]=x,i[y]=o,s=y):(i[s]=v,i[m]=o,s=m);else{if(!(void 0!==x&&0>I(x,o)))break e;i[s]=x,i[y]=o,s=y}}}return r}return null}function I(i,r){var o=i.sortIndex-r.sortIndex;return 0!==o?o:i.id-r.id}var fe=[],Ie=[],_e=1,Ve=null,He=3,pt=!1,_t=!1,Bt=!1;function T(i){for(var r=J(Ie);null!==r;){if(null===r.callback)K(Ie);else{if(!(r.startTime<=i))break;K(Ie),r.sortIndex=r.expirationTime,H(fe,r)}r=J(Ie)}}function U(i){if(Bt=!1,T(i),!_t)if(null!==J(fe))_t=!0,s(V);else{var r=J(Ie);null!==r&&p(U,r.startTime-i)}}function V(i,o){_t=!1,Bt&&(Bt=!1,m()),pt=!0;var s=He;try{for(T(o),Ve=J(fe);null!==Ve&&(!(Ve.expirationTime>o)||i&&!r.unstable_shouldYield());){var v=Ve.callback;if("function"==typeof v){Ve.callback=null,He=Ve.priorityLevel;var y=v(Ve.expirationTime<=o);o=r.unstable_now(),"function"==typeof y?Ve.callback=y:Ve===J(fe)&&K(fe),T(o)}else K(fe);Ve=J(fe)}if(null!==Ve)var x=!0;else{var S=J(Ie);null!==S&&p(U,S.startTime-o),x=!1}return x}finally{Ve=null,He=s,pt=!1}}var en=v;r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(i){i.callback=null},r.unstable_continueExecution=function(){_t||pt||(_t=!0,s(V))},r.unstable_getCurrentPriorityLevel=function(){return He},r.unstable_getFirstCallbackNode=function(){return J(fe)},r.unstable_next=function(i){switch(He){case 1:case 2:case 3:var r=3;break;default:r=He}var o=He;He=r;try{return i()}finally{He=o}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=en,r.unstable_runWithPriority=function(i,r){switch(i){case 1:case 2:case 3:case 4:case 5:break;default:i=3}var o=He;He=i;try{return r()}finally{He=o}},r.unstable_scheduleCallback=function(i,o,v){var y=r.unstable_now();switch("object"==typeof v&&null!==v?v="number"==typeof(v=v.delay)&&0<v?y+v:y:v=y,i){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return i={id:_e++,callback:o,priorityLevel:i,startTime:v,expirationTime:x=v+x,sortIndex:-1},v>y?(i.sortIndex=v,H(Ie,i),null===J(fe)&&i===J(Ie)&&(Bt?m():Bt=!0,p(U,v-y))):(i.sortIndex=x,H(fe,i),_t||pt||(_t=!0,s(V))),i},r.unstable_wrapCallback=function(i){var r=He;return function(){var o=He;He=r;try{return i.apply(this,arguments)}finally{He=o}}}}}]);